
<!doctype html>
<html lang="it" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://posware.io/4.3/posware-modules/celiac/integrazione-bonus-celiachia-posware.html">
      
      
        <link rel="prev" href="informazioni-generali.html">
      
      
        <link rel="next" href="rendicontazione-celiachia.html">
      
      
      <link rel="icon" href="../../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>Integrazione bonus celiachia Posware - Posware official docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      

  
  
  
  
  <style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M12%209.5A2.5%202.5%200%200%200%209.5%2012a2.5%202.5%200%200%200%202.5%202.5%202.5%202.5%200%200%200%202.5-2.5A2.5%202.5%200%200%200%2012%209.5m0%203.5a1%201%200%200%201-1-1%201%201%200%200%201%201-1%201%201%200%200%201%201%201%201%201%200%200%201-1%201m0-3.5A2.5%202.5%200%200%200%209.5%2012a2.5%202.5%200%200%200%202.5%202.5%202.5%202.5%200%200%200%202.5-2.5A2.5%202.5%200%200%200%2012%209.5m0%203.5a1%201%200%200%201-1-1%201%201%200%200%201%201-1%201%201%200%200%201%201%201%201%201%200%200%201-1%201m0-11A10%2010%200%200%200%202%2012a10%2010%200%200%200%2010%2010%2010%2010%200%200%200%2010-10A10%2010%200%200%200%2012%202m0%2014c-2.63%200-5-1.57-6-4a6.505%206.505%200%200%201%208.5-3.5A6.52%206.52%200%200%201%2018%2012c-1%202.43-3.37%204-6%204m0-6.5A2.5%202.5%200%200%200%209.5%2012a2.5%202.5%200%200%200%202.5%202.5%202.5%202.5%200%200%200%202.5-2.5A2.5%202.5%200%200%200%2012%209.5m0%203.5a1%201%200%200%201-1-1%201%201%200%200%201%201-1%201%201%200%200%201%201%201%201%201%200%200%201-1%201%22/%3E%3C/svg%3E');}</style>


    
    
      
        <script src="https://unpkg.com/iframe-worker/shim"></script>
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#specifiche-integrazione-bonus-celiachia-in-posware" class="md-skip">
          Vai al contenuto
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
Non stai visualizzando l'ultima versione della documentazione.
<a href="../../..">
    <strong>Clicca qui per andare all'ultima versione.</strong>
</a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Intestazione">
    <a href="../../index.html" title="Posware official docs" class="md-header__button md-logo" aria-label="Posware official docs" data-md-component="logo">
      
  <img src="../../assets/images/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Posware official docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Integrazione bonus celiachia Posware
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Cerca" placeholder="Cerca" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Cerca">
        
        <button type="reset" class="md-search__icon md-icon" title="Cancella" aria-label="Cancella" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inizializza la ricerca
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html" class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../getting-started/installazione-posware-frontend/overview-generale.html" class="md-tabs__link">
          
  
  
    
  
  Getting started

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../main-module/statistiche-dettagliate.html" class="md-tabs__link">
          
  
  
    
  
  Moduli

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigazione" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="Posware official docs" class="md-nav__button md-logo" aria-label="Posware official docs" data-md-component="logo">
      
  <img src="../../assets/images/favicon.ico" alt="logo">

    </a>
    Posware official docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Installazione e aggiornamenti Posware Frontend
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Installazione e aggiornamenti Posware Frontend
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installazione-posware-frontend/overview-generale.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview generale
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installazione-posware-frontend/dipendenze-aggiornamenti-necessari.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dipendenze e aggiornamenti
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installazione-posware-frontend/setup-posware.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SetupPosware
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installazione-posware-frontend/pos-update.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PosUpdate
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Installazione e aggiornamenti StoreServer
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Installazione e aggiornamenti StoreServer
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installazione-storeserver/overview-generale.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview generale
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installazione-storeserver/installazione-procedure-comuni.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Procedure comuni
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installazione-storeserver/installazione-nuovo-storeserver.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nuova installazione
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installazione-storeserver/migrazione-servizi-legacy.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrazione
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installazione-storeserver/aggiornamento-storeserver.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Aggiornamento
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installazione-storeserver/servizi-legacy.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Servizi legacy
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Moduli
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Moduli
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Modulo di base
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Modulo di base
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../main-module/statistiche-dettagliate.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Statistiche dettagliate
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../main-module/posware-price-checker.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Posware Price Checker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../main-module/fatturazione-elettronica.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fatturazione elettronica
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Funzionalità di cassa
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Funzionalità di cassa
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../posware-frontend/tracciato-record-log.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Log Transazione Posware
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../posware-frontend/argentea-satispay.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Argentea Satispay
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../posware-frontend/fatturazione-immediata.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fatturazione immediata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../posware-frontend/nota-di-credito.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nota di credito
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Celiachia
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Celiachia
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="informazioni-generali.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Informazioni generali
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Integrazione bonus celiachia Posware
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="integrazione-bonus-celiachia-posware.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Integrazione bonus celiachia Posware
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Indice">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Indice
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduzione" class="md-nav__link">
    <span class="md-ellipsis">
      Introduzione
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configurazione-del-database" class="md-nav__link">
    <span class="md-ellipsis">
      Configurazione del database
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configurazione del database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tabella-tipi_pagamenti-sia-databasecassa-che-posware" class="md-nav__link">
    <span class="md-ellipsis">
      Tabella tipi_pagamenti (sia databasecassa che posware)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interfaccia-utente-della-cassa" class="md-nav__link">
    <span class="md-ellipsis">
      Interfaccia Utente della cassa
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tabella-tabparametriextra-databasecassa" class="md-nav__link">
    <span class="md-ellipsis">
      Tabella tabparametriextra (databasecassa)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tabella-operazioni_auto-databasecassa" class="md-nav__link">
    <span class="md-ellipsis">
      Tabella operazioni_auto (databasecassa)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tabella-passioperazioni_auto-databasecassa" class="md-nav__link">
    <span class="md-ellipsis">
      Tabella passioperazioni_auto (databasecassa)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#invio-articoli-bonus-celiachia" class="md-nav__link">
    <span class="md-ellipsis">
      Invio articoli bonus celiachia
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Invio articoli bonus celiachia">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#riconoscimento-degli-articoli-idonei-al-bonus-celiachia" class="md-nav__link">
    <span class="md-ellipsis">
      Riconoscimento degli articoli idonei al bonus celiachia
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#guida-allutilizzo" class="md-nav__link">
    <span class="md-ellipsis">
      Guida all'utilizzo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Guida all&#39;utilizzo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#limiti-e-vincoli" class="md-nav__link">
    <span class="md-ellipsis">
      Limiti e vincoli
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestione-degli-errori-e-delle-anomalie-operative" class="md-nav__link">
    <span class="md-ellipsis">
      Gestione degli errori e delle anomalie operative
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Gestione degli errori e delle anomalie operative">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-budget-mensile-insufficiente" class="md-nav__link">
    <span class="md-ellipsis">
      1. Budget mensile insufficiente
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-errore-durante-lo-storno-dei-pagamenti" class="md-nav__link">
    <span class="md-ellipsis">
      2. Errore durante lo storno dei pagamenti
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-mancanza-di-connessione-crash-o-interruzione-di-corrente" class="md-nav__link">
    <span class="md-ellipsis">
      3. Mancanza di connessione, crash o interruzione di corrente
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-pagamento-avviato-ma-non-confermato" class="md-nav__link">
    <span class="md-ellipsis">
      4. Pagamento avviato ma non confermato
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="rendicontazione-celiachia.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rendicontazione celiachia
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Indice">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Indice
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduzione" class="md-nav__link">
    <span class="md-ellipsis">
      Introduzione
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configurazione-del-database" class="md-nav__link">
    <span class="md-ellipsis">
      Configurazione del database
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configurazione del database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tabella-tipi_pagamenti-sia-databasecassa-che-posware" class="md-nav__link">
    <span class="md-ellipsis">
      Tabella tipi_pagamenti (sia databasecassa che posware)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interfaccia-utente-della-cassa" class="md-nav__link">
    <span class="md-ellipsis">
      Interfaccia Utente della cassa
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tabella-tabparametriextra-databasecassa" class="md-nav__link">
    <span class="md-ellipsis">
      Tabella tabparametriextra (databasecassa)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tabella-operazioni_auto-databasecassa" class="md-nav__link">
    <span class="md-ellipsis">
      Tabella operazioni_auto (databasecassa)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tabella-passioperazioni_auto-databasecassa" class="md-nav__link">
    <span class="md-ellipsis">
      Tabella passioperazioni_auto (databasecassa)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#invio-articoli-bonus-celiachia" class="md-nav__link">
    <span class="md-ellipsis">
      Invio articoli bonus celiachia
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Invio articoli bonus celiachia">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#riconoscimento-degli-articoli-idonei-al-bonus-celiachia" class="md-nav__link">
    <span class="md-ellipsis">
      Riconoscimento degli articoli idonei al bonus celiachia
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#guida-allutilizzo" class="md-nav__link">
    <span class="md-ellipsis">
      Guida all'utilizzo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Guida all&#39;utilizzo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#limiti-e-vincoli" class="md-nav__link">
    <span class="md-ellipsis">
      Limiti e vincoli
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestione-degli-errori-e-delle-anomalie-operative" class="md-nav__link">
    <span class="md-ellipsis">
      Gestione degli errori e delle anomalie operative
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Gestione degli errori e delle anomalie operative">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-budget-mensile-insufficiente" class="md-nav__link">
    <span class="md-ellipsis">
      1. Budget mensile insufficiente
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-errore-durante-lo-storno-dei-pagamenti" class="md-nav__link">
    <span class="md-ellipsis">
      2. Errore durante lo storno dei pagamenti
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-mancanza-di-connessione-crash-o-interruzione-di-corrente" class="md-nav__link">
    <span class="md-ellipsis">
      3. Mancanza di connessione, crash o interruzione di corrente
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-pagamento-avviato-ma-non-confermato" class="md-nav__link">
    <span class="md-ellipsis">
      4. Pagamento avviato ma non confermato
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <nav class="md-tags" >
    
      
      
      
        <span class="md-tag">Celiachia</span>
      
    
      
      
      
        <span class="md-tag">Posware</span>
      
    
  </nav>



<div class="admonition warning">
<p class="admonition-title">DOCUMENTO PRELIMINARE</p>
<p>Le informazioni e i dettagli contenuti in questo documento possono essere soggetti a modifiche e non costituiscono un protocollo definitivo.</p>
</div>
<h1 id="specifiche-integrazione-bonus-celiachia-in-posware">Specifiche integrazione bonus celiachia in Posware</h1>
<p><strong>Prima revisione documento: 18 settembre 2025</strong> <br>
<strong>Ultima revisione documento: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="14 ottobre 2025 10:43:38 UTC">14 ottobre 2025</span></strong></p>
<h2 id="introduzione">Introduzione</h2>
<p>L’integrazione del bonus celiachia in <strong>Posware</strong> consente ai punti vendita di accettare come metodo di pagamento i buoni digitali messi a disposizione dal Sistema Sanitario Nazionale tramite la tessera sanitaria del cliente.</p>
<p>Grazie a questa funzionalità, i clienti celiaci possono acquistare i prodotti riconosciuti come idonei dalla propria ASL di riferimento, utilizzando il budget mensile previsto dalla normativa.</p>
<p>Lo scopo di questa documentazione è fornire tutte le informazioni necessarie per:</p>
<ul>
<li><strong>Configurare correttamente il database</strong> in modo da abilitare il bonus celiachia come metodo di pagamento.</li>
<li><strong>Comprendere la logica di riconoscimento degli articoli idonei</strong>, che può avvenire tramite flag specifico nell’anagrafica o mediante formule dinamiche.</li>
<li><strong>Gestire i flussi operativi in cassa</strong>, inclusi i casi particolari di pagamento parziale, pagamento con importo specifico e note di credito.</li>
<li><strong>Affrontare le principali anomalie ed errori</strong> che possono verificarsi durante i pagamenti e gli storni.</li>
</ul>
<p>Questa integrazione è stata sviluppata inizialmente per il provider <strong>Argentea</strong>, con <strong>ARIA</strong> come gestore del bonus celiachia, ma la logica documentata consente di estendere l’utilizzo anche ad altri provider compatibili.</p>
<p>È importante ricordare che, prima di poter utilizzare il bonus celiachia nel proprio punto vendita, il rivenditore deve:</p>
<ol>
<li><strong>Contattare la propria ASL di riferimento</strong>, che fornirà l’abilitazione e la lista aggiornata dei prodotti acquistabili.</li>
<li><strong>Assicurarsi che gli articoli siano correttamente configurati nel gestionale Posware</strong>, in modo da essere riconosciuti al momento del pagamento.</li>
</ol>
<h2 id="configurazione-del-database">Configurazione del database</h2>
<p>Per abilitare il <strong>bonus celiachia</strong> come metodo di pagamento e per fare funzionare tutti i vari processi legati a questa integrazione, è necessario aggiornare le seguenti tabelle:</p>
<h4 id="tabella-tipi_pagamenti-sia-databasecassa-che-posware">Tabella <code>tipi_pagamenti</code> (sia database<code>cassa</code> che <code>posware</code>)</h4>
<ul>
<li><strong>Bonus celiachia:</strong><ul>
<li><code>codice</code>: valore intero univoco non utilizzato da altri metodi di pagamento</li>
<li><code>descrizione</code>: <em>"Bonus Celiachia"</em> o descrizione equivalente</li>
<li><code>PagTipo</code>: 12</li>
<li><code>tipoPagRT</code>: 1</li>
</ul>
</li>
</ul>
<h4 id="interfaccia-utente-della-cassa">Interfaccia Utente della cassa</h4>
<p>Aggiungere un pulsante alla grafica di Posware ed agganciarci il pagamento <strong>Bonus celiachia</strong>.</p>
<h4 id="tabella-tabparametriextra-databasecassa">Tabella <code>tabparametriextra</code> (database<code>cassa</code>)</h4>
<p>Solo per l'integrazione specifica con il provider <strong>Argentea</strong>, con <strong>ARIA</strong> come gestore del bonus celiachia, sarà necessario verificare la presenza di questo record:</p>
<table>
<thead>
<tr>
<th>Modulo</th>
<th>Parametro</th>
<th>Valore</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>posware.plugins.celiacevoucher</em></td>
<td><em>protocol</em></td>
<td><strong>AR/ARIA</strong></td>
</tr>
</tbody>
</table>
<p>Inoltre, bisogna configurare alcuni parametri necessari a regolare l'invio dei dati per la rendicontazione celiachia dalla cassa al server di barriera. </p>
<table>
<thead>
<tr>
<th>Modulo</th>
<th>Parametro</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>posware.plugins.celiacevoucher</em></td>
<td><em>sendBatchSize</em></td>
</tr>
<tr>
<td><em>posware.plugins.celiacevoucher</em></td>
<td><em>sendTimeout</em></td>
</tr>
<tr>
<td><em>posware.plugins.celiacevoucher</em></td>
<td><em>lastSequenceIdSent</em></td>
</tr>
</tbody>
</table>
<p>Tali parametri però hanno impostazioni differenti tra Posware <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.5 7A1.5 1.5 0 0 1 4 5.5 1.5 1.5 0 0 1 5.5 4 1.5 1.5 0 0 1 7 5.5 1.5 1.5 0 0 1 5.5 7m15.91 4.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.11 0-2 .89-2 2v7c0 .55.22 1.05.59 1.41l8.99 9c.37.36.87.59 1.42.59s1.05-.23 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.56-.23-1.06-.59-1.42"/></svg></span><code>4.2</code> e Posware <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.5 7A1.5 1.5 0 0 1 4 5.5 1.5 1.5 0 0 1 5.5 4 1.5 1.5 0 0 1 7 5.5 1.5 1.5 0 0 1 5.5 7m15.91 4.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.11 0-2 .89-2 2v7c0 .55.22 1.05.59 1.41l8.99 9c.37.36.87.59 1.42.59s1.05-.23 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.56-.23-1.06-.59-1.42"/></svg></span><code>4.3</code>.</p>
<h5 id="posware-42">Posware <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.5 7A1.5 1.5 0 0 1 4 5.5 1.5 1.5 0 0 1 5.5 4 1.5 1.5 0 0 1 7 5.5 1.5 1.5 0 0 1 5.5 7m15.91 4.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.11 0-2 .89-2 2v7c0 .55.22 1.05.59 1.41l8.99 9c.37.36.87.59 1.42.59s1.05-.23 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.56-.23-1.06-.59-1.42"/></svg></span><code>4.2</code></h5>
<p>Di seguito le configurazioni necessarie per ognuno dei parametri in Posware <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.5 7A1.5 1.5 0 0 1 4 5.5 1.5 1.5 0 0 1 5.5 4 1.5 1.5 0 0 1 7 5.5 1.5 1.5 0 0 1 5.5 7m15.91 4.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.11 0-2 .89-2 2v7c0 .55.22 1.05.59 1.41l8.99 9c.37.36.87.59 1.42.59s1.05-.23 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.56-.23-1.06-.59-1.42"/></svg></span><code>4.2</code>:</p>
<ul>
<li>Il parametro <em>sendBatchSize</em> indica il numero massimo di transazioni che potranno essere scritte con un'unica query.<br>
<strong>Ha come valore di default 10 e come valore massimo accettato 50.</strong></li>
<li>Il parametro <em>sendTimeout</em> indica il <strong>timeout in millisecondi</strong> per la scrittura dei dati della rendicontazione celiachia sul database del server di barriera. <strong>È necessario che sia basso per non rallentare eccessivamente la cassa.</strong><br>
<strong>Ha come valore di default 500 e come valore massimo accettato 2000.</strong></li>
<li>Il parametro <em>lastSequenceIdSent</em> indica a quale progressivo della tabella locale si è arrivati a copiare i dati nella tabella sul server di barriera.</li>
</ul>
<h5 id="posware-43">Posware <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.5 7A1.5 1.5 0 0 1 4 5.5 1.5 1.5 0 0 1 5.5 4 1.5 1.5 0 0 1 7 5.5 1.5 1.5 0 0 1 5.5 7m15.91 4.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.11 0-2 .89-2 2v7c0 .55.22 1.05.59 1.41l8.99 9c.37.36.87.59 1.42.59s1.05-.23 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.56-.23-1.06-.59-1.42"/></svg></span><code>4.3</code></h5>
<p>Di seguito le configurazioni necessarie per ognuno dei parametri in Posware <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.5 7A1.5 1.5 0 0 1 4 5.5 1.5 1.5 0 0 1 5.5 4 1.5 1.5 0 0 1 7 5.5 1.5 1.5 0 0 1 5.5 7m15.91 4.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.11 0-2 .89-2 2v7c0 .55.22 1.05.59 1.41l8.99 9c.37.36.87.59 1.42.59s1.05-.23 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.56-.23-1.06-.59-1.42"/></svg></span><code>4.3</code>:</p>
<ul>
<li>Il parametro <em>sendBatchSize</em> indica il numero massimo di transazioni che si potranno inviare allo StoreServer sul server di barriera in un unico invio.<br>
<strong>Ha come valore di default 10 e come valore massimo accettato 50.</strong></li>
<li>Il parametro <em>sendTimeout</em> indica il <strong>timeout in millisecondi</strong> per l'invio dei dati della rendicontazione celiachia allo StoreServer.<br>
<strong>Ha come valore di default 500 e come valore massimo accettato 1500.</strong></li>
<li>Il parametro <em>lastSequenceIdSent</em> indica a quale progressivo di invio al server di barriera si è arrivati con successo.</li>
</ul>
<h4 id="tabella-operazioni_auto-databasecassa">Tabella <code>operazioni_auto</code> (database<code>cassa</code>)</h4>
<p>Se non è già presente o è configurato in modo diverso, è necessario inserire un record con le seguenti caratteristiche:</p>
<ul>
<li><code>Operazione</code>: <strong>"OB"</strong></li>
<li><code>Stato</code>: 1</li>
<li><code>Intervallo</code>: 30</li>
</ul>
<h4 id="tabella-passioperazioni_auto-databasecassa">Tabella <code>passioperazioni_auto</code> (database<code>cassa</code>)</h4>
<p>Se non è già presente o è configurato in modo diverso, è necessario inserire un record con le seguenti caratteristiche:</p>
<ul>
<li><code>CodOperazione</code>: "OB"</li>
<li><code>CodSubOperazione</code>: <strong>"CD"</strong></li>
<li><code>Sequenza</code>: valore intero univoco e maggiore di 0 non utilizzato da altre suboperazioni di OB</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Suboperazione CD</p>
<p>La presenza o meno di tale record determina l'attivazione o meno dell'invio dei dati al server di barriera.</p>
</div>
<h2 id="invio-articoli-bonus-celiachia">Invio articoli bonus celiachia</h2>
<h3 id="riconoscimento-degli-articoli-idonei-al-bonus-celiachia">Riconoscimento degli articoli idonei al bonus celiachia</h3>
<p>Gli articoli acquistabili tramite bonus celiachia vengono individuati attraverso due criteri mutuamente esclusivi:</p>
<ol>
<li><strong>Flag dedicato nella tabella <code>art_agg</code>:</strong> il campo <code>Celiachia</code> valorizzato a <strong>1</strong> identifica in modo diretto e univoco i prodotti idonei.</li>
<li><strong>Formula di inclusione nei pagamenti:</strong> nella tabella <code>tipi_pagamenti</code>, per i pagamenti con <code>PagTipo = 12</code>, il campo <code>formulainclusione</code> consente di definire condizioni di selezione più articolate per l’inclusione degli articoli.</li>
</ol>
<p>Il comportamento del sistema è quindi il seguente: se il flag <code>Celiachia</code> è impostato a <strong>1</strong>, non bisogna inserire la formula nella tabella <code>tipi_pagamenti</code>. Se invece la formula è presente, la selezione degli articoli passa integralmente attraverso la logica prevista nella formula, sia che il flag <code>Celiachia</code> sia valorizzato sia che non lo sia.</p>
<div class="admonition warning">
<p class="admonition-title">Indicazione operativa</p>
<p>Per chi invia gli articoli al database della cassa, la regola generale è la seguente:</p>
<ul>
<li>se non vi sono esigenze particolari, utilizzare il flag <code>Celiachia = 1</code> e non configurare la formula nei pagamenti;</li>
<li>se non è possibile gestire l’invio del flag o si richiedono criteri di selezione più complessi, configurare direttamente la formula nei pagamenti, senza valorizzare il flag per evitare confusione.</li>
</ul>
</div>
<h2 id="guida-allutilizzo">Guida all'utilizzo</h2>
<h3 id="limiti-e-vincoli">Limiti e vincoli</h3>
<div class="admonition info">
<p class="admonition-title">Utilizzo del bonus celiachia</p>
<p>Il pagamento tramite tessera sanitaria per clienti affetti da celiachia sarà richiedibile solo e soltanto se nello scontrino sono presenti dei prodotti per celiachi, riconosciuti dalla ASL di riferimento.</p>
<p>Per ogni pagamento in fase di richiesta, verrà comunicata al provider utilizzato la lista dei prodotti per cui si richiede il pagamento tramite bonus celiachia. Tale lista sarà comprensiva dei dati riguardanti EAN, quantità (obbligatoriamente intere) e importo totale per cui si richiede il pagamento.</p>
<p>A tal proposito, Posware prima della chiusura dello scontrino fa una verifica finale in cui confronta i prezzi unitari degli articoli salvati per la rendicontazione con quelli effettivi sullo scontrino aggiornato a fine transazione. <strong>Se anche un solo prezzo non coincide, Posware avvisa l’operatore della discrepanza e lo scontrino viene annullato.</strong></p>
</div>
<div class="admonition info">
<p class="admonition-title">Pagamenti parziali e pagamenti con specifica di importo</p>
<p>Con questa integrazione, vengono permessi pagamenti con bonus celiachia parziali e multipli, oltre che i pagamenti con specifica di importo.</p>
<p>In caso di pagamento con specifica di importo, l'operatore dovrà selezionare la cifra desiderata dal cliente e premere il pulsante a cui è agganciato il pagamento con bonus celiachia. In questo particolare scenario, Posware calcola la lista di prodotti massima che si può pagare con la cifra selezionata e alla fine si aprirà un pop-up che recita "È possibile pagare XX,XX euro, continuare?" (SI/NO). Questo perché l’importo selezionato deve corrispondere al prezzo complessivo di un numero intero di prodotti, infatti <strong>non è assolutamente ammesso il pagamento di importi che corrispondano a frazioni di prodotto</strong>.</p>
<p><strong>Esempio:</strong><br>
Totale carrello = 9€ (3 prodotti da 3€)</p>
<ul>
<li><strong>Pagamenti ammessi</strong>: 3€ (1 prodotto), 6€ (2 prodotti), 9€ (3 prodotti)</li>
<li><strong>Pagamenti non ammessi</strong>: 8€, 7€, 5€, ecc..., perché non corrispondono al valore complessivo di prodotti interi</li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">Salvataggio di ogni richiesta inviata nel log trace di Posware</p>
<p>Per ogni richiesta inviata (sia di pagamento che di storno) verrà salvata la richiesta raw in un trace log di Posware. Solo se si riesce a ricevere una risposta dal provider si potranno aggiornare i dati nel database. <strong>Nel caso che la risposta non sia stata ricevuta si potrà recuperare la richiesta inviata dal log trace di Posware.</strong></p>
</div>
<div class="admonition info">
<p class="admonition-title">Dettagli utili sull'integrazione con Argentea e provider celiachia ARIA</p>
<p>Quando si effettua un pagamento con bonus celiachia con il provider <strong>Argentea</strong>, con <strong>ARIA</strong> come gestore del bonus celiachia, nella risposta che restituisce Argentea tra i vari dati sono presenti un <strong>Authorization Code</strong> e un <strong>Transaction Id</strong>.<br>
L'Authorization Code è un codice attribuito da ARIA al momento della conferma della transazione, mentre il Transaction Id, a differenza del suo omonimo in Posware, è un codice fornito da Argentea che identifica il singolo pagamento, così che lo si possa usare in caso sia necessario effettuare lo storno di quel singolo pagamento.</p>
<p>Questi due dati verranno salvati anche nel buffer di Posware (posizione 131, lunghezza 50), all'interno del record di tipo <strong>03</strong> della tabella <code>log</code>, relativo al pagamento celiachia.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Privacy dei dati sensibili dei clienti</p>
<p>Con questa integrazione, non viene assolutamente memorizzata nessuna informazione riguardante la tessera sanitaria e il PIN necessari per l'utilizzo del bonus celiachia.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Note di credito nell'ambito del bonus celiachia</p>
<p>In caso di nota di credito di uno scontrino in cui sono stati effettuati pagamenti con il bonus celiachia, è necessario effettuare il rimborso tramite buono reso.</p>
</div>
<div class="admonition danger">
<p class="admonition-title">Promozioni legate ai pagamenti</p>
<p><strong>Le promozioni su pagamento che effettuano uno sconto, non sono compatibili con il pagamento e-voucher celiachia.</strong></p>
<p>Assicurarsi di non avere attive promozioni sui pagamenti quando si usa il <strong>pagamento e-voucher celiachia</strong>.<br>
Eventuali sconti apportati dopo aver incassato un e-voucher, causerebbero <strong>disallineamenti in fase di rendicontazione</strong>, con rifiuto da parte dell'ente del rimborso dovuto.</p>
</div>
<h3 id="gestione-degli-errori-e-delle-anomalie-operative">Gestione degli errori e delle anomalie operative</h3>
<p>Durante l’utilizzo del bonus celiachia in cassa, Posware gestisce in maniera guidata una serie di errori e condizioni particolari che possono verificarsi durante il pagamento o lo storno delle transazioni.<br>
Di seguito vengono descritti i principali casi d’errore, i messaggi visualizzati all’operatore e le azioni da intraprendere.</p>
<h4 id="1-budget-mensile-insufficiente">1. Budget mensile insufficiente</h4>
<h5 id="messaggio-visualizzato">Messaggio visualizzato:</h5>
<ul>
<li><em>“Budget mensile insufficiente. Residuo XXX euro, proseguire con il pagamento?”</em> (con opzioni <strong>Sì/No</strong>)</li>
<li><em>“Budget mensile insufficiente”</em> (avviso senza possibilità di continuare)</li>
</ul>
<h5 id="quando-si-verifica">Quando si verifica:</h5>
<p>L’errore appare quando, al momento del pagamento con bonus celiachia, il saldo residuo della tessera sanitaria non è sufficiente a coprire l’importo richiesto.</p>
<ul>
<li>Se il sistema riesce a recuperare il saldo residuo, viene proposto all’operatore di utilizzarlo.</li>
<li>Se invece il saldo residuo non è disponibile, viene mostrato solo l’avviso.</li>
</ul>
<h5 id="cosa-deve-fare-loperatore">Cosa deve fare l’operatore:</h5>
<p>Nel primo caso, dove c'è la possibilità di scegliere:</p>
<ul>
<li>Premendo <strong>Sì</strong>, Posware ripete la richiesta di pagamento utilizzando l’importo pari al saldo residuo disponibile.</li>
<li>Premendo <strong>No</strong>, l’operatore può chiudere il popup e proseguire con altri metodi di pagamento.</li>
</ul>
<h4 id="2-errore-durante-lo-storno-dei-pagamenti">2. Errore durante lo storno dei pagamenti</h4>
<h5 id="messaggio-visualizzato_1">Messaggio visualizzato:</h5>
<ul>
<li><em>“Non è stato possibile stornare il pagamento con codice di autorizzazione 'XXXXXXXXX' a causa di un errore. Riprovare?”</em> (con opzioni <strong>Sì/No</strong>)</li>
</ul>
<h5 id="quando-si-verifica_1">Quando si verifica:</h5>
<p>Durante l’annullo dei pagamenti o dell’intero scontrino, Posware deve inviare una richiesta al provider per annullare i pagamenti già effettuati con bonus celiachia.<br>
L’errore compare quando:</p>
<ul>
<li>il provider risponde con un esito negativo (KO);</li>
<li>non si riceve alcuna risposta dal provider (assenza di connessione o problemi tecnici).</li>
</ul>
<h5 id="cosa-deve-fare-loperatore_1">Cosa deve fare l’operatore:</h5>
<ul>
<li>Premendo <strong>Sì</strong>, il sistema ritenta lo storno del pagamento.</li>
<li>Premendo <strong>No</strong>, Posware interrompe il ciclo di richieste e segnala che non è stato possibile annullare correttamente tutti i pagamenti.<br>
In questo caso:<ul>
<li>l’operatore può completare lo scontrino saldando l’importo residuo con altri metodi di pagamento;</li>
<li>oppure può annullare lo scontrino: in questo caso Posware tenterà nuovamente lo storno di tutti i pagamenti, ma se anche questo dovesse fallire verrà stampato un documento non fiscale con i riferimenti dei pagamenti non stornati.</li>
</ul>
</li>
</ul>
<h4 id="3-mancanza-di-connessione-crash-o-interruzione-di-corrente">3. Mancanza di connessione, crash o interruzione di corrente</h4>
<h5 id="quando-si-verifica_2">Quando si verifica:</h5>
<p>Il problema può presentarsi se:</p>
<ul>
<li>durante l’annullo di uno scontrino non è disponibile la connessione internet e non è possibile contattare il provider;</li>
<li>Posware viene interrotto improvvisamente (crash dell’applicazione o mancanza di corrente) durante un’operazione di pagamento o storno.</li>
</ul>
<h5 id="comportamento-del-sistema">Comportamento del sistema:</h5>
<p>In questi casi, i pagamenti restano “in sospeso”.<br>
Al successivo riavvio e login (<em>SignOn</em>), Posware avvia in automatico un <strong>meccanismo di rollback</strong>, tentando nuovamente lo storno dei pagamenti non annullati correttamente.</p>
<h5 id="cosa-deve-fare-loperatore_2">Cosa deve fare l’operatore:</h5>
<ul>
<li>Nessuna azione immediata è richiesta: il sistema gestisce in automatico il tentativo di storno.</li>
<li>Se dopo vari tentativi alcuni pagamenti non possono essere stornati, Posware:<ol>
<li>stampa un documento gestionale con il dettaglio dei pagamenti non stornati,</li>
<li>mostra un avviso informativo all’operatore in cassa.</li>
</ol>
</li>
</ul>
<h4 id="4-pagamento-avviato-ma-non-confermato">4. Pagamento avviato ma non confermato</h4>
<h5 id="quando-si-verifica_3">Quando si verifica:</h5>
<p>Durante una transazione con bonus celiachia:</p>
<ol>
<li>viene inviata la richiesta di pagamento al provider,</li>
<li>ma prima di ricevere la risposta il sistema subisce un crash o un’interruzione.</li>
</ol>
<p>In questo caso non è stato possibile registrare correttamente l’esito del pagamento.</p>
<h5 id="cosa-deve-fare-loperatore_3">Cosa deve fare l’operatore:</h5>
<ul>
<li>Lo storno non può essere eseguito in automatico.</li>
<li>Sarà necessario recuperare manualmente i dati della richiesta dal <strong>log trace di Posware</strong>, dove vengono salvati tutti i dettagli delle comunicazioni inviate al provider.</li>
<li>Con tali riferimenti, il pagamento potrà essere gestito manualmente.</li>
</ul>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Ultimo aggiornamento">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="14 ottobre 2025 10:43:38 UTC">14 ottobre 2025</span>
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Torna su
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright 2024&copy; I.Si.D S.r.l.
    </div>
  
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://isid.it/" target="_blank" rel="noopener" title="isid.it" class="md-social__link">
      <?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="1510.000000pt" height="518.000000pt" viewBox="0 0 1510.000000 518.000000"
 preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,518.000000) scale(0.100000,-0.100000)"
fill="#FFFFFF" stroke="none">
<path d="M69 5157 c-19 -12 -42 -38 -51 -57 -17 -33 -18 -174 -18 -2510 0
-2336 1 -2477 18 -2510 9 -19 32 -45 51 -57 l34 -23 466 0 c521 0 514 -1 553
71 17 32 18 131 18 2519 0 2391 -1 2487 -18 2520 -37 71 -32 70 -553 70 l-466
0 -34 -23z"/>
<path d="M2580 5169 c-305 -35 -562 -148 -726 -320 -149 -157 -241 -337 -291
-572 -16 -72 -18 -141 -18 -582 0 -550 4 -597 66 -787 127 -392 402 -626 846
-720 l108 -23 1570 -5 1570 -5 60 -23 c32 -12 75 -35 95 -50 44 -36 95 -119
110 -181 17 -67 25 -451 11 -539 -26 -169 -92 -261 -217 -304 l-69 -23 -2030
-5 c-1919 -5 -2032 -6 -2058 -23 -63 -41 -62 -30 -62 -487 0 -453 0 -451 58
-494 l28 -21 2177 -3 c1891 -2 2192 0 2293 13 385 50 650 197 824 460 94 141
143 264 182 460 16 80 18 147 18 580 0 416 -3 504 -17 585 -51 285 -151 492
-315 651 -169 164 -367 257 -655 305 -94 16 -242 18 -1658 23 l-1555 6 -56 28
c-72 35 -130 97 -160 173 -23 57 -24 68 -24 324 0 252 1 268 22 321 43 103
103 161 207 197 48 16 190 17 2091 22 1928 5 2041 6 2066 23 53 36 54 41 57
469 2 250 -1 412 -7 436 -6 21 -25 51 -41 67 l-31 30 -2197 1 c-1208 1 -2231
-2 -2272 -7z"/>
<path d="M7631 5162 c-71 -38 -71 -38 -71 -501 0 -403 1 -415 21 -448 40 -64
34 -63 501 -63 l424 0 302 -282 302 -282 0 -386 c0 -380 0 -386 23 -430 42
-82 28 -80 550 -80 502 0 489 -1 541 60 l26 32 0 422 0 423 -23 34 c-46 69
-44 69 -512 69 l-420 1 -297 277 -297 277 0 390 c-1 435 -1 436 -70 482 l-34
23 -466 0 c-433 0 -469 -1 -500 -18z"/>
<path d="M9255 5167 c-47 -18 -71 -39 -97 -82 l-23 -40 -3 -452 -3 -453 1993
-3 c1802 -3 2001 -5 2071 -20 422 -88 609 -249 697 -601 50 -201 55 -279 55
-926 0 -647 -5 -725 -55 -926 -80 -318 -256 -491 -582 -574 -216 -54 -240 -55
-1653 -55 -715 0 -1313 4 -1328 8 -57 16 -57 20 -57 657 l0 580 -570 0 -570 0
2 -1072 3 -1073 27 -46 c17 -29 41 -53 65 -65 37 -18 101 -19 1918 -22 1332
-2 1927 0 2040 8 503 36 891 149 1191 346 113 74 311 270 383 379 189 287 292
647 321 1120 13 220 13 1250 0 1470 -29 473 -133 837 -322 1120 -68 103 -219
259 -328 341 -109 82 -343 200 -491 248 -213 68 -463 114 -738 136 -200 15
-3906 12 -3946 -3z"/>
<path d="M7560 1918 c0 -1706 1 -1815 18 -1847 9 -19 33 -43 52 -53 33 -17 64
-18 512 -16 l476 3 27 25 c58 53 55 -64 55 1895 l0 1805 -570 0 -570 0 0
-1812z"/>
</g>
</svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.indexes", "navigation.top", "search.highlight", "search.suggest", "content.code.copy", "content.code.select", "content.tooltips"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiato", "clipboard.copy": "Copia", "search.result.more.one": "1 altro in questa pagina", "search.result.more.other": "# altri in questa pagina", "search.result.none": "Nessun documento trovato", "search.result.one": "1 documento trovato", "search.result.other": "# documenti trovati", "search.result.placeholder": "Scrivi per iniziare a cercare", "search.result.term.missing": "Non presente", "select.version": "Seleziona la versione"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../javascripts/extra.js"></script>
      
    
  </body>
</html>