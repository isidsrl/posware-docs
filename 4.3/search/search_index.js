var __index = {"config":{"lang":["it"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"Benvenuti in Posware 4.3","text":"<p>Questo sito raccoglier\u00e0 tutta la documentazione della versione <code>4.3</code> di Posware, l'ultima release che verr\u00e0 rilasciata a breve.</p> <p>Nota fondamentale su Posware <code>4.3</code></p> <p>La versione <code>4.3</code> di Posware contiene tutti i miglioramenti ed i bugfix rilasciati nella versione <code>4.2</code> del software.</p>"},{"location":"changelog/release-notes.html","title":"Posware - Release Notes","text":""},{"location":"changelog/release-notes.html#raccolta-di-release-notes","title":"Raccolta di release notes","text":""},{"location":"changelog/release-notes.html#versioni-software-di-riferimento","title":"Versioni software di riferimento","text":"<ul> <li>Posware 4.2 o superiore</li> <li>Posware per Windows XP 4.2.x o inferiore. Supporto terminato il 31/12/2021. </li> </ul>"},{"location":"changelog/release-notes.html#current-release-notes","title":"Current Release notes","text":""},{"location":"changelog/release-notes.html#release-426940-del-14092023","title":"Release <code>4.2.694.0</code> del 14/09/2023","text":""},{"location":"changelog/release-notes.html#whats-new","title":"What's New","text":"<ul> <li>Aggiunto il supporto nativo per il CashManagement Cashmatic</li> </ul>"},{"location":"changelog/release-notes.html#bug-fixes-and-issued-adressed","title":"Bug fixes and issued adressed","text":"<ul> <li>Corretta la vendita kit in promozione</li> </ul>"},{"location":"changelog/release-notes.html#breaking-changes","title":"Breaking Changes","text":""},{"location":"changelog/release-notes.html#known-issues","title":"Known issues","text":""},{"location":"changelog/release-notes.html#release-notes-history","title":"Release Notes History","text":""},{"location":"changelog/release-notes.html#426380-del-24072023","title":"4.2.638.0 del 24/07/2023","text":""},{"location":"changelog/release-notes.html#whats-new_1","title":"What's New","text":"<ul> <li>Cambiato algoritmo di calcolo del massimo pagabile per forma di pagamento che ora tiene conto dell'imponibile e non degli articoli</li> </ul>"},{"location":"changelog/release-notes.html#bug-fixes-and-issued-adressed_1","title":"Bug fixes and issued adressed","text":""},{"location":"changelog/release-notes.html#breaking-changes_1","title":"Breaking Changes","text":"<ul> <li>In caso di pagamento eft=true e pagtipo=0 posware non permette pi\u00f9 l'imputazione dell'importo manuale, passer\u00e0 al terminale sempre il massimo pagabile per la forma di pagamento scelta</li> </ul>"},{"location":"changelog/release-notes.html#425650-del-08052023","title":"4.2.565.0 del 08/05/2023","text":""},{"location":"changelog/release-notes.html#whats-new_2","title":"What's New","text":"<ul> <li>Aggiunto il nome dell'operatore in fase di visualizzazione schermata richiesta password operatore l'operatore </li> <li>Implementato un nuovo comportamento per verifica check-out, in caso di parametro 3 nei campi <code>CompEtichPesoSupBil</code> e/o <code>CompEtichPesoInfBil</code> di <code>config_cassa</code>, viene sempre bloccata la vendita.</li> <li>Implementata la stampa messaggio di fine scontrino e messaggi di trailer in stampa scontrino di cortesia</li> <li>Implementata la stampa delle informazioni aggiuntive su articolo se abilitato il flag di stampa scontrino.</li> </ul>"},{"location":"changelog/release-notes.html#bug-fixes-and-issued-adressed_2","title":"Bug fixes and issued adressed","text":"<ul> <li>In caso di passaggio multiplo di tessera viene corretta la stampa su scontrino delle informazioni tessera.</li> <li>In caso di fidelity card bloccata il messaggio viene enfatizzato con un pop-up bloccante.  Viene inserito lo stato tessera anche nel file LOG nel record 06 in posizione 52.1 che rispecchia lo stato della carta.</li> <li>Corretto il timeout della funzione prelievo/versamento su Fast4Cash</li> <li>In caso di gift card privativa posware \u00e8 stato introdotto il controllo sul seriale per evitare vendite multiple della stessa codeline.</li> <li>Corretta in fase di ripresa sospesi la valorizzazione dei campi prezzoUnitario, di riga e quantit\u00e0 su prodotti a prezzo variabile</li> </ul>"},{"location":"changelog/release-notes.html#breaking-changes_2","title":"Breaking Changes","text":"<ul> <li>La versione 4.2 non supporta il driver PosForNet ISID per il Registratore Telematico RT-ONE. \u00c8 supportato solo l'OPOS ufficiale Diebold/Nixdorf</li> </ul>"},{"location":"changelog/release-notes.html#42401-del-25112022","title":"4.2.401 del 25/11/2022","text":""},{"location":"changelog/release-notes.html#whats-new_3","title":"What's New","text":"<ul> <li>Implementato un controllo sull'imputazione del prezzo di vendita di un articolo con varia prezzo arrotondando comunque a due cifre decimali</li> <li>Implementato il beep in caso di tessera fidelity sconosciuta</li> </ul>"},{"location":"changelog/release-notes.html#bug-fixes-and-issued-adressed_3","title":"Bug fixes and issued adressed","text":"<ul> <li>Corretto lo storno ultimo articolo in caso di prodotto a peso variabile.</li> <li>Corretto un bug che impediva l'applicazione di qualsiasi promozione in caso di tessera bloccata.</li> <li>Corretta l'impaginazione della stampa scontrino di cortesia</li> </ul>"},{"location":"changelog/release-notes.html#42238-del-15062022","title":"4.2.238 del 15/06/2022","text":""},{"location":"changelog/release-notes.html#whats-new_4","title":"What's New","text":"<ul> <li>Aggiunta la possibilit\u00e0 di impedire l'inserimento di un prodotto nella transazione tramite la digitazione del codice interno. \u00c8 possibile impostare a True/False l'impostazione <code>enableUserToInputProductCode</code> del modulo <code>posware.instance</code> in tabella <code>tabparametriextra</code> - Valore di default True . Impostando il valore a False l'operatore potr\u00e0 usare solamente barcode.</li> <li>Introdotti alcuni miglioramenti minori al workflow di emissione fatture come documenti non gestionali.</li> </ul>"},{"location":"changelog/release-notes.html#bug-fixes-and-issued-adressed_4","title":"Bug fixes and issued adressed","text":"<ul> <li>Aggiornato il supporto al firmware build 258 per le stampanti Epson ripristinando la possibilit\u00e0 di emettere coupon residui con la forma di pagamento Sconto a pagare</li> <li>Corretto il funzionamento della nota di credito in presenza di prodotti kit all'interno della transazione</li> <li>Corretta la scrittura della tabella ristampa_scontrini che in alcune condizioni proponeva aliquote iva errate</li> </ul>"},{"location":"changelog/release-notes.html#breaking-changes_3","title":"Breaking Changes","text":"<ul> <li>La versione 4.2 non supporta il driver PosForNet ISID per il Registratore Telematico RT-ONE. \u00c8 supportato solo l'OPOS ufficiale Diebold/Nixdorf</li> </ul>"},{"location":"changelog/release-notes.html#421280-del-25022022","title":"4.2.128.0 del 25/02/2022","text":""},{"location":"changelog/release-notes.html#whats-new_5","title":"What's New","text":"<ul> <li>Nuovo PlugIn disponibile. Aggiunto il supporto all'attivit\u00e0 promozionale NoiAmiamoLaScuola del GruppoVeGe.</li> <li>Aggiunto nel log delle transazioni, nel tipo record 10 - vendita  KIT, l'informazione del codice a barre dell'articolo KIT (padre)</li> <li>Aggiunto al Server RT 2.0 Epson il controllo di congruit\u00e0 sui codici Ateco configurati.</li> <li>Aggiornato il supporto alle funzionalit\u00e0 PinDispatching di Argentea.</li> </ul>"},{"location":"changelog/release-notes.html#bug-fixes-and-issued-adressed_5","title":"Bug fixes and issued adressed","text":"<ul> <li>Nella richiesta di nota di credito viene ora differenziato il messaggio di transazione non trovata e di transazione gi\u00e0 sottoposta a nota di credito precedente.</li> <li>In caso di storno di un prodotto collegato veniva stornata una quantit\u00e0 errata.</li> <li>A seguito dell'emissione di un buono reso nella procedura di nota credito, veniva stampato un ulteriore documento gestionale poi annullato.</li> </ul>"},{"location":"changelog/release-notes.html#breaking-changes_4","title":"Breaking Changes","text":"<ul> <li>La versione 4.2 non supporta il driver PosForNet ISID per il Registratore Telematico RT-ONE. \u00c8 supportato solo l'OPOS ufficiale Diebold/Nixdorf</li> </ul>"},{"location":"changelog/release-notes.html#42230-del-12112021","title":"4.2.23.0 del 12/11/2021","text":""},{"location":"changelog/release-notes.html#whats-new_6","title":"What's New","text":"<ul> <li>Aggiunto il supporto alle seguenti feature del Registratore Telematico 2.0: Arrotondamento, Vendita di servizi, Gestione Multi-Ateco, Pagamento non riscosso segue fattura, Sconto a pagare.  Le feature non sono disponibili su tutti i registratori telematici.  A seguito dell'upgrade dalla 4.1 alla 4.2 verr\u00e0 automaticamente effettuata una chiusura fiscale. <p>Leggere attentamente il documento Posware 4.2 - Funzionalit\u00e0 RT 2.0 per tutti gli approfondimenti</p> </li> </ul>"},{"location":"changelog/release-notes.html#breaking-changes_5","title":"Breaking Changes","text":"<ul> <li>La versione 4.2 non supporta il driver PosForNet ISID per il Registratore Telematico RT-ONE. \u00c8 supportato solo l'OPOS ufficiale Diebold/Nixdorf</li> </ul>"},{"location":"changelog/release-notes.html#41544-del-28062021","title":"4.1.544 del 28/06/2021","text":""},{"location":"changelog/release-notes.html#whats-new_7","title":"What's New","text":"<ul> <li>Aggiunta nel report dei coupon pagamenti a fine transazione, la stampa dei codici coupon che verranno generati come conseguenza di un utilizzo parziale di un precedente coupon pagamento.</li> </ul>"},{"location":"changelog/release-notes.html#bug-fixes-and-issued-adressed_6","title":"Bug fixes and issued adressed","text":"<ul> <li>Ripristinato il corretto funzionamento del touch scroll nella lista di selezione dei prodotti usata nella nota di credito e nella finestra di prenotazione dei regali loyalty </li> </ul>"},{"location":"changelog/release-notes.html#41525-del-09062021","title":"4.1.525 del 09/06/2021","text":""},{"location":"changelog/release-notes.html#whats-new_8","title":"What's New","text":"<ul> <li>Aggiunto nel log cassa le informazioni relative alla lotteria degli scontrini tramite record 14 - Info Aggiuntive</li> <li>La richiesta remota verso la cassa con di tipo VE - Versione, restituisce ora la File version anzich\u00e8 la Product version, in linea con l'adozione del semantic versioning.</li> </ul>"},{"location":"changelog/release-notes.html#bug-fixes-and-issued-adressed_7","title":"Bug fixes and issued adressed","text":"<ul> <li>[Posware per Windows XP] Ripristinato il funzionamento del comando lotteria degli scontrini. Versioni di Windows &gt;= 7 non erano affette dal bug</li> </ul>"},{"location":"changelog/release-notes.html#41516-del-31052021","title":"4.1.516 del 31/05/2021","text":""},{"location":"changelog/release-notes.html#whats-new_9","title":"What's New","text":"<ul> <li>Aggiunta la possibilit\u00e0 di stampare a fine transazione il report dei coupon pagamenti generati in una nota di credito o usati durante una normale transazione di vendita. E' possibile abilitare i report su <code>tabparametriextra</code> tramite le impostazioni:<ul> <li><code>posware.printsettings</code> - <code>printCouponCodesGeneratedReportInCreditNote</code> - true/false</li> <li><code>posware.printsettings</code> - <code>printPaymentCouponCodesUsedReportInTransaction</code> - true/false</li> </ul> </li> <li>Aggiunto al plug-in di Cash Management Azkoyen il supporto al doppio monitor: configurando su <code>tabparametriextra</code> le impostazioni:<ul> <li><code>enableDoubleMonitor</code> - true/false</li> <li><code>startXPosition</code></li> <li><code>startYPosition</code></li> <li><code>topMostScreen</code> - true/false  \u00e8 possibile configurarne il comportamento</li> </ul> </li> <li>Aggiunto il plug-in di supporto al driver di Cash Management Fast4Cash. Sono supportati i device NCR CTM e Glory CI10. Per approfondimenti consultare il documento dedicato PlugIn Fast4Cash (cartella docs)</li> <li>Aggiornato il plug-in di gestione Argentea con supporto alla libreria <code>v3.9.7.7</code>. Aggiornamento necessario, vedi Breaking Changes.</li> <li>Aggiunte nuove configurazioni per la validazione del codice lotteria. Consultare il documento dedicato nella cartella docs.</li> </ul>"},{"location":"changelog/release-notes.html#bug-fixes-and-issued-adressed_8","title":"Bug fixes and issued adressed","text":"<ul> <li>[Posware per Windows XP] Ripristinato il comportamento dei pulsanti da tastiera fisica Su/Gi\u00f9</li> <li>Corretta la lettura del valore decimale dei ticket numerati su alcuni ambienti Windows con internazionale non italiana</li> <li>In caso di errore di rete durante la sospensione dello scontrino sul server di punto vendita, viene ora mostrato un messaggio di errore Popup come avviso bloccante</li> <li>Aggiornata la funzione di lettura del corrispettivo fiscale su stampante RT-One</li> <li>Corretto lo storno di un prodotto a peso variabile presente in multiple battute nello scontrino.</li> </ul>"},{"location":"changelog/release-notes.html#breaking-changes_6","title":"Breaking Changes","text":"<ul> <li>A partire da questa versione, i pagamenti elettronici di tipo EFT (qualiasi protocollo), Satispay, BPE, BP Online ignoreranno la configurazione con il parametro <code>resto</code> = true (errata). Questi tipi di pagamenti non supportano il resto in nessun caso (by design).</li> <li>La versione minima certificata della libreria di interfacciamento Argentea (Monetica) \u00e8 la <code>v3.9.7.7</code> . Prima di installare questa versione \u00e8 assolutamente necessario aggiornare la libreria Argentea. In caso di versione installata inferiore, verr\u00e0 mostrato un avviso non bloccante in fase di inizializzazione. In tal caso il funzionamento non \u00e8 garantito ne lo scenario supportato. Per installare l'aggiornamento contattare Argentea.</li> <li>Per installare questa versione sulle SCO (NCR/Diebold) la versione minima richiesta dei rispettivi adattatori \u00e8 la <code>v2.0.0.17</code>. Non funziona con le versioni precedenti degli adattatori, aggiornare in concomitanza entrambi i software.</li> </ul>"},{"location":"changelog/release-notes.html#41463-del-08042021","title":"4.1.463 del 08/04/2021","text":""},{"location":"changelog/release-notes.html#whats-new_10","title":"What's New","text":"<ul> <li>Separata la gestione dei pagamenti con PagRt=2 tra 'Ticket' e 'Non Riscosso'  Indicando nella descrizione pagamento la parola ticket, su stampante fiscale sar\u00e0 movimentata la parte Ticket, diversamente quella Non riscosso.  La stampa della descrizione del pagamento nell'appendice non subisce variazioni.</li> </ul>"},{"location":"changelog/release-notes.html#bug-fixes-and-issued-adressed_9","title":"Bug fixes and issued adressed","text":"<ul> <li>Corretta l'impaginazione della stampa prelievi/versamenti su stampante RTONE</li> </ul>"},{"location":"changelog/release-notes.html#breaking-changes_7","title":"Breaking Changes","text":"<ul> <li>Fare riferimento alla versione 4.1.300/344/373</li> </ul>"},{"location":"changelog/release-notes.html#known-issues_1","title":"Known issues","text":"<ul> <li>Fare riferimento alla versione 4.1.300/344/373</li> </ul>"},{"location":"changelog/release-notes.html#41447-del-23032021","title":"4.1.447 del 23/03/2021","text":""},{"location":"changelog/release-notes.html#whats-new_11","title":"What's New","text":"<ul> <li>Aggiunto il supporto iniziale ad XML7 per il Server RT Epson.</li> <li>Aggiunto il supporto alle stampe reportistiche della SCO NCR sulla stampante NCR 130A con firmware XML7</li> </ul>"},{"location":"changelog/release-notes.html#bug-fixes-and-issued-adressed_10","title":"Bug fixes and issued adressed","text":"<ul> <li>Apportati alcuni cambiamenti per impedire alla stampante RT-One con il driver OPOS Diebold di annullare randomicamente la transazione.</li> <li>Allineati alcuni comportamenti grafici del nuovo PluContainer2 con il precedente</li> </ul>"},{"location":"changelog/release-notes.html#breaking-changes_8","title":"Breaking Changes","text":"<ul> <li>Fare riferimento alla versione 4.1.300/344/373</li> </ul>"},{"location":"changelog/release-notes.html#known-issues_2","title":"Known issues","text":"<ul> <li>Fare riferimento alla versione 4.1.300/344/373</li> </ul>"},{"location":"changelog/release-notes.html#41432-del-08032021","title":"4.1.432 del 08/03/2021","text":""},{"location":"changelog/release-notes.html#whats-new_12","title":"What's New","text":"<ul> <li>Aggiunto il supporto alla cancellazione nel meccanismo di retry stampa sulla SCO NCR. In caso di errore in emissione scontrino,  qualora l'utente dovesse premere il tasto <code>Annulla/Cancel</code>, la transazione verr\u00e0 annullata. E' necessario aggiornare l'adattatore alla versione <code>2.0.0.16</code>.</li> <li>Aggiunto il supporto XML7 Nota credito sulle SCO Diebold ed NCR. E' ora possibile, da una cassa posware standard, emettere una nota di credito originariamente generata da una  SCO. E' necessario aggiornare gli adattatori alla versione <code>2.0.0.16</code></li> <li>Aggiunto per le stampanti EPSON il supporto al firmware <code>7.01/11.01 build **249**</code>. E' garantita la retrocompatibilit\u00e0 con i precedenti.</li> </ul>"},{"location":"changelog/release-notes.html#bug-fixes-and-issued-adressed_11","title":"Bug fixes and issued adressed","text":"<ul> <li>Corretto un problema che impediva l'aggiornamento automatico dell'intestazione dello scontrino su stampanti EPSON se l'opzione Carica Logo era attivata.</li> <li>Corretto l'errore OPOS 207 che poteva verificarsi in alcuni casi di emissione nota credito con le stampanti EPSON. La risoluzione \u00e8 legata al supporto firmware build 249.</li> </ul>"},{"location":"changelog/release-notes.html#breaking-changes_9","title":"Breaking Changes","text":"<ul> <li>Fare riferimento alla versione 4.1.300/344/373</li> </ul>"},{"location":"changelog/release-notes.html#known-issues_3","title":"Known issues","text":"<ul> <li>Fare riferimento alla versione 4.1.300/344/373</li> </ul>"},{"location":"changelog/release-notes.html#41418-del-22022021","title":"4.1.418 del 22/02/2021","text":""},{"location":"changelog/release-notes.html#whats-new_13","title":"What's New","text":"<ul> <li>Aggiunto il supporto XML 7 per la stampante NCR. Consultare i cambiamenti introdotti nel documento apposito Adeguamenti RT XML 7</li> <li>Aggiunte ulteriori note sul workflow dei ticket elettronici e dematerializzati numerati nel documento Adeguamenti RT XML 7</li> </ul>"},{"location":"changelog/release-notes.html#bug-fixes-and-issued-adressed_12","title":"Bug fixes and issued adressed","text":"<ul> <li>MOTORE PROMO: in alcune promo composte su scontrino, \u00e8 stato riallineato il comportamento del motore rispetto alla versione 4.0.x con runtime v3.5</li> </ul>"},{"location":"changelog/release-notes.html#breaking-changes_10","title":"Breaking Changes","text":"<ul> <li>Fare riferimento alla versione 4.1.300/344/373</li> </ul>"},{"location":"changelog/release-notes.html#known-issues_4","title":"Known issues","text":"<ul> <li>Fare riferimento alla versione 4.1.300/344/373</li> </ul>"},{"location":"changelog/release-notes.html#41404-del-08022021","title":"4.1.404 del 08/02/2021","text":""},{"location":"changelog/release-notes.html#whats-new_14","title":"What's New","text":"<ul> <li>Aggiunto il supporto alla lotteria degli scontrini per le Self-Checkout Diebold. Consultare i cambiamenti introdotti nel documento apposito Posware 4.1 Adapter Self-CheckOut Diebold (cartella docs)</li> <li>Aggiunto il supporto ai ticket numerati XML 7 per i ticket elettronici e dematerializzati. Consultare i cambiamenti introdotti nel documento apposito Adeguamenti RT XML 7</li> <li>Quando un Codice Lotteria viene applicato alla transazione, di default viene ora visualizzato sul display cliente. Consultare il documento Lotteria degli scontrini per i dettagli su come disabilitare questo comportamento.</li> <li>Migliorata l'accuratezza dei messaggi sui prodotti con restrizioni all'interno dell'adattatore SCO NCR.</li> <li>Aggiunta sulla stampante RT-One la possibilit\u00e0 di far inviare al frontend la tabella dei pagamenti sovrascrivendo quella presente nella stampante. Per abilitare la feature impostare a <code>true</code> il parametro <code>sendPayment</code> del modulo <code>posware.fiscalprinter.rtone</code> in <code>tabparametriextra</code>. Di default \u00e8 <code>false</code></li> </ul>"},{"location":"changelog/release-notes.html#bug-fixes-and-issued-adressed_13","title":"Bug fixes and issued adressed","text":"<ul> <li>Corretto l'errato inserimento in tracciato XML7 che poteva accadere in alcuni casi di rettifica della quantit\u00e0 dei ticket manuali calcolati tramite la funzionalit\u00e0 di calcolo automatico</li> <li>E' stata resa omogenea la visualizzazione, con / senza decimali, nel display operatore, di alcuni messaggi contenenti la quantit\u00e0 degli articoli in transazione</li> <li>Corretto nella funzionalit\u00e0 Nota Credito, un problema di mancato ripristino di un prodotto a cui vi era stato in origine applicato un varia prezzo</li> </ul>"},{"location":"changelog/release-notes.html#breaking-changes_11","title":"Breaking Changes","text":"<ul> <li>Fare riferimento alla versione 4.1.300/344/373</li> </ul>"},{"location":"changelog/release-notes.html#known-issues_5","title":"Known issues","text":"<ul> <li>Fare riferimento alla versione 4.1.300/344/373</li> </ul>"},{"location":"changelog/release-notes.html#41387-del-25012021","title":"4.1.387 del 25/01/2021","text":""},{"location":"changelog/release-notes.html#whats-new_15","title":"What's New","text":"<ul> <li>Aggiunto il supporto alla lotteria degli scontrini per le Self-Checkout NCR. Consultare i cambiamenti introdotti nel documento apposito Posware 4.1 Adapter Self-CheckOut NCR (cartella docs)</li> <li>Migliorata la gestione del PluContainer e qualit\u00e0 visita delle tab  (solo versione .net 4.8)</li> </ul>"},{"location":"changelog/release-notes.html#bug-fixes-and-issued-adressed_14","title":"Bug fixes and issued adressed","text":"<ul> <li>Sostituita la generazione legacy dei barcode sui report Crystal Report. Sar\u00e0 necessario adeguare i report esistenti al nuovo formato</li> </ul>"},{"location":"changelog/release-notes.html#breaking-changes_12","title":"Breaking Changes","text":"<ul> <li>Fare riferimento alla versione 4.1.300/344/373</li> <li>Consultare i cambiamenti introdotti da XML nel documento apposito Adeguamenti RT XML 7</li> </ul>"},{"location":"changelog/release-notes.html#known-issues_6","title":"Known issues","text":"<ul> <li>Fare riferimento alla versione 4.1.300/344/373</li> </ul>"},{"location":"changelog/release-notes.html#41373-del-08012020","title":"4.1.373 del 08/01/2020","text":""},{"location":"changelog/release-notes.html#whats-new_16","title":"What's New","text":"<ul> <li>Aggiunto il supporto XML 7 per stampanti EPSON ed RTONE.</li> <li>Aggiunto il supporto ai ticket numerati previsto da XML 7</li> <li>Aggiunto il supporto alle nuove specifiche XML 7 per i documenti di nota credito </li> <li>Aggiunto nel log il doppio formato di versione prodotto. Vengono ora registrati sia la Product Version (4.1) che la File Version (4.1.373.0). Le nuove stringhe sostituiscono le precedenti nella stessa posizione.</li> <li>Aggiunto il supporto al periodo di inattivit\u00e0 RT anche in ambiente SCO</li> <li>Aggiunto il supporto al runtime 4/4.8 anche in ambiente SCO</li> <li>Migliorata la gestione del sensore di rilevamento carta su stampante NCR</li> <li>Nuovo formato Change Log (questo file)</li> <li>Aggiunta la documentazione nella sotto cartella docs dove viene installato posware. In questa cartella verr\u00e0 sempre inserita  la documentazione aggiornata.</li> </ul>"},{"location":"changelog/release-notes.html#bug-fixes-and-issued-adressed_15","title":"Bug fixes and issued adressed","text":"<ul> <li>Corretto un bug nello svecchiamento listini dove alcuni record con data di inizio pari a quella di svecchiamento venivano eliminati anche non avendo altri record disponibili</li> <li>Migliorato il supporto al runtime Crystal Report su configurazioni x64 e sistema operativo Windows 10. Per attivarlo consultare il documento aggiornato Posware 4.1 - .NET 4.x Runtime Notes in merito al flag <code>useLegacyV2RuntimeActivationPolicy</code></li> <li>Migliorato il sistema di notifica dei Plugin legacy. Se un plugin non viene trovato, viene riportato un DEBUG nel file di log.</li> <li>Corretto errato binding dei campi nella gestione di commissione di vendita </li> <li>Ripristinata la dimensione delle colonne relative alle richieste in griglia. Es.: scelta causale della nota di credito ed altre</li> <li>In assenza del plugin di Crystal Report, il messaggio generico di operazione annullata \u00e8 stato sostituito con uno di errore specifico</li> </ul>"},{"location":"changelog/release-notes.html#breaking-changes_13","title":"Breaking Changes","text":"<ul> <li>Fare riferimento alla versione 4.1.300/344</li> <li>Consultare i cambiamenti introdotti da XML nel documento apposito Adeguamenti RT XML 7</li> </ul>"},{"location":"changelog/release-notes.html#known-issues_7","title":"Known issues","text":"<ul> <li>Fare riferimento alla versione 4.1.300/344</li> </ul>"},{"location":"changelog/release-notes.html#41300-41344","title":"4.1.300-4.1.344","text":""},{"location":"changelog/release-notes.html#whats-new_17","title":"What's New","text":"<ul> <li>Nuovo runtime basato su .NET Framework 4.8</li> <li>Aggiunto il supporto alla lotteria degli scontrini</li> </ul>"},{"location":"changelog/release-notes.html#bug-fixes-and-issued-adressed_16","title":"Bug fixes and issued adressed","text":""},{"location":"changelog/release-notes.html#breaking-changes_14","title":"Breaking Changes","text":"<ul> <li>Termine del supporto delle tastiere fisiche</li> <li>Termine del supporto ai sistemi Windows XP based</li> </ul> <p>Consultare il documento Posware 4.1 - .NET 4.x Runtime Notes (Posware NET4.md.html) per approfondimenti</p>"},{"location":"changelog/release-notes.html#known-issues_8","title":"Known issues","text":"<ul> <li>Posware termina in modo inaspettato dopo aver effettuato la chiusura fiscale</li> <li>Posware restituisce un errore di tipo System.AccessViolationException</li> </ul> <p>Consultare il documento Posware 4.1 - .NET 4.x Runtime Notes (Posware NET4.md.html) per approfondimenti sulla risoluzione</p>"},{"location":"getting-started/installazione-posware-frontend/dipendenze-aggiornamenti-necessari.html","title":"Dipendenze di terze parti e aggiornamenti necessari","text":"<p>Prima revisione documento: 27 agosto 2024 Ultima revisione documento: 21 maggio 2025</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/dipendenze-aggiornamenti-necessari.html#glossario","title":"Glossario","text":"<ul> <li>SetupPosware: \u00e8 il nuovo setup riprogettato per l'uscita di Posware <code>4.3</code> per poter installare Posware Frontend sui terminali casse, sia nel caso di migrazione da Posware <code>4.2.x</code>, sia nel caso di nuova installazione da zero dell'applicativo;</li> <li>CDN: acronimo di Content Delivery Network;</li> <li>PosUpdate: \u00e8 l'applicativo che viene usato esclusivamente per aggiornare Posware Frontend sui terminali casse alla loro ultima Build version, in linea con la Major e Minor version installata. </li> </ul>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/dipendenze-aggiornamenti-necessari.html#cenni-preliminari","title":"Cenni preliminari","text":"<p>Il presente documento illustra nel dettaglio le note sulle dipendenze di terze parti e gli aggiornamenti necessari, che sono parte dei requisiti minimi software per l'installazione o la migrazione al nuovo Posware Frontend <code>4.3</code>.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/dipendenze-aggiornamenti-necessari.html#prerequisiti-software-necessari","title":"Prerequisiti software necessari","text":"<p>Le seguenti dipendenze e aggiornamenti devono essere installati manualmente prima di lanciare SetupPosware:</p> <ul> <li>Aggiornamenti di Windows 7 in caso di una versione inferiore a quella dei requisiti minimi. </li> <li>Aggiornamenti di Windows 10 in caso di una versione inferiore a quella dei requisiti minimi. </li> <li>.NET Framework <code>4.8</code> - link</li> <li>MySQL <code>5.6</code> in caso di nuova installazione - link</li> </ul> <p>Gli aggiornamenti di Windows possono essere effettuati dall'ordinaria procedura di Windows Update.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/dipendenze-aggiornamenti-necessari.html#installazione-degli-aggiornamenti-in-windows-7-sp1-mai-aggiornati-o-appena-installati","title":"Installazione degli aggiornamenti in Windows 7 SP1 mai aggiornati o appena installati","text":"<p>In sistemi Windows 7 SP1 appena installati e mai aggiornati, sar\u00e0 necessario installare .NET Framework <code>4.8</code> come da specifiche.</p> <p>Tuttavia, quest'ultimo si porta come dipendenze due aggiornamenti minimi da fare:</p> <ul> <li><code>KB3033929</code></li> <li>Aggiornamento dei certificati MicrosoftRootCertificateAuthority2011</li> </ul> <p>Il certificato aggiornato pu\u00f2 essere scaricato dal seguente link. </p> <p>Senza di esso nessun pacchetto di installazione viene validato con i certificati obsoleti di Windows 7 SP1 senza aggiornamenti.</p> <p>Inoltre, non essendo presenti gli update Servicing Stack 2018 che sono requisito minimo in Windows 7 per il funzionamento del nuovo Posware Frontend, sono necessari anche gli aggiornamenti a seguire:</p> <ul> <li><code>KB4457144</code></li> <li><code>KB5011649</code> con tutti i suoi aggiornamenti prerequisiti (maggiori dettagli nella sua pagina)</li> </ul> <p>Trattandosi di sistemi molto obsoleti e, dato il peso del pacchetto di aggiornamento che supera i 200 Mb, si preferisce lasciarlo come unica eccezione all'installazione automatizzata per evitare di perdere molto tempo a scaricare un pacchetto che \u00e8 raro che non sia gi\u00e0 presente nel sistema.</p> <p>Installazione Servicing Stack 2018</p> <p>\u00c8 facile verificare se gli aggiornamenti Servicing Stack 2018 sono stati installati correttamente.  Infatti Windows Update dopo la loro installazione riprender\u00e0 a funzionare e proceder\u00e0 con l'installazione di tutti gli altri aggiornamenti.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/dipendenze-aggiornamenti-necessari.html#dipendenze-con-installazione-automatica-da-parte-del-setupposware-prelevate-via-cdn","title":"Dipendenze con installazione automatica da parte del SetupPosware prelevate via CDN","text":"<p>\u00c8 possibile gestire l'installazione delle dipendenze di terze parti in due modalit\u00e0:</p> <ul> <li>Installazione manuale da parte dell'utente prima di avviare il setup</li> <li>Installazione automatica da parte di SetupPosware (con dipendenza inclusa gi\u00e0 nel setup o prelevata via CDN)</li> </ul> <p>Qualora le dipendenze vengano fatte installare automaticamente da SetupPosware, verranno prelevate via CDN.  Una connessione ad Internet stabile sar\u00e0 quindi necessaria.</p> <ul> <li>WebView2 Edge Runtime <code>109.0.1518.140</code></li> <li>Aggiornamento di Windows 7 SP1 necessario per installare .NET <code>6</code> Hosting Bundle:<ul> <li><code>KB3191566</code> (Windows Management Framework <code>5.1</code>)</li> </ul> </li> <li>.NET <code>6</code> Hosting Bundle</li> <li>VC++ Redistributable 2015-2019</li> <li>Monroes OPOS Common Control Objects <code>1.14.001</code></li> </ul> <p>Installazione manuale possibile</p> <p>Qualora si volesse procedere all'installazione manuale dei pacchetti elencati, \u00e8 necessario farlo prima di avviare il setup.</p> <p>Tutti i pacchetti gi\u00e0 installati verranno rilevati e, se la versione \u00e8 corretta, non verranno n\u00e9 riscaricati n\u00e9 reinstallati.</p> <p>Nel caso in cui un pacchetto fosse installato, ma la versione risultasse obsoleta, verr\u00e0 scaricata ed installata la versione aggiornata.</p> <p>Tutti i pacchetti sono obbligatori</p> <p>Non \u00e8 possibile procedere all'installazione del setup senza che le dipendenze siano rilevate ed installate.</p> <p>In caso contrario o in caso di interruzione da parte dell'utente, SetupPosware si interromper\u00e0 automaticamente senza installare il software.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/dipendenze-aggiornamenti-necessari.html#meccanismi-di-rilevazione-delle-dipendenze-gia-installate","title":"Meccanismi di rilevazione delle dipendenze gi\u00e0 installate","text":"<p>Tutte le dipendenze non incluse nel setup, se vengono rilevate gi\u00e0 presenti nel sistema attraverso gli opportuni meccanismi di rilevazione, non vengono n\u00e9 scaricate n\u00e9 installate nuovamente. </p> <p>Vengono ancora una volta elencate in via definitiva tutte le dipendenze con installazione automatica che vengono rilavate tramite degli opportuni meccanismi di rilevazione:</p> <ul> <li>WebView2 Edge Runtime <code>109.0.1518.140</code></li> <li>Aggiornamenti di Windows 7 SP1 necessari per installare .NET 6 Hosting Bundle:<ul> <li><code>KB2999226</code></li> <li><code>KB3063858</code></li> <li><code>KB3191566</code> (Windows Management Framework <code>5.1</code>)</li> </ul> </li> <li>.NET <code>6</code> Hosting Bundle</li> <li>VC++ Redistributable 2015-2019</li> <li>Monroes OPOS Common Control Objects <code>1.14.001</code></li> <li>Pos_SBV Client <code>1.1.0</code> (per la ricezione variazioni)</li> </ul>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/dipendenze-aggiornamenti-necessari.html#pos_sbv-client","title":"Pos_SBV Client","text":"<p>Da Posware <code>4.3</code>, il Pos_SBV Client <code>1.1.0</code> nei terminali casse per la ricezione delle variazioni viene installato automaticamente da SetupPosware e PosUpdate.</p> <p>Non \u00e8 necessario nessun ulteriore intervento da parte di un tecnico per attivare la ricezione delle variazioni.</p> <p>L'unica dipendenza esterna del servizio \u00e8 .NET Framework <code>4.8</code>, necessaria gi\u00e0 come prerequisito software per il SetupPosware.</p> <p>Resettare le registrazioni del servizio di Windows del Pos_SBV Client <code>1.1.0</code></p> <p>In caso si avesse necessit\u00e0 di resettare le registrazioni del servizio di Windows del Pos_SBV Client <code>1.1.0</code> al di fuori della procedura automatica con SetupPosware e PosUpdate, eliminare il servizio manualmente con i diritti di amministratore e reinstallarlo tramite PosUpdate.</p> <p>Per eliminare il servizio manualmente, avviare un nuovo terminale con i diritti di amministratore (cmd.exe) ed eseguire il seguente comando:</p> Comando per eliminare il servizio Pos_SBV Client manualmente<pre><code>sc.exe delete pos_sbv\n</code></pre> <p>Procedere successivamente a reinstallare il servizio avviando manualmente la versione gi\u00e0 installata oppure una aggiornata di PosUpdate.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/dipendenze-aggiornamenti-necessari.html#riavvio-del-sistema-operativo-necessario","title":"Riavvio del sistema operativo necessario","text":"<p>Non ignorare la richiesta di riavvio</p> <p>Le dipendenze esterne che necessitano di ulteriori setup complessi richiedono quasi sempre un riavvio post installazione.</p> <p>Questa condizione viene rilevata automaticamente da SetupPosware che lo richieder\u00e0 se strettamente necessario. </p> <p>Riavvia il sistema operativo e non ignorare per alcun motivo la richiesta.</p> <p>Se non \u00e8 possibile riavviare il sistema per motivi esterni all'installazione, non avviare Posware prima del riavvio.</p> <p></p> <p>La necessit\u00e0 di riavvio o meno imposta automaticamente anche la GUI del setup nella schermata finale come \u00e8 possibile vedere nell'immagine soprastante.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/overview-generale.html","title":"Overview generale","text":"<p>Prima revisione documento: 27 agosto 2024 Ultima revisione documento: 21 maggio 2025</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/overview-generale.html#cenni-preliminari","title":"Cenni preliminari","text":"<p>Il presente documento descrive i nuovi requisiti minimi e le procedure necessarie all'installazione o all'aggiornamento di Posware Frontend alla versione <code>4.3</code> dell'applicativo, cos\u00ec da poter associare le casse con lo StoreServer, il nuovo sistema centralizzato per la gestione e l'analisi del punto vendita.</p> <p>Ordine di installazione obbligatorio</p> <p>Negli scenari standard di installazione ex novo e migrazione (si esclude quindi lo scenario ibrido), \u00e8 necessario installare Posware <code>4.3</code> prima lato cassa e poi sullo StoreServer.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/overview-generale.html#requisiti-minimi","title":"Requisiti minimi","text":"","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/overview-generale.html#hardware","title":"Hardware","text":"<ul> <li>Un processore a 64bit compatibile con il sistema operativo installato sulla cassa</li> <li>8 Gb di RAM<ul> <li>4 Gb di RAM sono utilizzabili solo se il Sistema Operativo \u00e8 Windows 7</li> </ul> </li> <li>Disco rigido SSD (tipo SATA o NVME) da almeno 128 Gb</li> <li>Connessione ad Internet per l'installazione delle dipendenze</li> </ul>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/overview-generale.html#software","title":"Software","text":"<p>Obbligo di tutte le dipendenze in Posware <code>4.3</code></p> <p>Le dipendenze soprastanti sono da considerarsi TUTTE obbligatorie per poter utilizzare Posware <code>4.3</code>.</p> <ul> <li>Windows 7 SP1 con update Servicing Stack 2018 o superiore, oppure</li> <li>Windows 10 <code>1809</code> Redstone 5 Build 17763 o superiore, oppure</li> <li>Windows 11</li> <li>.NET Framework <code>4.8</code></li> <li>MySQL <code>4.1</code> o <code>5.6</code> in caso di migrazione da Posware Frontend <code>4.2</code>, oppure</li> <li>MySQL <code>5.6</code> in caso di nuova installazione da zero</li> <li>Dipendenze autoinstallanti tramite SetupPosware:<ul> <li>WebView2 Edge Runtime <code>109.0.1518.140</code></li> <li>.NET <code>6</code> Hosting Bundle</li> <li>Monroes OPOS Common Control Objects <code>1.14.001</code></li> <li>Pos_SBV Client <code>1.1.0</code> (per la ricezione variazioni)</li> </ul> </li> </ul> <p>Si prega di consultare attentamente le note varie sulle dipendenze di terze parti e gli aggiornamenti necessari nella relativa sezione prima di procedere con l'installazione o l'aggiornamento di Posware Frontend. </p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/overview-generale.html#informazioni-credenziali-e-prassi-comuni","title":"Informazioni, credenziali e prassi comuni","text":"","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/overview-generale.html#impostazioni-comunemente-usate-per-il-database","title":"Impostazioni comunemente usate per il database","text":"<ul> <li>Utente: root</li> <li>Password: vbhg4132</li> <li>Nome del database: <code>cassa</code></li> </ul>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/overview-generale.html#impostazioni-comunemente-usate-per-posware","title":"Impostazioni comunemente usate per Posware","text":"<ul> <li>Directory di default di Posware su sistemi 64bit: %PROGRAMFILES(x86)%\\Posware</li> <li>Directory di default di Posware su sistemi 32bit: %PROGRAMFILES%\\Posware</li> <li>Directory di default per gli aggiornamenti automatici di PosUpdate: C:\\PosAgg</li> </ul>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/overview-generale.html#porte-comunemente-usate-dallecosistema-posware","title":"Porte comunemente usate dall'ecosistema Posware","text":"<ul> <li>Pos_Fidelity: 6850</li> <li>Pos_Log: 6951 (in precedenza era 6851)</li> <li>StoreServer: 6851</li> <li>Pos_SBV: <ul> <li>Porta comandi: 6880 (in entrambe le versioni, sia cassa che server)</li> <li>Variazioni cassa: 6852</li> <li>Variazioni server: 6853</li> </ul> </li> <li>Posware Frontend:<ul> <li>Porte di comunicazione messenger: 6855 e 6856</li> </ul> </li> </ul>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/overview-generale.html#prassi-comuni","title":"Prassi comuni","text":"<p>Firewall di Windows sui terminali casse</p> <p>\u00c8 assolutamente necessario disattivare il firewall di Windows sui terminali casse.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/overview-generale.html#breaking-changes","title":"Breaking changes","text":"<p>Vengono elencati di seguito i diversi breaking changes introdotti in Posware Frontend a partire dalla versione <code>4.3</code> dell'applicativo:</p> <ul> <li>Nel record 01 , il barcode di un prodotto viene ora riportato unicamente con gli spazi vuoti (formato denominato Barcode No Food nella <code>4.2</code>). Non \u00e8 pi\u00f9 possibile usare il formato numerico. Barcode No Food \u00e8 da considerarsi nuovo standard.</li> <li>Per il motivo appena elencato, l'impostazione Barcode No Food nella tabella <code>config_cassa</code> viene meno (come se fosse sempre impostata ad 1).</li> <li>A partire dalla versione <code>4.3</code>, i file di configurazione di Posware, delle Connection strings e delle impostazioni utente sono stati riportati allo standard .NET rimuovendo l'approccio custom. Per maggiori informazioni consultare la relativa sezione del SetupPosware.</li> </ul> <p>Nuova versione di MySQL richiesta nelle nuove installazioni</p> <p>A partire dalla versione <code>4.3</code>, le nuove installazioni che non migrano dalla <code>4.2</code>, dovranno usare MySQL <code>5.6</code>. </p> <p>Nuova configurazione per le stampanti simulate</p> <p>A partire dalla versione <code>4.3</code>, in caso sia necessario configurare una stampante simulata per eseguire delle prove, il campo <code>tipo_fiscalprinter</code> della tabella <code>config_cassa</code> deve essere impostato pari a \"DUMMY\" invece di \"WINCOR\", il valore che era utilizzato in precedenza per tale scopo.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/overview-generale.html#feature-rimosse-in-posware-43","title":"Feature rimosse in Posware <code>4.3</code>","text":"<p>Nell'elenco sottostante vengono illustrate tutte le feature di Posware Frontend che sono state rimosse a partire dalla versione <code>4.3</code> dell'applicativo:</p> <ul> <li>Supporto alle stampanti IBM (RFImbopos e le sue dipendenze)</li> <li>Supporto alle stampanti NCR vecchie MF FASY, RealPrint e RealPOS</li> <li>Supporto alle stampanti Wincor TH230 e vecchie Wincor MF</li> <li>Supporto ai Controlli OCX e sue dipendenze che venivano usate per mostrare la telecamera. Tali tecnologie risalenti a Windows XP non sono pi\u00f9 supportate a partire da Windows Vista.</li> <li>Il vecchio interfacciamento WinEPTS <code>2.x</code> \u00e8 stato rimosso e sostituito con un nuovo interfacciamento.</li> </ul>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/overview-generale.html#feature-deprecate-che-verranno-rimosse-in-posware-44","title":"Feature deprecate che verranno rimosse in Posware <code>4.4</code>","text":"<p>Le seguenti feature di Posware Frontend sono deprecate a partire dalla versione <code>4.3</code> dell'applicativo e verranno quindi poi rimosse in Posware <code>4.4</code>:</p> <ul> <li>Gestione commissione di vendita</li> <li>Supporto alla reportistica legacy (Crystal Report, Microsoft Report)</li> <li>Nota di credito di Posware <code>4.2</code> e relative customizzazioni</li> <li>Integrazione Satispay Wally (<code>4.2</code>), sostituita dalla nuova integrazione nativa REST</li> <li>Integrazione di GetYourBill</li> </ul>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/overview-generale.html#installazione-e-aggiornamenti","title":"Installazione e aggiornamenti","text":"<p>Sono previsti questi due applicativi per le procedure di installazione e di aggiornamento di Posware Frontend:</p> <ul> <li>SetupPosware</li> <li>PosUpdate</li> </ul> <p>In particolare, SetupPosware \u00e8 il nuovo setup riprogettato per l'uscita di Posware <code>4.3</code> .</p> <p>Esso pu\u00f2 essere usato esclusivamente per le casistiche di:</p> <ul> <li>Nuova installazione di Posware Frontend sui terminali casse</li> <li>Migrazione da Posware <code>4.2.x</code></li> </ul> <p>PosUpdate \u00e8 invece l'applicativo da usare esclusivamente per aggiornare Posware Frontend sui terminali casse alla loro ultima Build version, in linea con la Major e Minor version installata (Es.: da <code>4.3.96</code> a <code>4.3.154</code>).</p> <p>I dettagli specifici sul funzionamento dei due applicativi sono consultabili nelle rispettive sezioni.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/pos-update.html","title":"PosUpdate","text":"<p>Prima revisione documento: 27 agosto 2024 Ultima revisione documento: 21 maggio 2025</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/pos-update.html#cenni-preliminari","title":"Cenni preliminari","text":"<p>Il presente documento descrive il funzionamento di PosUpdate, applicativo usato per aggiornare Posware Frontend sui terminali casse. Vengono illustrati gli scenari d'uso supportati ed una serie di dettagli sulle diverse modalit\u00e0 di installazione.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/pos-update.html#prerequisiti","title":"Prerequisiti","text":"<p>Prima di procedere con l'utilizzo di PosUpdate assicurarsi di avere una versione <code>4.3.x</code> perfettamente funzionante di Posware Frontend.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/pos-update.html#scenari-duso","title":"Scenari d'uso","text":"<p>Il pacchetto PosUpdate deve essere usato solo ed esclusivamente per aggiornare Posware Frontend (ed eventuali altre sue dipendenze come servizio manutenzioni, adattatori SCO, ecc...) alla loro ultima versione disponibile, in linea con la Major e Minor version installata.</p> <p>Esempi di scenari d'aggiornamento supportati e non supportati</p> <p>A scanso di equivoci vengono riportati di seguito tre esempi di aggiornamenti supportati e non supportati da PosUpdate:</p> <ul> <li>Aggiornamento da Posware Frontend <code>4.2</code> a <code>4.3</code>: NON SUPPORTATO. Per il cambio di Minor version usare SetupPosware.</li> <li>Aggiornamento da Posware Frontend <code>4.3</code> a <code>4.4</code> oppure alla versione <code>5.0</code>: NON SUPPORTATO. Per il cambio di Major version usare SetupPosware.</li> <li>Aggiornamento da Posware Frontend <code>4.3.171</code> a <code>4.3.304</code>: SUPPORTATO. \u00c8 lo scenario di riferimento che viene coperto da PosUpdate. A parit\u00e0 di Major e Minor version installata, basta lanciare l'ultima versione di PosUpdate.</li> </ul> <p>Nuova installazione e migrazione</p> <p>PosUpdate non \u00e8 pensato per supportare scenari di nuova installazione n\u00e9 migrazione da versioni precedenti di Posware Frontend.Questi scenari sono supportati da SetupPosware.</p> <p>Le stesse regole valgono per altri software della suite Posware che possono rappresentare una dipendenza per Posware Frontend (servizio manutenzioni, adattatori SCO, ecc...).</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/pos-update.html#modalita-di-installazione","title":"Modalit\u00e0 di installazione","text":"<p>PosUpdate supporta unicamente le seguenti modalit\u00e0 di installazione:</p> <ul> <li>Manuale: pu\u00f2 essere lanciato dall'utente con doppio click o da shell di Windows</li> <li>AutoUpdate: viene lanciato automaticamente da Posware.exe</li> </ul>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/pos-update.html#modalita-di-installazione-manuale","title":"Modalit\u00e0 di installazione manuale","text":"<p>Nell'aggiornamento manuale, l'utente pu\u00f2 lanciare l'aggiornamento facendo ordinario doppio click sull'applicativo.Cos\u00ec facendo nessun parametro particolare viene passato al PosUpdate e verr\u00e0 mostrato il wizard da cui l'utente potr\u00e0 procedere con l'installazione degli aggiornamenti.</p> <p>Verifica attentamente l'aggiornamento che avvii</p> <p>Nella modalit\u00e0 di installazione manuale, qualunque versione di PosUpdate venga lanciata, anche una versione precedente a quella installata, verr\u00e0 eseguita ed i file sovrascritti.</p> <p>Le migrazioni del database non verranno invece n\u00e9 ripetute n\u00e9 rollbackate.</p> <p></p> <p>\u00c8 inoltre possibile avviare l'applicativo tramite shell fornendo alcuni dei parametri standard previsti da Inno Setup:</p> <ul> <li><code>/SILENT</code>, <code>/VERYSILENT</code></li> <li><code>/LOG=\"filename\"</code></li> <li><code>/NOCANCEL</code></li> </ul> <p>Per la lista completa dei parametri standard previsti da Inno Setup, cos\u00ec come per sapere cosa fanno quelli soprastanti, consultare la guida ufficiale di Inno Setup.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/pos-update.html#modalita-di-installazione-automatica","title":"Modalit\u00e0 di installazione automatica","text":"<p>Se l'eseguibile di PosUpdate viene inserito nella cartella aggiornamenti definita nella tabella <code>config_cassa</code> (campo PercorsoAgg) del database <code>cassa</code> e la sua versione viene rilevata superiore a quella in uso, Posware Frontend lo lancer\u00e0 automaticamente al suo avvio.</p> <p>Rilevamento automatico degli aggiornamenti</p> <p>Il rilevamento avviene nella primissima fase di avvio di Posware Frontend, subito dopo il rilevamento delle periferiche.  Se Posware Frontend \u00e8 gi\u00e0 in uso o \u00e8 nella schermata di login, \u00e8 necessario riavviare il programma per fare in modo che l'aggiornamento venga rilevato e avviato.</p> <p>Questo comportamento \u00e8 in linea con quanto accadeva gi\u00e0 con il PosUpdate in formato .msi.</p> <p>Percorso di default degli aggiornamenti</p> <p>Per impostazione di default, la cartella degli aggiornamenti \u00e8 impostata al valore \"C:\\PosAgg\".\u00c8 possibile cambiare questo valore nella tabella <code>config_cassa</code> (campo PercorsoAgg) del database <code>cassa</code>.</p> <p>Riconoscimento della versione dell'aggiornamento</p> <p>La versione dell'aggiornamento viene riconosciuta in base al nome del file.</p> <p>Lo standard da rispettare per far riconoscere correttamente la versione \u00e8 PosUpdate_VERSIONE.exe dove VERSIONE indica il versioning dell'applicativo.</p> <p>Esempio: PosUpdate_4.3.354.exe rappresenta correttamente l'aggiornamento alla versione <code>4.3.354</code> di Posware.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/pos-update.html#installazione-automatica-e-versioni-con-plug-in","title":"Installazione automatica e versioni con plug-in","text":"<p>\u00c8 possibile anche usare un tag per personalizzare il nome del pacchetto di aggiornamento per poter permettere cos\u00ec a Posware di riconoscere e lanciare automaticamente anche eventuali PosUpdate con plug-in integrati.</p> <p>Per attivare questa feature specificare all'interno della tabella <code>tabparametriextra</code> (modulo <code>posware.instance</code> - valore applicationUpdatesTag) una stringa che verr\u00e0 poi usata come suffisso al nome standard. </p> <p>Cos\u00ec facendo Posware riconoscer\u00e0 e lancer\u00e0 sia i nuovi aggiornamenti che seguono il nome standard, sia quelli con il tag specifico.</p> <p>Esempio di pacchetto di aggiornamento personalizzato</p> <p>Inserendo la stringa CLIENTE nella tabella <code>tabparametriextra</code>, il nome dell'eseguibile di PosUpdate dovr\u00e0 seguire il formato PosUpdateCLIENTE_VERSIONE.exe oppure il formato standard PosUpdate_VERSIONE.exe.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/pos-update.html#limitare-lesecuzione-degli-aggiornamenti-automatici-ai-plug-in","title":"Limitare l'esecuzione degli aggiornamenti automatici ai plug-in","text":"<p>\u00c8 anche possibile circoscrivere l'esecuzione degli aggiornamenti automatici solo ed esclusivamente a quelli con il tag riportato.Per farlo \u00e8 necessario impostare a True il valore di isApplicationUpdateTagRestricted del modulo <code>posware.instance</code> nella tabella <code>tabparametriextra</code> del database.</p> <p>In questa modalit\u00e0 non verranno pi\u00f9 ricercati gli aggiornamenti nel formato standard, ma solo quelli personalizzati con il tag specificato in <code>tabparametriextra</code>. </p> <p>Sfruttando questo meccanismo, Posware lancer\u00e0 PosUpdate solo per una ipotetica versione con un plug-in integrato (o altre verticalizzazioni realizzate ad hoc) ed eviter\u00e0 di sovrascrivere l'installazione corrente con i file di un aggiornamento generico.</p> <p>Disponibilit\u00e0 di pacchetti PosUpdate verticalizzati</p> <p>Pacchetti PosUpdate verticalizzati vengono resi disponibili con progetti su misura a richiesta.Per un'analisi e quotazione del progetto, contattare il Vs commerciale di riferimento.</p> <p>Installazione manuale e versioni con plug-in</p> <p>L'uso del tag NON impedisce ad una installazione eseguita manualmente da Windows o da shell di sovrascrivere i file dell'installazione in uso. </p> <p>Quanto riportato in questo paragrafo \u00e8 circoscritto UNICAMENTE al lancio automatico da parte di Posware degli aggiornamenti di PosUpdate.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/pos-update.html#note-aggiuntive","title":"Note aggiuntive","text":"<p>Riavvio del sistema operativo non necessario</p> <p>PosUpdate, a differenza di SetupPosware, non installa dipendenze di terze parti e aggiornamenti del sistema operativo.</p> <p>Per questo motivo non \u00e8 mai richiesto by design di dover riavviare la cassa dopo un aggiornamento con PosUpdate.</p> <p>Reinstallare una specifica versione di Posware Frontend</p> <p>In caso si renda necessario reinstallare una specifica versione di Posware Frontend, procedere a rieseguire manualmente la relativa versione di PosUpdate.</p> <p>Le migrazioni del database non vengono effettuate e il servizio Pos_SBV non viene registrato nuovamente, a meno che non sia stato eliminato manualmente in precedenza.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/pos-update.html#troubleshooting-per-i-tecnici","title":"Troubleshooting per i tecnici","text":"<p>Il primo step da eseguire al sorgere di un problema con PosUpdate \u00e8 consultare i log.</p> <p>Per esaminarli pi\u00f9 agevolmente \u00e8 possibile avviare l'applicativo tramite terminale passandogli il parametro standard di Inno Setup <code>/LOG=\"filename\"</code>.</p> <p>Percorso dei file di log di InnoSetup</p> <p>Se PosUpdate non viene avviato con <code>/LOG=\"filename\"</code>, come da documentazione Inno Setup, il file di log viene generato con nome dinamico nella cartella \"%TEMP%\". Per questo motivo individuarlo potrebbe risultare complicato.</p> <p>Passandogli il parametro <code>/LOG=\"filename\"</code>, dove <code>filename</code> \u00e8 il nome che si vuole assegnare al file, risulta molto pi\u00f9 immediato consultare il file di log.Il nome del file \u00e8 relativo al percorso dove \u00e8 presente il file .exe del PosUpdate. \u00c8 anche possibile specificare il percorso assoluto del file.</p> <p>La lista esaustiva dei possibili errori che possono verificarsi durante l'applicazione degli aggiornamenti di Posware Frontend tramite PosUpdate \u00e8 la medesima di SetupPosware.In aggiunta \u00e8 possibile riscontrare anche l'errore riportato di seguito:</p> Messaggio Probabile causa/Strategia di risoluzione Non \u00e8 stata trovata una installazione di Posware da aggiornare. Per eseguire una nuova installazione, usare il pacchetto SetupPosware. L'aggiornamento viene annullato. PosUpdate non ha rilevato una versione precedentemente installata di Posware da aggiornare. Verificare che sia installato Posware sulla macchina e in caso affermativo verificare che non ci sia corruzione su disco.","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/setup-posware.html","title":"SetupPosware","text":"<p>Prima revisione documento: 27 agosto 2024 Ultima revisione documento: 21 maggio 2025</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/setup-posware.html#cenni-preliminari","title":"Cenni preliminari","text":"<p>Il presente documento descrive il funzionamento di SetupPosware, installativo di Posware Frontend. Vengono illustrati gli scenari d'uso supportati ed una serie di novit\u00e0 sui file di configurazione di Posware <code>4.3</code>.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/setup-posware.html#prerequisiti","title":"Prerequisiti","text":"<p>Prima di procedere con l'utilizzo di SetupPosware assicurarsi di avere le risorse hardware minime indispensabili indicate nell'overview generale e di aver installato le dipendenze necessarie con installazione manuale.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/setup-posware.html#scenari-duso","title":"Scenari d'uso","text":"<p>Il pacchetto di installazione SetupPosware supporta unicamente questi due scenari:</p> <ul> <li>Nuova installazione di Posware Frontend sui terminali casse</li> <li>Migrazione dalla versione <code>4.2.306</code> alla <code>4.3</code></li> </ul> <p>Aggiornamento all'ultima versione</p> <p>Se hai gi\u00e0 installato la versione <code>4.3</code> e devi aggiornarla all'ultima disponibile, usa il pacchetto PosUpdate.</p> <p>Gli aggiornamenti tra Build version, quindi da una versione precedente della <code>4.3.x</code> all'ultima <code>4.3.x</code> aggiornata rilasciata, rimangono sempre in carico al PosUpdate.</p> <p>In entrambi gli scenari l'utente pu\u00f2 lanciare il setup facendo ordinario doppio click sull'applicativo. Cos\u00ec facendo nessun parametro particolare viene passato al SetupPosware e verr\u00e0 mostrato il wizard da cui l'utente potr\u00e0 procedere con l'installazione.</p> <p></p> <p>\u00c8 inoltre possibile avviare l'applicativo tramite shell fornendo alcuni dei parametri standard previsti da Inno Setup:</p> <ul> <li><code>/SILENT</code>, <code>/VERYSILENT</code></li> <li><code>/LOG=\"filename\"</code></li> <li><code>/NOCANCEL</code></li> </ul> <p>Per la lista completa dei parametri standard previsti da Inno Setup, cos\u00ec come per sapere cosa fanno quelli soprastanti, consultare la guida ufficiale di Inno Setup.</p> <p>Oltre ai parametri standard, \u00e8 stato introdotto il parametro custom:</p> <ul> <li><code>/SKIPOPOS</code></li> </ul> <p>Questo parametro indica al setup di non scaricare ed installare l'ultima versione dei Monroes OPOS Common Control Objects (<code>1.14.001</code>).</p> <p>Compatibilit\u00e0 del driver OPOS</p> <p>Questo parametro \u00e8 utile in caso di incompatibilit\u00e0 dei driver OPOS in uso su stampanti NCR/CUSTOM. La compatibilit\u00e0 su EPSON e DIEBOLD RT-ONE \u00e8 garantita.</p> <p>Se stai installando un terminale con stampante CUSTOM, ti raccomandiamo di usare <code>/SKIPOPOS</code>.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/setup-posware.html#nuova-installazione","title":"Nuova installazione","text":"<p>Prima di poter avviare SetupPosware e procedere con la nuova installazione da zero di Posware Frontend \u00e8 necessario assicurarsi ancora nuovamente di aver installato almeno le dipendenze di terze parti che necessitano di installazione manuale. In particolare:</p> <ol> <li>Verificare i prerequisiti ed il sistema operativo.</li> <li>Assicurarsi di aver installato .NET Framework <code>4.8</code>, altrimenti SetupPosware dar\u00e0 errore.</li> <li>Accertarsi di aver installato MySQL <code>5.6</code>, altrimenti il setup dar\u00e0 un errore specifico e non far\u00e0 continuare l'installazione.</li> </ol> <p>MySQL <code>4.1</code> non \u00e8 pi\u00f9 utilizzabile su nuove installazioni</p> <p>Si ricorda che nelle nuove installazioni di Posware Frontend NON \u00e8 pi\u00f9 possibile utilizzare MySQL <code>4.1</code>. Installare MySQL <code>5.6</code> come riportato nei requisiti minimi di installazione.</p> <p>Se tutte le condizioni di cui sopra sono soddisfatte, SetupPosware si avvier\u00e0 e proceder\u00e0 con l'installazione. </p> <p>In questo scenario, verr\u00e0 installato un nuovo database standard pronto all'uso che potr\u00e0 poi essere personalizzato e su cui andr\u00e0 inviata tutta l'anagrafica del punto vendita.In caso di errore durante l'installazione o il ripristino del nuovo database standard, consultare i file mysql-error e mysql-output nella cartella C:\\Program Files (x86)\\Posware per scoprire che problema si \u00e8 verificato con MySQL.</p> <p>Il database installato non ha dati anagrafici</p> <p>Il database di nuova installazione contiene esclusivamente le configurazioni minime per garantire un funzionamento base e non \u00e8 pensato per la produzione. Non sono presenti dati quali prodotti, listini, barcode, promozioni, ecc...</p> <p>Database incompatibili tra <code>4.2</code> e <code>4.3</code></p> <p>Una volta conclusa l'installazione, NON SOSTITUIRE il database con uno esistente di una versione <code>4.2.x</code> di Posware, in quanto INCOMPATIBILI TRA LORO. La sostituzione comporterebbe la corruzione definitiva del database.</p> <p>Allo stesso modo NON COPIARE tabelle tra questi due database per migrare dati, anagrafica, ecc...</p> <p>Se \u00e8 necessario effettuare una nuova installazione, usando un database precedente come base, consultare il paragrafo successivo.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/setup-posware.html#usare-un-database-di-una-versione-42x-di-posware-in-una-nuova-installazione","title":"Usare un database di una versione <code>4.2.x</code> di Posware in una nuova installazione","text":"<p>\u00c8 possibile utilizzare un database <code>cassa</code> esistente in una nuova installazione da zero a patto che provenga da una versione di Posware <code>4.2.306</code> o superiore. </p> <p>Il database dovr\u00e0 essere dumpato e ripristinato su MySQL <code>5.6</code> per usarlo come base di installazione per Posware <code>4.3</code>. \u00c8 possibile usare Navicat per questa operazione, ma vista la possibilit\u00e0 di errori di migrazione, \u00e8 preferibile usare il tool ufficiale mysqldump.</p> <p>L'operazione di dump e ripristino deve essere effettuata PRIMA di lanciare il setup. Il nome del database deve essere sempre <code>cassa</code>.</p> <p>Il setup verificher\u00e0 se il database \u00e8 compatibile. In caso positivo proceder\u00e0 con il suo aggiornamento e poi con l'installazione. In caso negativo verr\u00e0 notificato un errore specifico.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/setup-posware.html#migrazione-dalla-versione-42-alla-43","title":"Migrazione dalla versione <code>4.2</code> alla <code>4.3</code>","text":"<p>Prima di poter eseguire SetupPosware e procedere con la migrazione dalla versione <code>4.2</code> alla <code>4.3</code> di Posware Frontend \u00e8 necessario completare tutti i seguenti controlli e le operazioni di backup, da usare in caso di malfunzionamenti e per l'eventuale procedura di rollback.In particolare:</p> <ol> <li> <p>Effettuare il backup sia del database <code>cassa</code> che di tutta la cartella di Posware.</p> <p>Il processo di installazione/aggiornamento non \u00e8 reversibile</p> <p>Il database una volta AGGIORNATO ALLO SCHEMA <code>4.3</code> NON \u00c8 PI\u00d9 COMPATIBILE CON POSWARE <code>4.2</code> \u00c8 estremamente importante il backup per poter tornare alla versione <code>4.2</code></p> </li> <li> <p>Assicurarsi di avere una versione di Posware installata e funzionante non inferiore alla <code>4.2.306</code>.</p> </li> <li> <p>Assicurarsi che tutti i record della tabella <code>logcassa</code> siano stati inviati al server. In caso contrario il setup dar\u00e0 un errore e non proceder\u00e0 con l'installazione.</p> <p>Migrazione non possibile con dati pendenti</p> <p>Se nella tabella <code>logcassa</code> vi sono dei dati non inviati tra la cassa ed il server di barriera, non \u00e8 possibile migrare il database.</p> <p>Riaprire Posware ed attendere la trasmissione completa dei dati. Per verificare il progresso di invio \u00e8 possibile vedere il campo <code>LastRecord</code> nella tabella <code>config_log</code>.</p> <p>Non sostituire manualmente quel valore per forzare l'operazione. TUTTI I DATI LOG NON INVIATI VERRANNO IRRIMEDIABILMENTE PERSI CON LA MIGRAZIONE.</p> </li> <li> <p>Verificare i prerequisiti ed il sistema operativo.</p> </li> <li>Accertarsi che la versione installata di MySQL (MySQL <code>4.1</code> o <code>5.6</code>) sia avviata ed accessibile e con il database <code>cassa</code> presente al suo interno, altrimenti il setup dar\u00e0 un errore specifico e non far\u00e0 continuare l'installazione.</li> </ol> <p>Se tutte le condizioni di cui sopra sono soddisfatte, SetupPosware si avvier\u00e0 e proceder\u00e0 con l'installazione del nuovo Posware Frontend. All'avvio SetupPosware verificher\u00e0 i prerequisiti di migrazione dalla versione precedente di Posware. Qualora l'installazione precedente fosse corrotta o con dati mancanti, si ricever\u00e0 un errore e non sar\u00e0 possibile continuare.</p> <p>Nello scenario di migrazione, SetupPosware non bloccher\u00e0 l'installazione se rileva una versione di MySQL <code>4.1</code> nella macchina.</p> <p>File di configurazione aggiornati</p> <p>La migrazione alla <code>4.3</code> effettua anche la migrazione e l'aggiornamento di alcuni file esistenti, quali i file di configurazione di Posware, delle Connection strings e delle impostazioni utente.Per ulteriori dettagli consultare il relativo paragrafo.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/setup-posware.html#riavvio-del-sistema-operativo-necessario","title":"Riavvio del sistema operativo necessario","text":"<p>Non ignorare la richiesta di riavvio</p> <p>A fine installazione potrebbe essere necessario riavviare il computer per iniziare ad usare Posware <code>4.3</code>. Questa condizione viene rilevata automaticamente da SetupPosware che lo richieder\u00e0 se strettamente necessario.</p> <p>Riavvia il sistema operativo e non ignorare per alcun motivo la richiesta.</p> <p>Se non \u00e8 possibile riavviare il sistema per motivi esterni all'installazione, non avviare Posware prima del riavvio.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/setup-posware.html#troubleshooting-per-i-tecnici","title":"Troubleshooting per i tecnici","text":"<p>Il primo step da eseguire al sorgere di un problema con SetupPosware \u00e8 consultare i log.</p> <p>Per esaminarli pi\u00f9 agevolmente \u00e8 possibile avviare l'applicativo tramite terminale passandogli il parametro standard di Inno Setup <code>/LOG=\"filename\"</code>.</p> <p>Percorso dei file di log di InnoSetup</p> <p>Se SetupPosware non viene avviato con <code>/LOG=\"filename\"</code>, come da documentazione Inno Setup, il file di log viene generato con nome dinamico nella cartella \"%TEMP%\". Per questo motivo individuarlo potrebbe risultare complicato.</p> <p>Passandogli il parametro <code>/LOG=\"filename\"</code>, dove <code>filename</code> \u00e8 il nome che si vuole assegnare al file, risulta molto pi\u00f9 immediato consultare il file di log.Il nome del file \u00e8 relativo al percorso dove \u00e8 presente il file .exe del SetupPosware. \u00c8 anche possibile specificare il percorso assoluto del file.</p> <p>Di seguito una lista esaustiva dei possibili errori che possono verificarsi durante l'installazione o la migrazione di Posware Frontend tramite SetupPosware:</p> Messaggio Probabile causa/Strategia di risoluzione Non \u00e8 stato possibile avviare le migrazioni del database. Verificare il log per maggiori dettagli. L'installazione viene annullata. Il database ha avuto un problema durante l'avvio degli aggiornamenti dei dati e/o strutture. Dopo aver controllato il log, verificare l'accesso ai database, verificare il corretto funzionamento del database, verificare che non ci sia corruzione su disco. Si \u00e8 verificato un errore durante l'applicazione delle migrazione del database: codice errore Verificare il log per maggiori dettagli. L'installazione viene annullata. Il database ha avuto un problema durante gli aggiornamenti dei dati e/o strutture. Controllare il log del PosUpdateCompanion per scoprire l'errore dettagliato verificatosi (Path: C:\\Program Files (x86)\\Posware\\PosUpdateCompanion). Non \u00e8 stato possibile migrare le Connessioni database e le impostazioni utente dal file 'Posware.exe.config'. Non \u00e8 stata trovata la sezione Posware.MySettings sotto il nodo applicationSettings. Il file potrebbe essere corrotto. Verificare il log per maggiori dettagli. L'installazione viene annullata. Il messaggio \u00e8 autoesplicativo. Non \u00e8 possibile installare la versione aggiornata. Nella tabella logcassa vi sono dei record ancora da inviare al server. Prima di aggiornare la cassa, \u00e8 necessario inviare tutto il log del venduto di cassa. L'installazione viene annullata. Il messaggio \u00e8 autoesplicativo. Installazione fallita. Per diagnosticare il problema, consulta i log di installazione: file di log Se l'errore \u00e8 avvenuto durante la migrazione del database o delle impostazioni, consulta l'ultimo log contenuto nella cartella nome della cartella Il messaggio \u00e8 autoesplicativo. Impossibile accedere al server database MySql. Verificare che MySql sia avviato, accessibile e che la connection string sia corretta. Il messaggio \u00e8 autoesplicativo. Il database cassa non \u00e8 aggiornato o accessibile. Verificare che il database sia esistente e che la versione di Posware da cui si sta aggiornando sia la minima richiesta (v4.2.306.0 o superiore). Il messaggio \u00e8 autoesplicativo. Impossibile trovare il file cassa_blueprint.dump necessario ad installare il database iniziale. SetupPosware non ha rilevato il dump per installare il database iniziale standard. Consultare i file mysql-error e mysql-output nella cartella C:\\Program Files (x86)\\Posware per scoprire che problema si \u00e8 verificato con MySQL. Impossibile trovare mysql.exe . Non \u00e8 possibile installare il database iniziale Verificare che sia installato MySQL e che sia installata una versione supportata da SetupPosware. Consultare la sezione soprastante per le versioni minime richieste di MySQL nei due diversi scenari di installazione. Impossibile eseguire via mysql il restore del file cassa_blueprint.dump per installare il database iniziale. Il ripristino del dump del database iniziale standard in MySQL \u00e8 fallito. Consultare i file mysql-error e mysql-output nella cartella C:\\Program Files (x86)\\Posware per scoprire che problema si \u00e8 verificato con MySQL. Non \u00e8 stato possibile avviare le verifiche preliminari del database. Verificare il log per maggiori dettagli. L'installazione viene annullata. Il messaggio \u00e8 autoesplicativo. Non \u00e8 stato possibile installare il file Posware.exe.config o il file ConnectionStrings.config nella directory di installazione. Verificare i permessi. L'installazione viene annullata. SetupPosware ha fallito l'installazione di uno o pi\u00f9 file di configurazione per una questione di permessi. Una volta verificati i permessi della cartella di Posware, riprovare a lanciare il setup. Non \u00e8 stato possibile installare il database di partenza nella directory di installazione. Verificare i permessi. L'installazione viene annullata. SetupPosware ha fallito l'installazione del database iniziale standard per una questione di permessi. Una volta verificati i permessi della cartella di MySQL, riprovare a lanciare il setup. Non \u00e8 stato possibile copiare i file di log nella directory di installazione. Verificare i permessi. Per consultare i log, PRIMA DI CHIUDERE QUESTO MESSAGGIO, apri il file nome del file da consultare Alla chiusura del Setup tutti i file temporanei vengono eliminati. Il messaggio \u00e8 autoesplicativo. Il server MySql installato non \u00e8 supportato. \u00c8 necessario usare la versione 5.6.x di MySql per effettuare una installazione ex-novo. Controllare che versione di MySQL \u00e8 installata. Se \u00e8 presente una versione diversa dalla <code>5.6.x</code> procedere quindi a installarla e configurarla, prima di riprovare a lanciare il setup. Versione di Windows 10 non supportata ( versione di Windows 10 installata non supportata ). \u00c8 richiesta almeno la versione 1809 (Redstone 5, October 2018 Update, Windows v10.0.17763). Prima di installare Posware, aggiorna Windows via Windows Update. Il messaggio \u00e8 autoesplicativo.","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/setup-posware.html#eventuali-errori-e-problemi-nella-migrazione-dalla-versione-42-alla-43","title":"Eventuali errori e problemi nella migrazione dalla versione <code>4.2</code> alla <code>4.3</code>","text":"<p>I principali problemi di una mancata migrazione sono:</p> <ol> <li>Impossibilit\u00e0 di leggere Posware.exe.config oppure reperire da esso la Connection string da usare per accedere al database <code>cassa</code> gi\u00e0 presente.</li> <li>La versione <code>4.2</code> di Posware \u00e8 corrotta e all'interno di \"Installazione applicazioni\" di Windows non \u00e8 presente una voce per Posware.</li> </ol> <p>Nei prerequisiti di migrazione, si verifica l'accesso al database <code>cassa</code> gi\u00e0 esistente e la sua struttura per determinare se Posware pu\u00f2 essere migrato alla <code>4.3</code>.Il Setup richiede che il database sia presente ed accessibile. Per verificare MySQL ed accedere al database <code>cassa</code>, i dati di accesso vengono ottenuti dalla Connection string all'interno di Posware.exe.config (parametro Connessione negli applicationSettings).</p> <p>Se la Connection string non \u00e8 corretta, SetupPosware non proceder\u00e0 con l'installazione.</p> <p>Inoltre, il setup verifica anche che ci sia una versione di Posware non inferiore alla <code>4.2.306</code>, la versione minima supportata per la migrazione alla <code>4.3</code> dell'applicativo.Se questa condizione non dovesse essere soddisfatta, SetupPosware mostrer\u00e0 un errore specifico e per risolvere il problema sar\u00e0 necessario installare una versione di Posware <code>4.2</code> pari o superiore alla <code>4.2.306</code> prima di poter riprovare ad eseguire la migrazione.</p> <p>Come agire in caso di installazioni non conformi</p> <p>Se dopo aver migrato la cassa dalla versione <code>4.2</code> alla <code>4.3</code> ci sono problemi di migrazione del database a causa di situazioni non conformi, partire da una situazione ex novo.</p>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-posware-frontend/setup-posware.html#aggiornamento-dei-file-di-configurazione","title":"Aggiornamento dei file di configurazione","text":"<p>A partire dalla versione <code>4.3</code>, i file di configurazione di Posware, delle Connection strings e delle impostazioni utente sono stati riportati allo standard .NET rimuovendo l'approccio custom.</p> <p>SetupPosware provveder\u00e0 ad installare (o migrare in caso di migrazione dalla <code>4.2</code>) automaticamente i seguenti file di configurazione:</p> <ul> <li>Posware.exe.config</li> <li>ConnectionStrings.config</li> <li>Posware.User.config</li> </ul> <p>I punti cruciali di questo processo sono:</p> <ol> <li> <p>Le Connection strings sono state spostate nel file dedicato ConnectionStrings.config e non sono pi\u00f9 presenti all'interno di Posware.exe.config</p> <p>Connection strings</p> <p>Le Connection strings, una volta migrate, non vengono pi\u00f9 modificate ed \u00e8 possibile da parte dell'utente effettuare le proprie modifiche.</p> <p>Rimane inteso che NON \u00e8 possibile cambiare il nome della connessione ma solo il suo valore. Per ConnessioneServer \u00e8 anche possibile cambiare il provider da MySQL a SQL Server (vedere nel file la connessione di esempio commentata)</p> <p>PosUpdate non sovrascriver\u00e0 n\u00e9 modificher\u00e0 mai quel file durante gli aggiornamenti futuri.</p> <p>ConnessioneServer nello scenario di migrazione</p> <p>Durante la migrazione dalla versione <code>4.2</code> alla <code>4.3</code>, se nel file Posware.exe.config la password del server di barriera corrisponde alla vecchia password di default (vbhg4132), SetupPosware la aggiorner\u00e0 automaticamente alla nuova password di default (Vbhg4132!).</p> <p>Se invece era stata impostata una password personalizzata, sar\u00e0 necessario aggiornare manualmente il valore della chiave ConnessioneServer nel file ConnectionStrings.config</p> </li> <li> <p>Posware.exe.config, se necessario, viene sovrascritto da PosUpdate durante un aggiornamento.</p> <p>Posware.exe.config</p> <p>A partire da Posware <code>4.3</code> non \u00e8 pi\u00f9 possibile modificare il file di configurazione per inserire impostazioni custom o modifiche al runtime.</p> </li> <li> <p>Le configurazioni di runtime .NET Framework vengono gestite nel file Posware.User.config</p> <p>Impostazioni di runtime in Posware.User.config</p> <p>Tutte le impostazioni di runtime .NET che nella <code>4.2</code> richiedevano un valore all'interno di Posware.exe.config, a partire dalla <code>4.3</code> dovranno essere inserite nel nuovo file Posware.User.config che il runtime .NET caricher\u00e0 automaticamente.</p> <p>Posware non fa uso di tali impostazioni e non \u00e8 prevista un'attivit\u00e0 di migrazione per esse.Se hai delle impostazioni per esigenze custom, dovrai migrarle manualmente e verificarne il funzionamento.</p> </li> <li> <p>Tutte le impostazioni che prima erano sotto le voci Posware.MySettings (applicationSettings) sono ora state spostate nel database di <code>posware</code> in <code>tabparametriextra</code>:</p> <ul> <li>campiRicArticolo</li> <li>campiFiltroRicArticoli</li> <li>messaggiServerGiacenza</li> <li>montanteGift</li> <li>montanteFido</li> <li>codPagamentoCoupon</li> </ul> </li> </ol>","tags":["Posware","Posware Frontend"]},{"location":"getting-started/installazione-storeserver/aggiornamento-storeserver.html","title":"Aggiornamento StoreServer","text":"<p>Prima revisione documento: 20 maggio 2025 Ultima revisione documento: 21 maggio 2025</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/aggiornamento-storeserver.html#cenni-preliminari","title":"Cenni preliminari","text":"<p>Il presente documento descrive la procedura di aggiornamento del componente StoreServer attraverso il package manager Winget. L\u2019aggiornamento tramite Winget consente di installare l\u2019ultima versione disponibile del software, mantenendo eventuali file di configurazione personalizzati gi\u00e0 presenti nel sistema.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/aggiornamento-storeserver.html#prerequisiti","title":"Prerequisiti","text":"<p>Prima di procedere con l'aggiornamento dello StoreServer assicurarsi che lo StoreServer sia gi\u00e0 installato e perfettamente funzionante.</p> <p>Il comando di update di Winget funziona solo se lo StoreServer \u00e8 gi\u00e0 installato nel sistema.In caso contrario, verr\u00e0 avviato automaticamente il processo di installazione della nuova versione, ma senza argomenti custom.</p> <p>Versione minima necessaria</p> <p>Assicurarsi di avere installata la versione minima di Winget supportata per l'installazione e l'aggiornamento dello StoreServer, consultabile nell'overview generale. </p> <p>In caso di dubbi, procedere in ogni caso all'aggiornamento di Winget usando il Microsoft Store.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/aggiornamento-storeserver.html#aggiornamento-dello-storeserver-tramite-winget","title":"Aggiornamento dello StoreServer tramite Winget","text":"<p>Per aggiornare lo StoreServer all\u2019ultima versione disponibile \u00e8 necessario utilizzare il package manager Winget.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/aggiornamento-storeserver.html#avvio-dellaggiornamento","title":"Avvio dell'aggiornamento","text":"<p>Avviare un nuovo terminale con i diritti di amministratore (cmd.exe) ed eseguire il comando:</p> Comando<pre><code>winget update StoreServer \n</code></pre> <p>L\u2019aggiornamento sovrascrive i file esistenti del programma, ma mantiene intatti tutti i file di configurazione modificati manualmente dall\u2019utente.</p> <p>Aggiornamento e argomenti custom</p> <p>Il comando <code>winget update</code> non supporta argomenti custom (come connection string personalizzate o parametri di configurazione).Se lo StoreServer non \u00e8 gi\u00e0 installato, il comando avvier\u00e0 comunque l\u2019installazione dell\u2019ultima versione disponibile, ma con impostazioni standard. Questo \u00e8 il comportamento predefinito del package manager Winget di Windows.</p> <p>Per mantenere una configurazione personalizzata, verificare sempre che lo StoreServer sia gi\u00e0 installato prima di avviare l'aggiornamento.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/aggiornamento-storeserver.html#parametri-proprietari-di-winget","title":"Parametri proprietari di Winget","text":"<p>Winget mette a disposizione ulteriori parametri la cui trattazione esula da questa documentazione. </p> <p>I parametri pi\u00f9 utili allo scopo sono:</p> <ul> <li><code>--vebose</code>: abilita un output dettagliato del processo di aggiornamento.</li> <li><code>--open-logs</code>: apre automaticamente la cartella dei log a fine aggiornamento. </li> </ul> <p>Per abilitari tali comportamenti, aggiungere i parametri al comando riportato in precedenza.</p> Comando con parametri proprietari di Winget<pre><code>winget update StoreServer --verbose --open-logs\n</code></pre>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html","title":"Installazione di un nuovo StoreServer","text":"<p>Prima revisione documento: 18 luglio 2024 Ultima revisione documento: 21 maggio 2025</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#glossario","title":"Glossario","text":"<ul> <li>Winget: vedi Package manager.</li> <li>Package manager: software di gestione pacchetti di installazione integrato nel sistema operativo.</li> <li>StoreId: anche detto InstanceConfigurationId, rappresenta il codice del punto vendita su cui si sta installando lo StoreServer.</li> <li>WebApp: applicazione web che offre la possibilit\u00e0 di gestire in modo centralizzato le funzionalit\u00e0 disponibili nello StoreServer.</li> </ul>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#cenni-preliminari","title":"Cenni preliminari","text":"<p>Il presente documento descrive nel dettaglio le procedure necessarie all'installazione dello StoreServer su un nuovo sistema operativo. </p> <p>Per eventuali problematiche occorse durante le procedure, \u00e8 possibile consultare i Troubleshooting per i tecnici.</p> <p>\u00c8 anche possibile effettuare una rollback.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#prerequisiti","title":"Prerequisiti","text":"<p>Prima di procedere con le diverse operazioni per installare lo StoreServer in caso di una nuova installazione da zero di Posware <code>4.3</code>, \u00e8 assolutamente necessario aver installato i vari applicativi indicati nei requisiti minimi dell'overview generale ed essersi assicurati di avere le risorse hardware minime indispensabili.</p> <p>Inoltre, \u00e8 fondamentale aver eseguito quelle procedure comuni ai due scenari di installazione che vanno completate prima di procedere con l'installazione effettiva. In particolare, controllare ancora una volta di:</p> <ul> <li>avere dei backup integri della situazione precedente all'installazione dello StoreServer;</li> <li>aver installato e configurato adeguatamente il provider del database del server centrale. A tal proposito si ricorda ancora una volta che per MySQL la versione compatibile con lo StoreServer \u00e8 necessariamente la <code>8.4</code>, mentre per SQL Server \u00e8 possibile scegliere tra SQL Server 2016, 2017, 2019 o 2022.</li> </ul>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#warning","title":"Warning","text":"<p>Invio dell'intera anagrafica dati necessario</p> <p>Al termine di questa guida \u00e8 previsto che venga effettuato un invio massivo di tutta l'anagrafica del punto vendita allo StoreServer. </p> <p>Prima di iniziare, assicurarsi di poter effettuare questa operazione con il punto vendita senza causare effetti collaterali indesiderati.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#operazioni-necessarie","title":"Operazioni necessarie","text":"<p>Al fine di installare lo StoreServer di Posware <code>4.3</code> sar\u00e0 necessario eseguire tutti questi step:</p> <ol> <li>Installare lo StoreServer usando il tool di gestione pacchetti Winget</li> <li>Inserire la directory dello StoreServer nella lista delle esclusioni di Sofware Antivirus e Firewall presenti nel sistema</li> <li>Accedere allo StoreServer</li> <li>Richiedere le licenze per gli eventuali moduli aggiuntivi</li> <li>Associare le casse allo StoreServer</li> <li>Installare e verificare il comportamento corretto dei servizi legacy</li> <li>Verificare la ricezione dei log e dei dati delle statistiche dettagliate</li> <li>Inviare l'intera anagrafica per popolare le tabelle del nuovo database dello StoreServer</li> </ol>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#installazione-storeserver-tramite-winget","title":"Installazione StoreServer tramite Winget","text":"<p>Per installare lo StoreServer \u00e8 necessario usare il package manager Winget.</p> <p>Versione minima necessaria</p> <p>Assicurarsi di avere installata la versione minima supportata per l'installazione dello StoreServer, consultabile nell'overview generale. </p> <p>In caso di dubbi, procedere in ogni caso all'aggiornamento di Winget usando il Microsoft Store.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#aggiunta-del-repository-posware","title":"Aggiunta del repository Posware","text":"<p>Prima esecuzione</p> <p>Le istruzioni di questo paragrafo vanno eseguite una sola volta, solo su sistemi che non hanno mai aggiunto la source di ISiD sul computer.</p> <ol> <li>Avviare un nuovo terminale con i diritti di amministratore (cmd.exe).</li> <li>Inserire la source di ISiD in Winget da terminale, usando il comando: Comando<pre><code>winget source add posware https://winget.isid.it/posware/api -t \"Microsoft.Rest\"\n</code></pre></li> </ol>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#avvio-dellinstallazione","title":"Avvio dell'installazione","text":"<p>Dallo stesso terminale aperto in precedenza, eseguire il comando: Comando<pre><code>winget install --id isid.storeserver --source posware --verbose\n</code></pre></p> <p>Questo comando avvier\u00e0 l'installazione dello StoreServer usando le impostazioni standard.</p> <p>Le impostazioni standard sono le seguenti:</p> <ul> <li> <p>StoreId: 1  (1)</p> <ol> <li>Rappresenta il codice del punto di vendita. InstanceConfigurationId \u00e8 un altro riferimento usato per intedere lo stesso parametro</li> </ol> </li> <li> <p>Connection string in caso il database provider sia MySQL: server=localhost;user id=root;password=Vbhg4132!;database=posware;</p> </li> <li>Connection string in caso il database provider sia SQL Server: Data Source=.\\sqlexpress;Initial Catalog=posware;User ID=sa;Password=Vbhg4132!;Encrypt=false;Trust Server Certificate=true;</li> </ul> <p>Le credenziali standard dei database sono cambiate</p> <p>Ai fini di compatibilit\u00e0 con le nuove restrizioni dei criteri password complesse delle recenti versioni di MySQL e SQL Server, la nuova password di default \u00e8 stata variata in Vbhg4132!</p> <p>Si consiglia di cambiare la password in tutti i sistemi di produzione. </p> <p>L'installazione rilever\u00e0 automaticamente il database da utilizzare tra MySQL e SQL Server, utilizzando le impostazioni standard cui sopra.</p> <p>Per approfondimenti sulla logica di rilevamento automatico consulta il paragrafo dedicato.</p> <p>Se sulla stessa macchina sono gi\u00e0 installati sia MySQL che SQL Server, viene consigliato di specificare la Connection string e consultare il paragrafo di logica di rilevamento automatico.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#uso-dei-parametri-di-installazione-personalizzati","title":"Uso dei parametri di installazione personalizzati","text":"<p>Winget --custom</p> <p>Tutti i parametri personalizzati devono essere inseriti all'interno del parametro --custom come da standard Winget.</p> <p>Possono essere usati sia singolarmente che combinati.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#usare-una-connection-string-specifica","title":"Usare una connection string specifica","text":"<p>\u00c8 necessario specificare una connection string se:</p> <ul> <li>Sulla stessa macchina vi sono installati sia MySQL che SQL Server e si vuole destinare il database specificatamente all'uno o all'altro</li> <li>Il nome del database che vuoi usare per lo StoreServer non \u00e8 <code>posware</code></li> <li>Le credenziali da usare per l'accesso al database sono diverse da quelle prefedefinite</li> <li>Altri casi non direttamenti supportati che tuttavia necessitano di parametri ulteriori nella stringa di connessione al database</li> </ul> Installazione con connection string custom<pre><code>winget install --id isid.storeserver --source posware --custom \"/CONNECTIONSTRING=connection string diversa da quelle di default\" --verbose\n</code></pre> <p>Escape dei parametri con spazi</p> <p>Se la Connection string contiene keyword con spazi, deve essere racchiusa fra doppi apici che, a loro volta, essendo dentro il parametro --custom, andranno escapizzati.</p> <p>Esempio: /CONNECTIONSTRING=\"\"server=localhost;user id=root;password=Vbhg4132!;database=posware;port=3307\"\"</p> <p>Di seguito un esempio completo di connection string custom, con parametri con spazi, che usa credenziali di accesso non di default ed un porta di comunicazione al database MySQL non standard:</p> Installazione con connection string con spazi e credeziali custom<pre><code>winget install --id isid.storeserver --source posware --custom \"/CONNECTIONSTRING=\"\"server=localhost;user id=isid;password=1r{1]@ZJ^7/f;database=posware;port=3307\"\" \" --verbose\n</code></pre> <p>Attenzione al carattere di escape</p> <p>Il carattere/modo di escape delle stringhe dipende dalla shell terminale che si usa.</p> <p>In tutti gli esempi riportati viene usata la shell cmd.exe di Windows (Command Prompt). </p> <p>Per evitare problemi si raccomanda vivamente di seguire gli esempi e NON usare Windows PowerShell.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#usare-un-codice-punto-vendita-specifico","title":"Usare un codice punto vendita specifico","text":"<p>Per specificare un codice punto vendita diverso da 1 (default), \u00e8 possibile usare il parametro <code>/STOREID</code>. Esempio:</p> Installazione con codice punto vendita custom<pre><code>winget install --id isid.storeserver --source posware --custom \"/STOREID=valore del codice del punto vendita diverso da quello di default \" --verbose\n</code></pre> <p>Codice punto vendita come numero</p> <p>Il codice del punto vendita \u00e8 sempre un numero intero positivo tra 1 e 9999 (inclusi).</p> <p>Lo StoreServer non supporta codici alfa numerici. </p> <p>Eventuali numeri riportati con zeri davanti saranno considerati senza zeri.</p> <p>A fini esplicativi, si riporta un esempio completo del comando di installazione dello StoreServer usando tutti i parametri custom:</p> Installazione con codice punto vendita 5 e connection string custom<pre><code>winget install --id isid.storeserver --source posware --custom \"/CONNECTIONSTRING=\"\"server=localhost;user id=isid;password=1r{1]@ZJ^7/f;database=posware;port=3307\"\" /STOREID=5 \" --verbose\n</code></pre>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#parametri-proprietari-di-winget","title":"Parametri proprietari di Winget","text":"<p>Winget mette a disposizione ulteriori parametri la cui trattazione esula da questa documentazione. </p> <p>Il parametro pi\u00f9 utile allo scopo \u00e8 <code>--open-logs</code>: apre automaticamente la cartella dei log a fine installazione. </p> <p>Per farlo, aggiungere il parametro ai comandi gi\u00e0 riportati negli esempi precedenti. </p> Installazione con codice punto vendita 5 e connection string custom<pre><code>winget install --id isid.storeserver --source posware --custom \"/CONNECTIONSTRING=\"\"server=localhost;user id=isid;password=1r{1]@ZJ^7/f;database=posware;port=3307\"\" /STOREID=5 \" --verbose --open-logs\n</code></pre> <p>Se dovessero servire ulteriori comandi di Winget, consultare la guida ufficiale di Microsoft.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#troubleshooting-per-i-tecnici","title":"Troubleshooting per i tecnici","text":"<p>Il primo step da eseguire al sorgere di un problema con l'installazione dello StoreServer, \u00e8 consultare i log.</p> <p>Per esaminarli pi\u00f9 agevolmente \u00e8 possibile inserire nel comando di Winget il parametro --open-logs cos\u00ec da avere la cartella aperta automaticamente a fine installazione.</p> <p>La cartella viene aperta anche in caso di fallimento dell'installazione.</p> <p>Di seguito una lista esaustiva dei possibili errori che possono verificarsi durante l'installazione:</p> Messaggio Probabile causa/Strategia di risoluzione Versione di ASP.NET Core richiesta non \u00e8 installato. Controllare la versione minima richiesta di ASP.NET Core, scaricarla e riprovare l'installazione. \u00c8 stata selezionata una funzione sconosciuta. Potenziale bug. Notificare l'errore al team di sviluppo. Sono stati forniti parametri non validi. Potenziale bug. Notificare l'errore al team di sviluppo. L'utente ha interrotto l'operazione di preparazione. L'operazione di preparazione \u00e8 stata interrotta dall'utente forzatamente. Si \u00e8 verificato un errore sconosciuto durante il tentativo di connessione al database server. Verificare la connessione al database e soprattutto se il database sia accessibile. Se necessario, specificare una Connection string personalizzata con il parametro --custom. Connessione al database fallita. Verificare che il database sia installato e accessibile. Se necessario, specificare una stringa di connessione personalizzata. Il messaggio \u00e8 autoesplicativo. La versione del database server non \u00e8 supportata. Controllare la versione richiesta del database in utilizzo, MySQL o SQL Server, nei requisiti minimi dell'overview generale. Procedere poi a installarla e configurarla prima di riprovare l'installazione dello StoreServer. Risulta gi\u00e0 presente un database installato. In una nuova installazione non \u00e8 possibile usare database gi\u00e0 presenti. Si \u00e8 provato ad eseguire una nuova installazione con un database gi\u00e0 esistente. Per installare usando un database migrato, consulta la documentazione Migrazione da servizi legacy.(Specificare da linea di comando i parametri <code>/MIGRATED</code>, <code>/STOREID</code>, <code>/CONNECTIONSTRING</code> validi.) Si \u00e8 verificato un errore durante il salvataggio delle configurazioni. Rappresenta un problema di scrittura grave. Verificare il funzionamento corretto dell'hardware e ritentare l'installazione ripartendo da capo. Si \u00e8 verificato un errore durante il salvataggio della stringa di connessione. Rappresenta un problema di scrittura grave. Verificare il funzionamento corretto dell'hardware e ritentare l'installazione ripartendo da capo. Si \u00e8 verificato un errore durante l'installazione delle migrazioni. Il database ha avuto un problema durante gli aggiornamenti dei dati e/o strutture. Verificare l'accesso al database, verificare il corretto funzionamento del database, verificare che non ci sia corruzzione su disco. Si \u00e8 verificato un errore durante la registrazione dello StoreServer come servizio di Windows. \u00c8 un problema di sistema operativo. Verificare i permessi dell'utente e dell'installer, verificare che non sia gi\u00e0 presente un servizio StoreServer installato (se si, eliminarlo manualmente e rilanciare il setup). Verificare l'integrit\u00e0 dei file di sistema di Windows. Si \u00e8 verificato un errore durante l'avvio dello StoreServer come servizio di Windows. Problema di permessi utente e/o configurazione sistema operativo, integrit\u00e0 dei file di sistema. Non \u00e8 stato possibile interrompere il servizio StoreServer. \u00c8 un problema di sistema operativo. Verificare i permessi dell'utente e dell'installer. Verificare l'integrit\u00e0 dei file di sistema di Windows. Sono necessari i diritti di amministratore per eseguire una nuova installazione. Si \u00e8 provato ad effettuare l'installazione senza aver aperto il terminale con i diritti di amministratore. Riavviare il terminale come amministratore e riprovare l'installazione. Impossibile installare/aggiornare l'applicazione. Non ho trovato nessun file di impostazioni esistente appsettings.Production.json nella directory di installazione. Non viene rivelato o non \u00e8 stato trovato il file appsettings.Production.json con tutte le impostazioni dell'applicativo. Controllare all'interno della cartella dello StoreServer se \u00e8 presente o meno e in caso di mancata presenza notificare l'errore al team di sviluppo. Impossibile installare/aggiornare l'applicazione. La directory di installazione non \u00e8 vuota. Per aggiornare il programma usare winget upgrade. Per reinstallare il programma o installare usando un database migrato, consulta la documentazione. \u00c8 gi\u00e0 presente la cartella dello StoreServer e quindi \u00e8 gi\u00e0 stata effettuata l'installazione in precedenza. Per aggiornare lo StoreServer, consultare la relativa sezione della documentazione. Collegamento al database non riuscito. Impossibile procedere con l'installazione o l'upgrade. Connessione al database fallita. Verificare che il database sia installato e accessibile. Se necessario, specificare una connection string personalizzata.","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#logica-di-rilevamento-automatico-del-database-provider","title":"Logica di rilevamento automatico del database provider","text":"<ol> <li>Viene rilevata la versione installata di MySQL e SQL Server. Si ricorda che le versioni richieste sono MySQL <code>8.4</code> per MySQL e SQL Server <code>2016</code>, <code>2017</code>, <code>2019</code> o <code>2022</code> per SQL Server.</li> <li> <p>Se viene rilevata una versione richiesta per uno o entrambi i database provider, Winget prova ad accedere al database con le Connection strings di default:</p> <ul> <li>Connection string in caso il database provider sia MySQL: server=localhost;user id=root;password=Vbhg4132!;database=posware;</li> <li>Connection string in caso il database provider sia SQL Server: Data Source=.\\sqlexpress;Initial Catalog=posware;User ID=sa;Password=Vbhg4132!;Encrypt=false;Trust Server Certificate=true;</li> </ul> </li> <li> <p>Se con le Connection strings di default non si riesce ad accedere, viene verificato se \u00e8 presente una connection string custom fornita nel comando da terminale e si prova ad accedere con quella. Se Winget non riesce ad accedere neanche con la Connection string custom, allora il setup dar\u00e0 un errore e non proceder\u00e0 con l'installazione.</p> </li> <li>Una volta eseguito l'accesso con una qualsiasi connection string, Winget verifica che il database a cui si collega NON sia gi\u00e0 esistente, altrimenti il setup dar\u00e0 un errore e non proceder\u00e0 con l'installazione.</li> <li>Se Winget riesce ad accedere e il database non esiste gi\u00e0, allora l'installazione potr\u00e0 procedere con gli step successivi.</li> </ol> <p>Utilizzo di una connection string custom in presenza contemporanea sia di MySQL che di SQL Server</p> <p>Se sono installati sulla macchina sia MySQL <code>8.4</code> che SQL Server (<code>2016</code>, <code>2017</code>, <code>2019</code> oppure <code>2022</code>) ed entrambi i database utilizzano le relative Connection strings di default, Winget imposter\u00e0 come database provider dello StoreServer MySQL <code>8.4</code>.</p> <p>Winget, infatti, controlla prima la Connection string di default di MySQL e poi quella di SQL Server e rilevando per prima quella di MySQL lo imposta come database provider dello StoreServer.</p> <p>Si raccomanda vivamente di specificare una connection string custom in questa situazione per non rischiare di incappare in comportamenti non desiderati.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#antivirus-e-firewall","title":"Antivirus e firewall","text":"<p>Dopo l'installazione, \u00e8 necessario inserire la directory dello StoreServer (C:\\Users\\XXX\\AppData\\Local\\isid\\StoreServer , dove XXX \u00e8 il nome dell'account utente in uso) nella lista delle esclusioni sia dell'antivirus che del firewall di sistema prima di provare ad avviarlo e ad associare le casse.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#accesso-allo-storeserver","title":"Accesso allo StoreServer","text":"<ol> <li>Al termine della procedura di installazione, lo StoreServer sar\u00e0 avviato automaticamente.</li> <li>Il servizio \u00e8 configurato per partire automaticamente all'avvio del computer.</li> <li>Per poter accedere alla WebApp, \u00e8 possibile collegarsi via browser all'indirizzo localhost.</li> <li>Una volta collegati allo StoreServer, apparir\u00e0 la Dashboard generale.</li> </ol> <p>Dopo aver associato le casse all'applicazione, i componenti della Dashboard mostreranno alcune informazioni generali, come l'incasso giornaliero e quello settimanale o lo stato delle casse collegate.</p> <p></p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#troubleshooting-per-i-tecnici_1","title":"Troubleshooting per i tecnici","text":"<p>Per qualsiasi problema possa sorgere con lo StoreServer, la soluzione primaria \u00e8 sempre quella di consultare i rispettivi log. I file di log sono tre e si trovano dentro la directory dello StoreServer.  Illustriamo di seguito la struttura dei loro nomi e le informazioni riportate in ognuno di essi: </p> <ul> <li><code>dmo-ef-log_YYYY-MM-DD.log</code>: questo log contiene tutte le informazioni legate a Entity Framework (EF) Core, quali le query tradotte e lanciate dal framework e le informazioni riguardanti la gestione delle connessioni al database.</li> <li><code>dmo-log_YYYY-MM-DD.log</code>: questo \u00e8 il log centrale dello StoreServer e contiene le informazioni di base, i vari warning ed errori che si verificano nell'applicazione, oltre alle informazioni che sono state inserite volutamente dagli sviluppatori, affinch\u00e9 rimangano tracciate. Non contiene i log di EF Core e delle richieste del server web, ASP.NET Core.</li> <li><code>dmo-overall-log_YYYY-MM-DD.log</code>: questo \u00e8 il log completo che contiene qualsiasi informazione venga fornita dallo StoreServer, comprese anche quindi tutte le informazioni contenute negli altri due log.</li> </ul> <p>Vengono riportati di seguito alcune delle problematiche che potrebbero emergere durante il primo avvio dello StoreServer.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#no-connection-string-found-in-appsettingsjson","title":"No connection string found in appsettings.json","text":"<p>Questo errore si verifica quando non \u00e8 stata impostata nessuna connection string al database nel file appsettings.Production.json. Quindi assicurarsi che il relativo campo sia compilato e procedere nuovamente a lanciare lo StoreServer.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#errore-generico-nella-dashboard-generale-della-webapp","title":"Errore generico nella Dashboard generale della WebApp","text":"<p>In caso si verifichino degli errori una volta collegatosi allo StoreServer comparir\u00e0 nella Dashboard generale della WebApp un messaggio a schermo generico di errore che indica l'impossibilit\u00e0 di ricevere i dati, con al di sotto di esso un pulsante per provare a ricaricare la schermata.</p> <p></p> <p>Prima di premere il pulsante Riprova, si consiglia di effettuare le seguenti verifiche per cercare di individuare la fonte che ha causato l'errore durante la richiesta delle informazioni principali della Dashboard generale.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#verifica-della-connettivita-lato-server","title":"Verifica della connettivit\u00e0 lato server","text":"<p>Assicurarsi che lo StoreServer sia operativo e perfettamente funzionante, per far s\u00ec che le chiamate arrivino a destinazione.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#verifica-della-connettivita-lato-client-in-caso-di-dispositivo-remoto","title":"Verifica della connettivit\u00e0 lato client in caso di dispositivo remoto","text":"<p>In caso la WebApp sia installata su un dispositivo remoto, ossia un dispositivo diverso da quello in cui \u00e8 installato lo StoreServer, assicurarsi che la connessione ad Internet sia operativa e stabile. Controllare, inoltre, che il dispositivo remoto sia collegato sulla stessa rete logica dello StoreServer.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#verifica-della-connettivita-del-database","title":"Verifica della connettivit\u00e0 del database","text":"<p>Se le precedenti verifiche sono andate a buon fine, provare a dirigersi tramite la side bar sinistra della WebApp su Stato servizi, raggiungibile tramite la relativa icona, e controllare se la voce Database risulta essere online. In caso negativo, assicurarsi che sia il provider sia la Connection string siano corretti.</p> <p></p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#individuare-eventuali-messaggi-di-errore","title":"Individuare eventuali messaggi di errore","text":"<p>Per individuare eventuali messaggi di errore, si possono provare due approcci distinti:</p> <ul> <li> <p>Consultare dal browser che si sta utilizzando la voce Rete (Network) degli Strumenti per sviluppatori</p> </li> <li> <p>Controllare il log dello StoreServer alla ricerca di una riga in cui sia presente la dicitura ERROR</p> </li> </ul>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#licenze-per-gli-eventuali-moduli-aggiuntivi","title":"Licenze per gli eventuali moduli aggiuntivi","text":"<p>In presenza di moduli aggiuntivi acquistati, sar\u00e0 necessario attivarli attraverso i codici di licenza d'uso. Per ottenerli \u00e8 necessario comunicare il codice di attivazione a livello di singolo modulo.</p> <p>Per consultare tutti i codici di attivazione, inserire le licenze ed altro, usare il widget Moduli installati raggiungibile cliccando sull'icona in basso  Stato servizi nella side bar della WebApp.</p> <p>Acquisto nuove licenze</p> <p>Contattare il vostro account di riferimento o l'amministrazione ISiD per ottenere le licenze necessarie.</p> <p></p> <p>I codici di attivazione possono essere copiati facilmente cliccando l'icona relativa posizionata al loro fianco, mentre per inserire le licenze selezionare la voce \"Imposta licenza\" dal men\u00f9 delle azioni. Attualmente i moduli aggiuntivi acquistabili sono due: la \"Fatturazione elettronica\" e il \"Price checker - Rilevatore prezzi\".</p> <p></p> <p>Se la licenza inserita \u00e8 valida, allora il relativo modulo verr\u00e0 attivato e le relative funzionalit\u00e0 saranno raggiungibili tramite la side bar sinistra della WebApp. Inoltre, compariranno nella lista dei moduli installati la data di scadenza della licenza del modulo e il codice licenza inserito, nei rispettivi campi.</p> <p></p> <p>Se invece la licenza inserita fosse errata, allora nella lista dei moduli installati nel campo \"Licenza valida\" verr\u00e0 notificato che la licenza \u00e8 errata e sar\u00e0 necessario procedere ad eliminare la licenza tramite il men\u00f9 delle azioni ed impostarla nuovamente inserendone una valida. </p> <p></p> <p>Nuovo metodo di attivazione delle licenze</p> <p>Questo nuovo metodo di attivazione delle licenze vale solo ed esclusivamente per lo StoreServer ed i suoi moduli.</p> <p>Per le licenze relative ai servizi legacy, consultare la relativa sezione della documentazione.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#associazione-delle-casse-allo-storeserver","title":"Associazione delle casse allo StoreServer","text":"<p>Solo casse <code>4.3.x</code> associabili</p> <p>Lo StoreServer supporta unicamente l'associazione di casse installate con Posware <code>4.3.x</code>. </p> <p>Non \u00e8 possibile in alcun caso associare una cassa che usa Posware <code>4.2.x</code>.</p> <p>Per associare le casse allo StoreServer, dalla sidebar di sinistra, cliccare sulle voci di men\u00f9 Dispositivi Casse Dashboard.</p> <p></p> <p>In assenza di casse installate verr\u00e0 mostrata questa schermata.  Per associare una cassa, usare il pulsante al centro della schermata \"Associa cassa non in elenco\".</p> <p></p> <p>Si aprir\u00e0 una finestra pop-up in cui inserire l'indirizzo IP della cassa che si vuole associare, cos\u00ec che possa iniziare a trasmettere dati e venduti, oltre a ricevere le variazioni.</p> <p></p> <p>Se la cassa:</p> <ul> <li>\u00e8 attualmente raggiungibile sull'indirizzo IP inserito e,</li> <li>Posware Frontend \u00e8 avviato e,</li> <li>Posware Frontend \u00e8 in stand-by sulla schermata di login</li> </ul> <p>allora la finestra pop-up si chiuder\u00e0, uscir\u00e0 un messaggio in alto a destra di conferma sull'avvenuta associazione e la cassa comparir\u00e0 nell'elenco.</p> <p></p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#troubleshooting-per-i-tecnici_2","title":"Troubleshooting per i tecnici","text":"<p>Se durante l'associazione della cassa allo StoreServer dovesse uscire l'errore mostrato nell'immagine sottostante, controllare che la cassa sia raggiungibile all'indirizzo IP specificato e che sia online ed avviata sulla schermata di login.</p> <p></p> <p>In ogni caso, il primo step da eseguire al sorgere di un qualsiasi errore durante l'utilizzo dello StoreServer rimane sempre quello di consultare i suoi log.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#installazione-e-verifica-del-comportamento-corretto-dei-servizi-legacy","title":"Installazione e verifica del comportamento corretto dei servizi legacy","text":"<p>Arrivati a questo step, \u00e8 necessario installare da zero e verificare il comportamento corretto dei servizi legacy. I dettagli specifici sono consultabili nella rispettiva sezione.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#ricezione-dei-log-e-dei-dati-delle-statistiche-dettagliate","title":"Ricezione dei log e dei dati delle statistiche dettagliate","text":"<p>Dopo aver associato le casse, bisogna verificare la trasmissione dei venduti allo StoreServer. </p> <p>Verificare che i nuovi dati siano stati memorizzati nella tabella <code>log</code> del database dello StoreServer.</p> <p>In presenza di dati ricevuti, \u00e8 possibile consultare le varie tabelle delle statistiche dettagliate della WebApp. Per consultare le statistiche dettagliate fare riferimento alla seguente guida.</p> <p>Note sul progresso di trasmissione verso lo StoreServer</p> <p>Se i record da trasmettere nella tabella <code>log</code> sono numerosi, potrebbe volerci un po' di tempo prima che tutti i dati vengano trasmessi dalle casse allo StoreServer.  Se si hanno dei dubbi sul fatto che i dati stiano venendo effettivamente trasmessi, controllare nella cassa in cui \u00e8 stato installato il nuovo Posware <code>4.3</code> l'avanzamento del campo <code>LastRecord</code> della tabella <code>config_log</code>, che mostrer\u00e0 l'ultimo record inviato da tale cassa allo StoreServer.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#invio-massivo-di-tutta-lanagrafica-del-punto-vendita","title":"Invio massivo di tutta l'anagrafica del punto vendita","text":"<p>Invio dell'intera anagrafica dati necessario</p> <p>Si ricorda ancora una volta che questo step conclusivo \u00e8 obbligatorio per continuare ad avere un corretto funzionamento delle operazioni del punto vendita. </p> <p>L'invio massivo pu\u00f2 richiedere molto tempo. </p> <p>Prima di iniziare, assicurarsi di poter effettuare questa operazione con il punto vendita senza causare effetti collaterali indesiderati alla normale operativit\u00e0 dello stesso.</p> <p>Obsolescenza del database CASSAMASTER</p> <p>Lo StoreServer usa esclusivamente il database POSWARE.</p> <p>Tutte le strutture presenti nel vecchio database <code>cassamaster</code> sono state integrate nel database <code>posware</code>. Il vecchio database <code>cassamaster</code> non viene pi\u00f9 usato da nessuna procedura interna ISiD.</p> <p>Per popolare le tabelle del database installato dello StoreServer (anagrafica, articoli ed altre) \u00e8 necessario inviare l'intera anagrafica. Per eseguire questa operazione fare riferimento alla documentazione del software di backoffice in uso dal punto vendita.</p> <p>Nell'eseguire le operazioni necessarie con il software di backoffice, assicurarsi che siano rispettate le seguenti raccomandazioni:</p> <ul> <li>Non causare stampe massive e/o superflue delle etichette prezzo.</li> <li>Se non si ritiene necessario, evitare di inviare variazioni massive alle casse, alle bilance e ad eventuali etichette elettroniche installate. La procedura di invio massivo delle variazioni, infatti, ha il solo scopo di popolare il database del server centrale.</li> </ul> <p>Non copiare dati e/o strutture da CASSAMASTER!</p> <p>Al fine di popolare il database dello StoreServer, NON copiare dati e/o strutture delle tabelle del database <code>cassamaster</code> o dai database delle casse, in quanto differenti e non compatibili tra loro!</p> <p>Operazioni di questo tipo NON sono assolutamente supportate e comportano l'immediata CORRUZIONE IRRIMEDIABILE del database del server centrale!</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-nuovo-storeserver.html#rollback-draft-da-completare","title":"Rollback - [DRAFT DA COMPLETARE]","text":"<p>Al fine di eseguire la procedura di rollback dello StoreServer, se sono stati fatti i backup preliminari necessari, sar\u00e0 necessario completare tutti i seguenti step:</p> <ol> <li>Disinstallare lo StoreServer, tramite Winget o Windows, e ripristinare eventuali backup a database e directory non direttamente collegate a Posware, che per\u00f2 sono state influenzate dall'installazione dello StoreServer o di una o pi\u00f9 dipendenze/procedure usate dalla nuova versione.</li> <li>Reinstallare la versione precedente tramite Winget specificando con il parametro --version la versione voluta e tutti i parametri custom necessari, visti gi\u00e0 in precedenza nella sezione relativa all'installazione con Winget di questa guida. Questo step va effettuato solo se non si \u00e8 nel caso di rollback della prima installazione dello StoreServer, ma si era passati da una versione precedente a una nuova dell'applicativo con un upgrade.</li> <li>Eliminare totalmente i vari servizi legacy installati da zero e i relativi servizi Windows.</li> <li>Sovrascrivere il database creato da Winget con il backup del database precedente all'installazione dello StoreServer. Inoltre, se il provider del database, MySQL o SQL Server, era stato installato momentaneamente su una porta differente per non entrare in conflitto con quello precedente, procedere a disabilitarlo mettendolo offline. Infine, concludere la procedura di rollback riattivando il precedente provider se era stato disabilitato.</li> </ol>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-procedure-comuni.html","title":"Procedure comuni di installazione","text":"<p>Prima revisione documento: 13 maggio 2024 Ultima revisione documento: 21 maggio 2025</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-procedure-comuni.html#cenni-preliminari","title":"Cenni preliminari","text":"<p>Il presente documento descrive la procedure comuni ad entrambi gli scenari di installazione dello StoreServer. Vengono illustrati i backup preliminari da effettuare e le configurazioni necessarie per i database provider.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-procedure-comuni.html#backup-preliminari","title":"Backup preliminari","text":"<p>Backup necessari</p> <p>Prima di iniziare tutta la procedura di installazione dello StoreServer, \u00e8 assolutamente mandatorio eseguire i backup da usare in caso di malfunzionamenti e per l'eventuale procedura di rollback.Non eseguendo i backup, qualora si manifestassero problematiche di varia gravit\u00e0 che necessitino di rollback, quest'ultimo non sar\u00e0 pi\u00f9 possibile.</p> <p>Eseguire il backup di quanto segue:</p> <ol> <li>Backup dei database in uso quali <code>cassamaster</code> e <code>posware</code> (solo in caso di migrazione da Posware <code>4.2</code> a <code>4.3</code>)</li> <li>Eventuali database e directory non direttamente collegati a Posware che possono essere influenzati dall'installazione di una o pi\u00f9 procedure/dipendenze usate dalla nuova versione (MySQL, SQL Server, runtime .NET, ecc...)</li> </ol> <p>Backup generale di sistema</p> <p>Valutare se \u00e8 possibile effettuare un backup generale di sistema.Quest'ultimo backup non \u00e8 obbligatorio, ma rimane una precauzione ulteriore da adoperare per ripristinare eventuali sistemi compromessi a causa di eventuali errori umani.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-procedure-comuni.html#installazione-e-configurazione-del-database-provider","title":"Installazione e configurazione del database provider","text":"<p>Le credenziali standard del database centralizzato sono cambiate</p> <p>Ai fini di compatibilit\u00e0 con le nuove restrizioni dei criteri password complesse delle recenti versioni di MySQL e SQL Server, la nuova password di default \u00e8 stata variata in Vbhg4132!</p> <p>Si consiglia di cambiare la password in tutti i sistemi di produzione. </p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-procedure-comuni.html#mysql","title":"MySQL","text":"<p>In caso il database provider scelto sia MySQL, \u00e8 necessario installare MySQL <code>8.4</code>, l'unica versione attualmente compatibile con lo StoreServer. </p> <p>Tool di gestione del database provider MySQL</p> <p>A partire da Posware <code>4.3</code> si consiglia di utilizzare come tool di gestione del database provider MySQL:</p> <ul> <li>MySQL Workbench all'ultima versione disponibile (lo strumento messo a disposizione da Oracle), oppure</li> <li>Navicat <code>12.0.28</code> o superiore, oppure</li> <li>HeidiSQL all'ultima versione disponibile</li> </ul> <p>Obsolescenza di versioni di Navicat precedenti alla <code>12.0.28</code></p> <p>A partire da MySQL <code>8.4</code>, in uso dallo StoreServer, NON sono assolutamente pi\u00f9 supportate versioni di Navicat precedenti alla <code>12.0.28</code>.</p> <p>Usare versioni obsolete di Navicat comporta la CORRUZIONE IRRIMEDIABILE del database del server centrale!</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-procedure-comuni.html#installazione-e-configurazione","title":"Installazione e configurazione","text":"<p>Per l'installazione e la configurazione fare riferimento alla documentazione di Oracle riguardante MySQL <code>8.4</code>.</p> <p>Le seguenti configurazioni sono obbligatorie:</p> <ul> <li>Nello step in cui bisogna scegliere la configurazione del server impostare la voce Config Type pari a Dedicated Computer</li> <li>Nello step in cui \u00e8 necessario configurare le credenziali di accesso al database provider, impostare la password dell'utente root di sistema pari a Vbhg4132!</li> </ul> <p>Si consiglia infine di abilitare lo \"Slow Query Log\".</p> <p>Installazione di MySQL <code>8.4</code> in presenza di un'altra istanza gi\u00e0 installata</p> <p>In caso sul computer sia installata un'altra istanza di MySQL, oltre alla versione <code>8.4</code>, si consiglia di eseguire una installazione side-by-side della nuova istanza.In caso contrario, l'istanza precedentemente installata potrebbe venir sovrascritta rendendo cos\u00ec impossibile eseguire la procedura di rollback, nell'eventualit\u00e0 in cui dovesse rendersi necessaria.</p> <p>Abilitare le connessioni esterne</p> <p>Per una corretta trasmissione dei dati tra lo StoreServer e le casse, \u00e8 assolutamente necessario configurare MySQL per accettare connessioni esterne.Per abilitare le connessioni esterne, consultare la documentazione di Oracle riguardante MySQL.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-procedure-comuni.html#configurazione-dei-parametri-del-file-myini-e-del-metodo-di-autenticazione","title":"Configurazione dei parametri del file my.ini e del metodo di autenticazione","text":"<p>Terminata la configurazione iniziale del provider, sar\u00e0 necessario impostare alcuni parametri all'interno del file my.ini di MySQL, situato nella directory di MySQL <code>8.4</code> (se non cambiata, la default \u00e8 C:\\ProgramData\\MySQL\\MySQL Server 8.4).Prima di procedere con la modifica del file assicurarsi di stoppare il servizio MySQL84 di Windows.</p> <p>I parametri da impostare sono i seguenti:</p> <ul> <li><code>max_connections</code> = 500</li> <li><code>lower_case_table_names</code> = 1</li> <li><code>log_error_suppression_list</code> = MY-013360 </li> <li><code>key_buffer_size</code> = 64M</li> <li><code>innodb_dedicated_server</code> = ON</li> </ul> <p>Inserimento dei parametri nel file my.ini</p> <p>Se il parametro \u00e8 gi\u00e0 presente nel file my.ini \u00e8 necessario cambiare il suo valore.Se non presenti devono essere aggiunti al di sotto della sezione [mysqld] del file sia il parametro che il rispettivo valore (possono essere copiati e incollati cos\u00ec come sono riportati nell'elenco puntato).</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-procedure-comuni.html#server-non-dedicati","title":"Server non dedicati","text":"<p>Lo StoreServer \u00e8 progettato per funzionare su server dedicati.In caso contrario, bisogner\u00e0 agire manualmente sulla memoria riservata a MySQL per evitare che utilizzi tutta la memoria esistente.</p> <p>Per farlo, impostare ad <code>OFF</code> la variabile <code>innodb_dedicated_server</code> nel file my.ini e fare riferimento alla guida di MySQL per impostare la quantit\u00e0 di RAM da dedicare con questi valori minimi:</p> <ul> <li>1 Gigabyte: fino a 2 casse oppure fino a un massimo di 1,5 milioni di incasso. </li> <li>Almeno il 50% di RAM: in tutti gli altri casi.</li> </ul>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-procedure-comuni.html#importare-un-database-migrato-da-posware-42-in-mysql-84","title":"Importare un database migrato da Posware <code>4.2</code> in MySQL <code>8.4</code>","text":"<p>Scenario di migrazione</p> <p>Le informazioni contenute in questo paragrafo sono da considerarsi valide UNICAMENTE per lo scenario di migrazione da Posware <code>4.2</code> a <code>4.3</code>.</p> <p>Dopo aver completato l'installazione e la configurazione di MySQL <code>8.4</code>, \u00e8 necessario esportare il database <code>posware</code> dalla vecchia versione di MySQL ed importarlo nella <code>8.4</code>.Questo \u00e8 un prerequisito fondamentale per prepararsi alla migrazione con il Database Upgrader durante la procedura di installazione dello StoreServer.</p> <p>Durante l'importazione del database in MySQL <code>8.4</code> si raccomanda vivamente di rinominare il database con un nome diverso da <code>posware</code> (ad esempio <code>posware42</code>), cos\u00ec da non dover svolgere questa operazione successivamente.</p> <p>Obbligo di utilizzo di mysqldump per importare/esportare i dump dei database in MySQL</p> <p>Da Posware <code>4.3</code> in avanti \u00e8 obbligatorio usare il tool mysqldump di MySQL per eseguire l'esportazione e l'importazione dei dump dei database in MySQL. </p> <p>Non \u00e8 pi\u00f9 possibile usare Navicat o altri strumenti simili per fare queste operazioni, altrimenti non verr\u00e0 garantita la completa integrit\u00e0 del database durante gli spostamenti tra versioni diverse di MySQL.</p> <p>Effettuare il dump binario nell'esportazione dei database con mysqldump</p> <p>Nell'esportazione del database con mysqldump \u00e8 assolutamente mandatorio usare nel comando apposito \"<code>-r</code>\" invece del maggiore (<code>&gt;</code>), cos\u00ec da effettuare il dump binario, che evita possibili errori che possono avvenire nel ripristino successivo del dump a causa di conflitti con la codifica. </p> <p>Si ricorda che il comando generico di esportazione di un database con mysqldump senza alcun parametro aggiuntivo \u00e8 <code>mysqldump &lt;dbname&gt; &gt; &lt;filename&gt;</code>, dove \"dbname\" \u00e8 il nome del database da esportare e \"filename\" \u00e8 il nome del file in cui verr\u00e0 salvato il dump del database.</p> Esempio di comando generico di esportazione di un database posware con mysqldump<pre><code>mysqldump posware -r posware42.dump\n</code></pre>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-procedure-comuni.html#sql-server","title":"SQL Server","text":"<p>In caso il database provider scelto sia SQL Server, \u00e8 possibile scegliere una tra le seguenti versioni, tutte compatibili con lo StoreServer: SQL Server <code>2016</code>, <code>2017</code>, <code>2019</code> o <code>2022</code>. </p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-procedure-comuni.html#installazione-e-configurazione_1","title":"Installazione e configurazione","text":"<p>Per la scelta della versione di riferimento, l'installazione e la configurazione fare riferimento alla documentazione di Microsoft riguardante SQL Server. </p> <p>Le seguenti configurazioni sono obbligatorie:</p> <ul> <li>Scegliere come modalit\u00e0 di installazione Download Media col package Express Core, perch\u00e9 cos\u00ec si potr\u00e0 effettuare un'installazione in cui sar\u00e0 poi possibile configurare il provider step per step, rispetto alle installazioni di default. Questo serve per configurare le impostazioni successive</li> <li>Nello step in cui bisogna scegliere la configurazione dell'istanza di SQL Server scegliere Default instance</li> <li>Nello step della configurazione dell'engine del database impostare l'Authentication Mode pari a Mixed Mode (SQL Server authentication and Windows authentication) e settare la password dell'utente sa di sistema pari a Vbhg4132!</li> </ul> <p>Abilitare le connessioni esterne</p> <p>Per una corretta trasmissione dei dati tra lo StoreServer e le casse, \u00e8 assolutamente necessario configurare SQL Server per accettare connessioni esterne.Per abilitare le connessioni esterne, consultare la documentazione di Microsoft riguardante SQL Server.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-procedure-comuni.html#importare-un-database-migrato-da-posware-42-in-sql-server","title":"Importare un database migrato da Posware <code>4.2</code> in SQL Server","text":"<p>Scenario di migrazione</p> <p>Le informazioni contenute in questo paragrafo sono da considerarsi valide UNICAMENTE per lo scenario di migrazione da Posware <code>4.2</code> a <code>4.3</code>.</p> <p>Dopo aver completato l'installazione e la configurazione della versione scelta di SQL Server, \u00e8 necessario esportare il database <code>posware</code> dalla vecchia versione di SQL Server ed importarlo nella nuova.Questo \u00e8 un prerequisito fondamentale per prepararsi alla migrazione con il Database Upgrader durante la procedura di installazione dello StoreServer.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-procedure-comuni.html#troubleshooting-per-i-tecnici","title":"Troubleshooting per i tecnici","text":"","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/installazione-procedure-comuni.html#errore-access-denied-for-user-usando-mysql-84-sul-server-di-barriera","title":"Errore \"Access denied for user [...]\" usando MySQL <code>8.4</code> sul server di barriera","text":"<p>Dopo aver associato le casse allo StoreServer nel relativo step dell'installazione, potrebbe verificarsi l'errore \"Access denied for user 'NOME_UTENTE'@'NOME_MACCHINA_CASSA' (using password: YES)\" nell'invio dei dati relativi alle tabelle legacy (carscar, ristampa_scontrini, tabdivise, ecc...) dalle casse allo StoreServer. </p> <p>Viene riportato di seguito un esempio del tracciato di log in cui \u00e8 stato riscontrato tale errore:</p> Esempio di log con errore<pre><code>2024-09-03 16:09:05.6328|LEGACY|ERROR|Tabella:dett_msg_carscar -&gt; Access denied for user 'root'@'CASSA1' (using password: YES)\n2024-09-03 16:09:05.6328|LEGACY|ERROR|Impossibile copiare dett_msg_carscar su server :Access denied for user 'root'@'CASSA1' (using password: YES)\n2024-09-03 16:09:05.6484|LEGACY|ERROR|Tabella:dettagli_carscar -&gt; Access denied for user 'root'@'CASSA1' (using password: YES)\n2024-09-03 16:09:05.6484|LEGACY|ERROR|Impossibile copiare dettagli_carscar su server :Access denied for user 'root'@'CASSA1' (using password: YES)\n2024-09-03 16:09:05.6796|LEGACY|ERROR|Tabella:ristampa_scontrini -&gt; Access denied for user 'root'@'CASSA1' (using password: YES)\n2024-09-03 16:09:05.6796|LEGACY|ERROR|Impossibile copiare ristampa_scontrini su server :Access denied for user 'root'@'CASSA1' (using password: YES)\n2024-09-03 16:09:05.6953|LEGACY|ERROR|Tabella:tabdivise -&gt; Access denied for user 'root'@'CASSA1' (using password: YES)\n2024-09-03 16:09:05.6953|LEGACY|ERROR|Impossibile copiare TabDivise su server :Access denied for user 'root'@'CASSA1' (using password: YES)\n2024-09-03 16:09:05.7109|LEGACY|ERROR|Tabella:carscar_articoli -&gt; Access denied for user 'root'@'CASSA1' (using password: YES)\n2024-09-03 16:09:05.7109|LEGACY|ERROR|Impossibile copiare Carscar_articoli su server :Access denied for user 'root'@'CASSA1' (using password: YES)\n2024-09-03 16:09:10.3515|LEGACY|ERROR|Access denied for user 'root'@'CASSA1' (using password: YES)\nConnessione in uso: server=192.170.5.10;user id=root;password=Vbhg4132!;database=posware;connection timeout=3;default command timeout=3;provider=MySqlConnector\n2024-09-03 16:09:10.3515|LEGACY|ERROR|Access denied for user 'root'@'CASSA1' (using password: YES)\n</code></pre> <p>Per diagnosticare questo errore eseguire le seguenti verifiche:</p> <ol> <li>Verificare che nel file ConnectionStrings.config di Posware Frontend, il campo ConnessioneServer contenga al suo interno la Connection string esatta del database del server centrale.</li> <li>Verificare che i campi <code>ip_server_barriera</code> e <code>db_server_barriera</code> nella tabella <code>config_cassa</code> del database <code>cassa</code> di Posware Frontend contengano, rispettivamente, i valori esatti dell'indirizzo IP e del nome del database del server di barriera.</li> <li>Verificare che dal computer cassa sia possibile collegarsi sull'istanza MySQL del server di barriera. In caso contrario, abilitare sul server di barriera le connessioni esterne al database.</li> <li>Dopo aver effettuato tutti gli step precedenti con successo, riavviare Posware Frontend sulle casse in cui si \u00e8 verificato l'errore e controllare se viene registrato ancora nel log o \u00e8 stato risolto.</li> </ol>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/migrazione-servizi-legacy.html","title":"Migrazione da servizi legacy","text":"<p>Prima revisione documento: 24 aprile 2024 Ultima revisione documento: 21 maggio 2025</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/migrazione-servizi-legacy.html#glossario","title":"Glossario","text":"<ul> <li>Winget: vedi Package manager.</li> <li>Package manager: software di gestione pacchetti di installazione integrato nel sistema operativo.</li> <li>StoreId: anche detto InstanceConfigurationId, rappresenta il codice del punto vendita su cui si sta installando lo StoreServer.</li> <li>WebApp: applicazione web che offre la possibilit\u00e0 di gestire in modo centralizzato le funzionalit\u00e0 disponibili nello StoreServer.</li> </ul>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/migrazione-servizi-legacy.html#cenni-preliminari","title":"Cenni preliminari","text":"<p>Il presente documento descrive nel dettaglio le procedure necessarie all'installazione dello StoreServer in caso di migrazione da Posware <code>4.2.x</code> a <code>4.3</code>.</p> <p>Per eventuali problematiche occorse durante le procedure, \u00e8 possibile consultare i Troubleshooting per i tecnici.</p> <p>\u00c8 anche possibile effettuare una rollback.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/migrazione-servizi-legacy.html#prerequisiti","title":"Prerequisiti","text":"<p>Prima di procedere con le diverse operazioni per installare lo StoreServer in caso di migrazione di Posware dalla versione <code>4.2.x</code> alla <code>4.3</code>, \u00e8 assolutamente necessario aver installato i vari applicativi indicati nei requisiti minimi dell'overview generale ed essersi assicurati di avere le risorse hardware minime indispensabili.</p> <p>Inoltre, \u00e8 fondamentale aver eseguito quelle procedure comuni ai due scenari di installazione che vanno completate prima di procedere con l'installazione effettiva. In particolare, controllare ancora una volta di:</p> <ul> <li>avere dei backup integri della situazione precedente all'installazione dello StoreServer, soprattutto per quanto riguarda il database;</li> <li>aver aggiornato e configurato adeguatamente il provider del database del server centrale. A tal proposito si ricorda ancora una volta che per MySQL la versione compatibile con lo StoreServer \u00e8 necessariamente la <code>8.4</code>, mentre per SQL Server \u00e8 possibile scegliere tra SQL Server <code>2016</code>, <code>2017</code>, <code>2019</code> o <code>2022</code>.</li> </ul> <p>Infine, assicurarsi che le casse che si vogliono aggiornare a Posware <code>4.3</code> abbiano gi\u00e0 inviato tutti i dati di vendita al server di barriera, prima di iniziare i vari passaggi necessari alla migrazione.In caso affermativo, procedere a spegnere tali casse fino allo step in cui sar\u00e0 necessario associarle allo StoreServer.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/migrazione-servizi-legacy.html#warning","title":"Warning","text":"<p>Invio dell'intera anagrafica dati necessario</p> <p>Al termine di questa guida \u00e8 previsto che venga effettuato un invio massivo di tutta l'anagrafica del punto vendita allo StoreServer. </p> <p>Prima di iniziare, assicurarsi di poter effettuare questa operazione con il punto vendita senza causare effetti collaterali indesiderati.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/migrazione-servizi-legacy.html#operazioni-necessarie","title":"Operazioni necessarie","text":"<p>Al fine di installare lo StoreServer in caso di migrazione da servizi legacy sar\u00e0 necessario eseguire tutti questi step:</p> <ol> <li>Migrare il database tramite il Database Upgrader</li> <li>Installare lo StoreServer usando il tool di gestione pacchetti Winget</li> <li>Inserire la directory dello StoreServer nella lista delle esclusioni di Software Antivirus e Firewall presenti nel sistema</li> <li>Accedere allo StoreServer</li> <li>Richiedere le licenze per gli eventuali moduli aggiuntivi</li> <li>Associare le casse allo StoreServer</li> <li>Aggiornare e verificare il comportamento corretto dei servizi legacy</li> <li>Verificare la ricezione dei log e dei dati delle statistiche dettagliate</li> <li>Inviare l'intera anagrafica per popolare le tabelle del nuovo database dello StoreServer</li> </ol>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/migrazione-servizi-legacy.html#migrazione-del-database-tramite-il-database-upgrader","title":"Migrazione del database tramite il Database Upgrader","text":"<p>Per migrare il database utilizzato in Posware <code>4.2</code> e renderlo compatibile con la nuova architettura, \u00e8 necessario utilizzare il Database Upgrader, un sotware sviluppato appositamente per questo scopo, che viene fornito assieme allo StoreServer.</p> <p>Operazioni preliminari</p> <p>Prima di procedere all'uso del Database Upgrader \u00e8 necessario eseguire le seguenti operazioni preliminari:</p> <ul> <li>Rinominare il database (MySQL o SQL Server), che veniva utilizzato in Posware <code>4.2</code> e che deve essere migrato, con un nome diverso da <code>posware</code>.</li> <li>Assicurarsi che nel file connectionStrings.Production.json, situato all'interno della directory del Database Upgrader, sia impostata la Connection string a tale database.</li> <li>Configurare il file databaseUpgraderSettings.json adeguatamente in base alla quantit\u00e0 di dati che si desidera migrare nello StoreServer, tenendo in considerazione che sia il campo MonthsToImport che MonthsToImportForRistampaScontrini comprendono nel conteggio anche il mese attuale.</li> </ul> <p>Una volta completate le operazioni preliminari, procedere con l'avvio del Database Upgrader.Se tutto \u00e8 stato configurato correttamente, il Database Upgrader dovrebbe partire senza problemi e mostrare la seguente schermata (nel caso il database utilizzato sia MySQL):  </p> <p> </p> <p>A questo punto premendo il pulsante centrale nella schermata verr\u00e0 creato il nuovo database su cui verr\u00e0 migrato il precedente.</p> <p>Dopo una rapida analisi delle varie tabelle per impostare quali importare, si potr\u00e0 avviare la migrazione premendo il relativo pulsante.</p> <p></p> <p>Una volta completata la migrazione, l'utente verr\u00e0 notificato dall'applicativo e se tutto \u00e8 andato a buon fine potr\u00e0 procedere con l'installazione effettiva dello StoreServer tramite il tool di gestione pacchetti Winget. </p> <p>Warning ed errori nella procedura di migrazione</p> <p>Se si dovessero riscontrare dei warning o degli errori nella procedura di migrazione, sar\u00e0 mandatorio consultare il log del Database Upgrader.</p> <p>Rinomina del database con MySQL come database provider</p> <p>Se il database migrato non era stato rinominato in precedenza, il Database Upgrader gli assegner\u00e0 un nome casuale al posto di <code>posware</code>.Se ci\u00f2 dovesse verificarsi, \u00e8 assolutamente obbligatorio rinominarlo prima di proseguire con gli step successivi della guida. </p> <p>Siccome MySQL attualmente non permette la rinomina dei database, si consiglia vivamente di eseguire un dump del database e rimportarlo assegnandogli il nome <code>posware</code>.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/migrazione-servizi-legacy.html#troubleshooting-per-i-tecnici","title":"Troubleshooting per i tecnici","text":"<p>Il primo step da eseguire al sorgere di un problema con il Database Upgrader, \u00e8 consultare il log.</p> <p>Il file di log si trova dentro la directory del Database Upgrader e il suo nome ha la seguente struttura: <code>dbupgrader-log_YYYY-MM-DD.log</code>.</p> <p>Vengono riportati di seguito alcuni dei casi d'uso pi\u00f9 frequenti in cui possono avvenire degli errori o dei warning con il Database Upgrader.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/migrazione-servizi-legacy.html#errore-impossibile-rilevare-la-versione-del-database","title":"ERRORE: Impossibile rilevare la versione del database","text":"<p>Questo errore avviene quando il Database Upgrader non rileva il database registrato nella Connection string.</p> <p></p> <p>Controllare che tutti i parametri della Connection string siano giusti e assicurarsi che il database sia attualmente accessibile.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/migrazione-servizi-legacy.html#warning-i-campi-fuori-standard-non-sono-stati-migrati","title":"WARNING: I campi fuori standard non sono stati migrati","text":"<p>Questo warning si verifica se il Database Upgrader trova nel database sorgente delle colonne in pi\u00f9 rispetto a quelle che dovrebbero esserci nel database di destinazione.</p> <p>Questo pu\u00f2 accadere per due motivi:</p> <ul> <li>La colonna custom era stata aggiunta da terze parti e quindi il Database Upgrader rilevandola come tale non la importer\u00e0.</li> <li>La colonna custom era presente in versioni precedenti di Posware, ma poi si \u00e8 deciso di eliminarla nelle nuove versioni e quindi il Database Upgrader non la migra.</li> </ul> <p></p> <p>In entrambi i casi, verificare nel log quali sono le colonne che sono state considerate custom per assicurarsi che non sia stata considerata come tale una colonna fondamentale.Se ci\u00f2 dovesse succedere, aprire una segnalazione per far includere successivamente tali colonne nella migrazione e sistemare il comportamento del Database Upgrader.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/migrazione-servizi-legacy.html#warning-alcuni-record-duplicati-o-con-errori-non-sono-stati-migrati","title":"WARNING: Alcuni record duplicati o con errori non sono stati migrati","text":"<p>Questo warning viene notificato se il Database Upgrader trova dei record duplicati o in cui sono presenti degli errori durante la migrazione dal database sorgente a quello di destinazione. </p> <p>Una delle casistiche pi\u00f9 comuni, si ha quando la tabella in cui sono stati rilevati i record duplicati era, in origine, una tabella senza chiavi primarie, a cui sono state aggiunte successivamente con la migrazione alla nuova versione di Posware.</p> <p>Esempio di tabella in cui si verifica spesso questo problema</p> <p>Una delle tabelle in cui \u00e8 riscontrabile frequentemente questo problema, per esempio, \u00e8 la tabella <code>isi_menu</code>.</p> <p> </p> <p>Quando si incontra questo warning, consultare il log per controllare quali sono i record che non sono stati migrati e verificare se c'\u00e8 la possibilit\u00e0 di migrarli manualmente in caso di errore. </p> <p>In presenza di record duplicati, invece, controllare se il record eliminato era effettivamente quello errato tra i due duplicati.In caso contrario, procedere a eliminare dalla tabella il record errato sostituendolo con il duplicato corretto.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/migrazione-servizi-legacy.html#installazione-storeserver-tramite-winget","title":"Installazione StoreServer tramite Winget","text":"<p>Per installare lo StoreServer \u00e8 necessario usare il package manager Winget.</p> <p>Versione minima necessaria</p> <p>Assicurarsi di avere installata la versione minima supportata per l'installazione dello StoreServer, consultabile nell'overview generale. </p> <p>In caso di dubbi, procedere in ogni caso all'aggiornamento di Winget usando il Microsoft Store.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/migrazione-servizi-legacy.html#aggiunta-del-repository-posware","title":"Aggiunta del repository Posware","text":"<p>Prima esecuzione</p> <p>Le istruzioni di questo paragrafo vanno eseguite una sola volta, solo su sistemi che non hanno mai aggiunto la source di ISiD sul computer.</p> <ol> <li>Avviare un nuovo terminale con i diritti di amministratore (cmd.exe).</li> <li>Inserire la source di ISiD in Winget da terminale, usando il comando: Comando<pre><code>winget source add posware https://winget.isid.it/posware/api -t \"Microsoft.Rest\"\n</code></pre></li> </ol>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/migrazione-servizi-legacy.html#avvio-dellinstallazione-usando-il-database-migrato","title":"Avvio dell'installazione usando il database migrato","text":"<p>Dallo stesso terminale aperto in precedenza, eseguire il comando: Comando<pre><code>winget install --id isid.storeserver --source posware --custom \"/CONNECTIONSTRING=\"\"connection string del database migrato da usare\"\" /STOREID=\"valore intero del codice del punto vendita\" /MIGRATED\" --verbose \n</code></pre></p> <p>Questo comando avvier\u00e0 l'installazione dello StoreServer usando il database di Posware <code>4.2</code> appena migrato con il Database Upgrader.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/migrazione-servizi-legacy.html#il-flag-custom-migrated","title":"Il flag custom <code>/MIGRATED</code>","text":"<p>Flag custom <code>/MIGRATED</code></p> <p>Nello scenario di migrazione dalla versione <code>4.2</code> alla <code>4.3</code> di Posware, \u00e8 assolutamente mandatorio utilizzare il flag custom dedicato <code>MIGRATED</code> nell'installazione dello StoreServer.</p> <p>Per utilizzare il flag custom <code>/MIGRATED</code> \u00e8 sempre obbligatorio specificare:</p> <ol> <li> <p>Una Connection string custom valida, che indica qual \u00e8 il database migrato da utilizzare</p> <p>Escape dei parametri con spazi</p> <p>Se la Connection string contiene keyword con spazi, deve essere racchiusa fra doppi apici che, a loro volta, essendo dentro il parametro --custom, andranno escapizzati.</p> <p>Esempio: /CONNECTIONSTRING=\"\"server=localhost;user id=root;password=Vbhg4132!;database=posware;port=3307\"\"</p> <p>Attenzione al carattere di escape</p> <p>Il carattere/modo di escape delle stringhe dipende dalla shell terminale che si usa.</p> <p>In tutti gli esempi riportati viene usata la shell cmd.exe di Windows (Command Prompt). </p> <p>Per evitare problemi si raccomanda vivamente di seguire gli esempi e NON usare Windows PowerShell.</p> </li> <li> <p>Lo StoreId da usare per lo StoreServer deve combaciare con quello usato nel precedente database migrato. La contro verifica viene fatta all'interno dalla tabella <code>isi_config</code> del database migrato. </p> <p>Codice punto vendita come numero</p> <p>Il codice del punto vendita \u00e8 sempre un numero intero positivo tra 1 e 9999 (inclusi).</p> <p>Lo StoreServer non supporta codici alfa numerici. </p> <p>Eventuali numeri riportati con zeri davanti saranno considerati senza zeri.</p> </li> </ol> <p>A fini esplicativi, si riporta un esempio completo del comando di installazione dello StoreServer con il flag custom <code>/MIGRATED</code> e i parametri di cui ha bisogno:</p> Installazione con codice punto vendita 5, connection string custom e il flag custom /MIGRATED<pre><code>winget install --id isid.storeserver --source posware --custom \"/CONNECTIONSTRING=\"\"server=localhost;user id=isid;password=1r{1]@ZJ^7/f;database=posware;port=3307\"\" /STOREID=5 /MIGRATED \" --verbose\n</code></pre>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/migrazione-servizi-legacy.html#parametri-proprietari-di-winget","title":"Parametri proprietari di Winget","text":"<p>Winget mette a disposizione ulteriori parametri la cui trattazione esula da questa documentazione.</p> <p>Il parametro pi\u00f9 utile allo scopo \u00e8 <code>--open-logs</code>: apre automaticamente la cartella dei log a fine installazione. </p> <p>Per farlo, aggiungere il parametro ai comandi gi\u00e0 riportati negli esempi precedenti. </p> Installazione con codice punto vendita 5, connection string custom e il flag custom /MIGRATED<pre><code>winget install --id isid.storeserver --source posware --custom \"/CONNECTIONSTRING=\"\"server=localhost;user id=isid;password=1r{1]@ZJ^7/f;database=posware;port=3307\"\" /STOREID=5 /MIGRATED \" --verbose --open-logs\n</code></pre> <p>Se dovessero servire ulteriori comandi di Winget, consultare la guida ufficiale di Microsoft.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/migrazione-servizi-legacy.html#troubleshooting-per-i-tecnici_1","title":"Troubleshooting per i tecnici","text":"<p>Il primo step da eseguire al sorgere di un problema con l'installazione dello StoreServer, \u00e8 consultare i log.</p> <p>Per esaminarli pi\u00f9 agevolmente \u00e8 possibile inserire nel comando di Winget il parametro --open-logs cos\u00ec da avere la cartella aperta automaticamente a fine installazione.</p> <p>La cartella viene aperta anche in caso di fallimento dell'installazione.</p> <p>La lista esaustiva dei possibili errori che possono verificarsi durante l'installazione dello StoreServer \u00e8 la medesima dello scenario di nuova installazione.In aggiunta \u00e8 possibile riscontrare anche gli errori riportati di seguito:</p> Messaggio Probabile causa/Strategia di risoluzione Per usare un database migrato \u00e8 necessario eseguire una installazione da zero. Non \u00e8 possibile reinstallare o aggiornare l'applicazione indicando un database migrato. \u00c8 gi\u00e0 presente un'installazione precedente dello StoreServer. Il parametro custom <code>/MIGRATED</code> lo si pu\u00f2 utilizzare solo per le installazioni da zero nello scenario di migrazione. Evitare quindi di utilizzarlo quando si effettuano reinstallazioni o aggiornamenti dell'applicativo. Per installare usando un database migrato devi specificare da linea di comando dei parametri /STOREID e /CONNECTIONSTRING validi. Consulta la documentazione per dettagli. Si \u00e8 provato ad fare un'installazione con migrazione senza l'utilizzo dei parametri custom obbligatori. Consultare la documentazione soprastante per vedere come specificare tali parametri. Il database dell'applicazione \u00e8 corrotto o vuoto. Impossibile procedere con l'installazione o l'upgrade. Il database specificato con la Connection string personalizzata usato per la migrazione \u00e8 corrotto o vuoto. Verificare il database e, in caso fosse necessario, rieseguire il Database Upgrader sul database da migrare per poi riprovare l'installazione. Si \u00e8 verificato un errore durante la validazione del database migrato specificato. Verificare il log dettagliato, l'accesso al database e riprovare. Il messaggio \u00e8 autoesplicativo. Il database migrato specificato non risulta valido per procedere con l'installazione. Verificare il database e consultare la documentazione per ulteriori dettagli. Riprovare ad eseguire nuovamente la migrazione con DatabaseUpgrader. Il messaggio \u00e8 autoesplicativo. Il database migrato contiene delle configurazioni ma nessuna coincide con lo store id specificato. Verificare la tabella isi_config o indicare uno store id valido per procedere con l'installazione. Il messaggio \u00e8 autoesplicativo. Per usare un database migrato \u00e8 necessario specificare sia uno store id ( /STOREID ) che una connection string ( /CONNECTIONSTRING ) da usare. Lo store id deve essere un numero tra 1 e 9999 (inclusi). Il messaggio \u00e8 autoesplicativo.","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/migrazione-servizi-legacy.html#ulteriori-operazioni-necessarie","title":"Ulteriori operazioni necessarie","text":"<p>Ulteriori operazioni necessarie</p> <p>Le operazioni necessarie dopo l'installazione dello StoreServer tramite Winget sono le medesime dello scenario di nuova installazione e vanno eseguite in modo analogo. </p> <p>Consultare la relativa guida dallo step sull'antivirus e il firewall in avanti per completare l'installazione.</p> <p>Unica eccezione \u00e8 lo step sui servizi legacy, che nello scenario di migrazione vanno solamente aggiornati, invece di installarli da zero. Questa differenza per\u00f2 \u00e8 descritta direttamente nella relativa sezione della documentazione.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/migrazione-servizi-legacy.html#rollback-draft-da-completare","title":"Rollback - [DRAFT DA COMPLETARE]","text":"<p>Al fine di eseguire la procedura di rollback dello StoreServer, se sono stati fatti i backup preliminari necessari, sar\u00e0 necessario completare tutti i seguenti step:</p> <ol> <li>Disinstallare lo StoreServer, tramite Winget o Windows, e ripristinare eventuali backup a database e directory non direttamente collegate a Posware, che per\u00f2 sono state influenzate dall'installazione dello StoreServer o di una o pi\u00f9 dipendenze/procedure usate dalla nuova versione.</li> <li>Reinstallare la versione precedente tramite Winget specificando con il parametro --version la versione voluta e tutti i parametri custom necessari, visti gi\u00e0 in precedenza nella sezione relativa all'installazione con Winget di questa guida. Questo step va effettuato solo se non si \u00e8 nel caso di rollback della prima installazione dello StoreServer, ma si era passati da una versione precedente a una nuova dell'applicativo con un upgrade.</li> <li>Ripristinare i vari servizi legacy alla versione precedente all'aggiornamento eseguito per renderli compatibili con lo StoreServer.</li> <li>Ripristinare il backup del database precedente all'installazione dello StoreServer, sovrascrivendo cos\u00ec il database creato da Winget . Inoltre, se il provider del database, MySQL o SQL Server, era stato installato momentaneamente su una porta differente per non entrare in conflitto con quello precedente, procedere a disabilitarlo mettendolo offline. Infine, concludere la procedura di rollback riattivando il precedente provider se era stato disabilitato.</li> </ol>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/overview-generale.html","title":"Overview generale","text":"<p>Prima revisione documento: 24 aprile 2024 Ultima revisione documento: 21 maggio 2025</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/overview-generale.html#cenni-preliminari","title":"Cenni preliminari","text":"<p>Il presente documento descrive i nuovi requisiti minimi e le procedure necessarie all'installazione e alla configurazione dello StoreServer, il nuovo sistema centralizzato per la gestione e l'analisi del punto vendita introdotto da Posware <code>4.3</code> e superiori.</p> <p>Ordine di installazione obbligatorio</p> <p>Negli scenari standard di installazione ex novo e migrazione (si esclude quindi lo scenario ibrido), \u00e8 necessario installare Posware <code>4.3</code> prima lato cassa e poi sullo StoreServer.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/overview-generale.html#requisiti-minimi","title":"Requisiti minimi","text":"","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/overview-generale.html#hardware","title":"Hardware","text":"<p>Considerazioni importanti</p> <p>Tali requisiti sono richiesti da un sistema usato esclusivamente per lo StoreServer .  Qualora il software dovesse condividere le risorse hardware con altri software di terze parti, rimane a carico del tecnico installatore adeguare tali risorse in base alle richieste hardware di quest'ultimi aumentando le risorse di quanto necessario. </p> <p>Si raccomanda di acquistare un disco rigido SSD (tipo SATA o NVE) ad uso esclusivo per lo StoreServer.</p> <ul> <li>Un processore compatibile con la versione Windows 10 x64 (64bit) <code>1809</code> (Redstone 5) o superiore oppure compatibile con Windows 11</li> <li>8 Gb di RAM per installazioni fino a 4 casse</li> <li>12 Gb di RAM per installazioni da 5 a 10 casse</li> <li>16 Gb di RAM per installazioni da 11 a 16 casse</li> <li>32 Gb di RAM per installazioni con pi\u00f9 di 16 casse</li> <li>Disco rigido SSD (tipo SATA o NVME) da almeno 256 Gb fino a 10 casse</li> <li>Disco rigido SSD (tipo SATA o NVME) da almeno 512 Gb per pi\u00f9 di 10 casse</li> </ul> <p>Linee guida</p> <p>Le informazioni relative alla capacit\u00e0 dei dischi rigidi sono da considerarsi linee guida e possono variare in base al fatturato prodotto dal punto vendita.  Qualora ci fossero dei dubbi sullo spazio necessario, considerare una contingenza dal 25% fino al 50% .</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/overview-generale.html#software","title":"Software","text":"<p>Sistemi a 32 bit non supportati</p> <p>Non sono supportate versioni a 32bit di Windows 10.</p> <p>Obbligo di tutte le dipendenze in Posware <code>4.3</code></p> <p>Le dipendenze sottostanti sono da considerarsi TUTTE obbligatorie per poter utilizzare Posware <code>4.3</code>.</p> <ul> <li>Posware Frontend <code>4.3.96</code> o superiore</li> <li>Windows 10 x64 (64bit) <code>1809</code> (Redstone 5) o superiore, oppure</li> <li>Windows 11</li> <li>Winget <code>1.8.1911</code></li> <li>SQL Server <code>2016</code>, <code>2017</code>, <code>2019</code> o <code>2022</code></li> <li>MySQL <code>8.4</code></li> <li>.NET Hosting Bundle <code>8.x</code></li> <li>Servizi legacy (per la lista completa, consultare la relativa sezione)</li> </ul>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/overview-generale.html#breaking-changes-draft-da-completare","title":"Breaking changes - DRAFT DA COMPLETARE","text":"<p>Vengono elencati in questa sezione i diversi breaking changes introdotti a partire dalla versione <code>4.3</code> di Posware.</p> <p>Lo StoreServer \u00e8 un nuovo applicativo introdotto per la prima volta con Posware <code>4.3</code>, quindi non ha esso stesso dei breaking changes. Questi saranno, quindi, tutti relativi alle operazioni che ora non sono pi\u00f9 possibili con il passaggio alla versione <code>4.3</code> di Posware e l'introduzione dello StoreServer.</p> <p>Le credenziali standard del database centralizzato sono cambiate</p> <p>Ai fini di compatibilit\u00e0 con le nuove restrizioni dei criteri password complesse delle recenti versioni di MySQL e SQL Server, la nuova password di default \u00e8 stata variata in Vbhg4132!</p> <p>Si consiglia di cambiare la password in tutti i sistemi di produzione. </p> <p>Obsolescenza di versioni di Navicat precedenti alla <code>12.0.28</code></p> <p>A partire da MySQL <code>8.4</code>, in uso dallo StoreServer, NON sono assolutamente pi\u00f9 supportate versioni di Navicat precedenti alla <code>12.0.28</code>.</p> <p>Usare versioni obsolete di Navicat comporta la CORRUZIONE IRRIMEDIABILE del database del server centrale!</p> <p>Obbligo di utilizzo di mysqldump per importare/esportare i dump dei database in MySQL</p> <p>Da Posware <code>4.3</code> in avanti \u00e8 obbligatorio usare il tool mysqldump di MySQL per eseguire l'esportazione e l'importazione dei dump dei database in MySQL. </p> <p>Non \u00e8 pi\u00f9 possibile usare Navicat o altri strumenti simili per fare queste operazioni, altrimenti non verr\u00e0 garantita la completa integrit\u00e0 del database durante gli spostamenti tra versioni diverse di MySQL.</p> <p>Obsolescenza del database CASSAMASTER</p> <p>Lo StoreServer usa esclusivamente il database POSWARE.</p> <p>Tutte le strutture presenti nel vecchio database <code>cassamaster</code> sono state integrate nel database <code>posware</code>. Il vecchio database <code>cassamaster</code> non viene pi\u00f9 usato da nessuna procedura interna ISiD.  </p> <p>Campi custom nelle tabelle del database <code>posware</code></p> <p>Con l'introduzione dello StoreServer, non \u00e8 pi\u00f9 possibile inserire nuovi campi custom alle tabelle esistenti del database <code>posware</code>.</p> <p>Qualora fosse necessario estendere le informazioni esistenti con altre di terze parti, consultare il documento \"Aggiungere dati custom al database dello StoreServer\". [LINK ANCORA ASSENTE]</p> <p>Non copiare dati e/o strutture tra database diversi!</p> <p>Al fine di popolare il database dello StoreServer, NON copiare dati e/o strutture delle tabelle del database <code>cassamaster</code> o dai database delle casse, in quanto differenti e non compatibili tra loro!</p> <p>Operazioni di questo tipo NON sono assolutamente pi\u00f9 supportate e comportano l'immediata CORRUZIONE IRRIMEDIABILE del database del server centrale!</p> <p>Computazione automatica del codice assortimento 0</p> <p>A partire dalla versione <code>4.3.0</code> del Pos_Sbv, il codice assortimento 0 equivale ad un codice di default, riservato e non variabile da nessuno, che rappresenta l'invio a tutte le casse (o a tutti i punti vendita in caso di installazione in sede).</p> <p>Quindi, a differenza della situazione precedente, dove il codice assortimento 0 doveva essere manutenuto manualmente, ora viene gestito automaticamente e non deve quindi essere inserito nella tabella <code>assortimenti</code> del database dello StoreServer.In tal modo, da standard, il codice assortimento 0 invia a tutte le casse e punti vendita che hanno il flag di trasmissione pari ad 1 nella tabella <code>casse</code> dello StoreServer.</p> <p>Qualora si volesse escludere dall'invio delle variazione alcuni punti vendita o casse, si crea un assortimento dedicato personalizzato diverso da 0.</p> <p>Cambiamento del tipo di dato dei campi <code>Id</code> e <code>Pdv</code> della tabella <code>isi_txscontr</code></p> <p>A partire dalla versione <code>4.3.0.0</code> del Pos_TxScontr, i campi <code>Id</code> e <code>Pdv</code> della tabella <code>isi_txscontr</code> del database dello StoreServer hanno subito un cambiamento del tipo di dato, passando da stringhe ad interi.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/overview-generale.html#installazione-e-configurazione","title":"Installazione e configurazione","text":"<p>Prima di iniziare</p> <p>Prima di proseguire con lo scenario di installazione desiderato, completare le procedure di installazione comuni.</p> <p>Scenari di installazione previsti:</p> <ul> <li>Installazione di un nuovo sistema</li> <li>Migrazione da servizi legacy</li> </ul> <p>I dettagli specifici di ogni scenario e delle procedure comuni sono consultabili nelle rispettive sezioni.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/servizi-legacy.html","title":"Front Office - Aggiornamento","text":"<p>Prima revisione documento: 3 settembre 2024 Ultima revisione documento: 21 maggio 2025</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/servizi-legacy.html#cenni-preliminari","title":"Cenni preliminari","text":"<p>Il presente documento descrive il funzionamento del nuovo setup automatico dei servizi legacy del Front Office. Vengono illustrati gli scenari d'uso supportati e le configurazioni necessarie a livello di file e database per il funzionamento di tali servizi.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/servizi-legacy.html#prerequisiti","title":"Prerequisiti","text":"<p>Installazione dello StoreServer necessaria</p> <p>\u00c8 assolutamente mandatorio aver installato lo StoreServer ed eseguito gli step precedenti necessari, prima di procedere con l'installazione dei servizi legacy del Front Office.</p> <p>Configurazioni gi\u00e0 precedentemente valide</p> <p>Nello scenario di migrazione dei servizi dalla versione <code>4.2</code> alla <code>4.3</code>, si da per assodato che le configurazioni fossero gi\u00e0 precedentemente valide.Non vengono fatte, quindi, validazioni o reimpostazioni a livello di database.</p> <p>A tal proposito, se i servizi appena installati non partono o hanno dei malfunzionamenti, la prima operazione da eseguire, ancor prima di avviare il setup, \u00e8 verificare che i servizi funzionino nella vecchia versione e che i parametri delle relative tabelle, quali <code>isi_config</code>, <code>pdv</code>, ecc... siano corretti.</p> <p>Backup necessario nello scenario di migrazione</p> <p>Nello scenario di migrazione dei servizi dalla versione <code>4.2</code> alla <code>4.3</code>, sar\u00e0 necessario rinominare la cartella C:\\Posware (o l'eventuale cartella in cui si sono salvati i servizi legacy), cos\u00ec che la si possa tenere da parte come backup in caso di rollback.Prima di fare ci\u00f2 e di lanciare il setup, \u00e8 assolutamente mandatorio fermare i servizi legacy se sono in esecuzione.</p> <p>Il setup, infatti, controlla che non esista la cartella C:\\Posware prima di installare i nuovi servizi legacy.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/servizi-legacy.html#file-installati","title":"File installati","text":"<p>Vengono elencati di seguito i file eseguibili e i file <code>.bat</code> che vengono installati, migrati o aggiornati con il nuovo setup dei servizi legacy del Front Office:</p> <ul> <li>File <code>.bat</code>:<ul> <li>aggiorna.bat</li> <li>Aggiorna_Berkel.BAT</li> <li>aggiorna_metler.bat</li> <li>Aggior_98_Bizerba.bat</li> <li>Aggior_XP_Bizerba.bat</li> <li>BIZERBA CHIUDI.BAT</li> <li>DELFILE.BAT</li> <li>Install_Fidelity.bat</li> <li>Install_Log.bat</li> <li>Install_Sbv.bat</li> <li>Install_TxLog.bat</li> <li>Install_TxScontr.bat</li> <li>pkzip2.bat</li> <li>RXDATI.BAT</li> <li>TRAMAN.BAT</li> <li>TxClif.Bat</li> <li>TXCLUB.BAT</li> <li>TxIngr.Bat</li> <li>TxMane_Berkel.BAT</li> <li>TxMane_Bizerba.BAT</li> <li>TxMane_Idra_Mega.BAT</li> </ul> </li> <li>File eseguibili:<ul> <li>Accoda.exe</li> <li>BE.EXE</li> <li>ContenutoCassetto.exe</li> <li>ElaborazioneFile.exe</li> <li>LblMagic.exe</li> <li>PKUNZIP.EXE</li> <li>PKZIP.EXE</li> <li>Posware.exe</li> <li>Pos_AccLog.exe</li> <li>Pos_Ana001.exe</li> <li>Pos_Ana002.exe</li> <li>Pos_Ana004.exe</li> <li>Pos_AnaArt.exe</li> <li>Pos_AnaCasse.exe</li> <li>Pos_AnaCli.exe</li> <li>Pos_AnaFatt.exe</li> <li>Pos_AnaRep.exe</li> <li>Pos_AnaVen.exe</li> <li>Pos_Casse.exe</li> <li>Pos_CFisc.exe</li> <li>Pos_Chiave.exe</li> <li>Pos_Config.exe</li> <li>Pos_Coupon.exe</li> <li>Pos_CtrCas.exe</li> <li>Pos_DettFid.exe</li> <li>Pos_ElettrEtich.exe</li> <li>Pos_Eod.exe</li> <li>Pos_FatturaPA.exe</li> <li>Pos_Fidelity.exe</li> <li>Pos_Incassi.exe</li> <li>Pos_Insta.exe</li> <li>Pos_Inv001.exe</li> <li>Pos_Inv002.exe</li> <li>Pos_Inv003.exe</li> <li>Pos_Inv004.exe</li> <li>Pos_Inv005.exe</li> <li>Pos_Log.exe</li> <li>Pos_Mane.exe</li> <li>Pos_Monitor.exe</li> <li>Pos_MovimCarte.exe</li> <li>Pos_MsgScontr.exe</li> <li>Pos_Open.exe</li> <li>Pos_Premi.exe</li> <li>Pos_Punti.exe</li> <li>Pos_RecEod.exe</li> <li>Pos_RielabScontr.exe</li> <li>Pos_RxBilance.exe</li> <li>Pos_RxLog.exe</li> <li>Pos_RxPntFid.exe</li> <li>Pos_RxSco.exe</li> <li>Pos_RxScon.exe</li> <li>Pos_RxVen.exe</li> <li>POS_SBV.exe</li> <li>POS_SBVGest.exe</li> <li>Pos_Sospesi.exe</li> <li>Pos_Spegni.exe</li> <li>Pos_StpCirc.exe</li> <li>Pos_StpCont.exe</li> <li>Pos_StpFid.exe</li> <li>Pos_StpMan.exe</li> <li>Pos_StpMan2.exe</li> <li>Pos_StpMan4.exe</li> <li>Pos_StpPrd.exe</li> <li>Pos_StpSos.exe</li> <li>Pos_Tessera (deprecated).exe</li> <li>Pos_TxAnaCli.exe</li> <li>Pos_TxBilance.exe</li> <li>Pos_TxCatalina.exe</li> <li>Pos_TxIngr.exe</li> <li>Pos_TxScontr.exe</li> <li>Pos_Utility.exe</li> <li>Pos_View.exe</li> <li>PoswareTxLog.exe</li> <li>ServAggDBcassa.exe</li> </ul> </li> </ul> <p>Versioning dei servizi legacy</p> <p>Con l'introduzione del nuovo setup dei servizi legacy del Front Office, tutti gli applicativi relativi vengono uniformati alla stessa versione, ossia la <code>4.3.0.0</code>.</p> <p>Tutti i moduli che non sono presenti nella nuova installazione non sono certificati!</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/servizi-legacy.html#scenari-duso","title":"Scenari d'uso","text":"<p>Il setup dei servizi legacy del Front Office supporta tutti e tre gli scenari di installazione e aggiornamento possibili:</p> <ul> <li>Nuova installazione del Front Office da zero</li> <li>Migrazione dei servizi dalla versione <code>4.2</code> alla <code>4.3</code></li> <li>Aggiornamento dei servizi alla loro ultima versione disponibile, in linea con la Major e Minor version installata</li> </ul> <p>Il setup viene avviato con i diritti di amministratore</p> <p>Indipendentemente dallo scenario d'uso, il setup dei servizi legacy del Front Office viene sempre avviato con i diritti di amministratore.</p> <p>A tal riguardo, quindi, non \u00e8 necessaria alcuna operazione da parte dell'utente.</p> <p>Lo scenario di nuova installazione \u00e8 l'unico in cui l'utente pu\u00f2 lanciare il setup facendo ordinario doppio click sull'applicativo. Cos\u00ec facendo nessun parametro particolare viene passato al setup e verr\u00e0 mostrato il wizard da cui l'utente potr\u00e0 procedere con l'installazione.</p> <p></p> <p>Per gli scenari di migrazione e di aggiornamento, invece, \u00e8 assolutamente mandatorio avviare l'applicativo tramite shell fornendo gli opportuni parametri personalizzati:</p> <ul> <li><code>/MIGRATED</code>: in caso di migrazione dei servizi dalla versione <code>4.2</code> alla <code>4.3</code></li> <li><code>/UPGRADE</code>: in caso di aggiornamento dei servizi alla loro ultima versione disponibile, in linea con la Major e Minor version installata</li> </ul> <p>Arresto dei servizi secondari nello scenario di aggiornamento</p> <p>Per lo scenario di aggiornamento dei servizi legacy, \u00e8 necessario interrompere tutti i servizi secondari eventualmente installati oltre ai cinque servizi principali: </p> <ul> <li>Pos_Fidelity</li> <li>Pos_Log </li> <li>Pos_Sbv </li> <li>Pos_TxLog </li> <li>Pos_TxScontr</li> </ul> <p>L'arresto dei servizi secondari \u00e8 obbligatorio prima dell'esecuzione del setup, al fine di garantire il corretto completamento dell'aggiornamento.</p> <p>Se l'installazione ha successo, viene creata la cartella C:\\Posware con all'interno tutti i file elencati precedentemente e le relative <code>.dll</code> necessarie al loro funzionamento.Inoltre, vengono creati i seguenti servizi Windows:</p> <ul> <li>Pos_Fidelity</li> <li>Pos_Log</li> <li>Pos_Sbv</li> <li>Pos_TxLog</li> <li>Pos_TxScontr</li> </ul> <p>Path di destinazione</p> <p>Prima di avviare il nuovo setup, la directory C:\\Posware NON deve essere assolutamente presente nel sistema!Quindi in caso fosse presente procedere con la sua eliminazione.Ci\u00f2 \u00e8 valido esclusivamente per gli scenari di nuova installazione e migrazione.</p> <p>Per lo scenario di migrazione, inoltre, se si usavano in precedenza eventuali directory differenti da C:\\Posware, sar\u00e0 necessario migrarle con relativa riconfigurazione dei path nei batch.</p> <p>Cartelle dei singoli servizi</p> <p>Al fine di rendere l'installazione pi\u00f9 organica, tutti i singoli servizi vengono installati in sotto cartelle nominative, cos\u00ec da rendere indipendenti tra loro le dipendenze.</p> <p>L'accesso ai parametri di comunicazione avverr\u00e0, quindi, in priorit\u00e0 sulla cartella di lavoro ed in subordine alla cartella parent.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/servizi-legacy.html#configurazione","title":"Configurazione","text":"<p>Una volta installati o migrati i servizi legacy del Front Office, sar\u00e0 necessario configurarli adeguatamente a livello di database e file.</p> <p>Antivirus e firewall</p> <p>Prima di procedere con la configurazione dei servizi e il loro utilizzo, \u00e8 necessario inserire la directory C:\\Posware nella lista delle esclusioni sia dell'antivirus che del firewall di sistema.</p> <p>Licenze dei servizi legacy</p> <p>I vari servizi legacy con il passaggio alla versione <code>4.3</code> continuano comunque ad utilizzare i file licenza.lic per l'attivazione delle licenze dei relativi software.</p> <p>Contattare il vostro account di riferimento o l'amministrazione ISiD per ottenere le licenze necessarie.</p> <p>Aggiornare il path del file licenza.lic nello scenario di migrazione</p> <p>In caso di migrazione dalla versione <code>4.2</code> alla <code>4.3</code> le licenze dei servizi legacy sono ancora valide, ma \u00e8 necessario fare copia incolla del file licenza.lic nelle cartelle del Pos_Log e del Pos_Fidelity, perch\u00e9 il path dei servizi \u00e8 cambiato.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/servizi-legacy.html#pos_fidelity","title":"Pos_Fidelity","text":"<p>Il Pos_Fidelity \u00e8 il servizio del Front Office adibito alla gestione delle fidelity card dei clienti fidelity del punto vendita. </p> <p>Vista la sua natura \u00e8 un servizio facoltativo e quindi viene installato da Windows con avvio manuale. Quindi sar\u00e0 necessario avviarlo manualmente di volta in volta in caso lo si desideri utilizzare.</p> <p>L'unica configurazione di cui necessita per il suo utilizzo \u00e8 la presenza di record con i dati delle fidelity card all'interno della tabella <code>fidelity</code> del database dello StoreServer.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/servizi-legacy.html#configurazione-del-servizio-pos_fidelity-per-invio-contatori-da-client-a-server","title":"Configurazione del servizio Pos_Fidelity per invio contatori da Client a Server","text":"<p>Per abilitare l'invio dei contatori dal server di barriera al server centralizzato, \u00e8 necessario configurare correttamente i parametri nella tabella <code>isi_config</code> del database <code>posware</code>.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/servizi-legacy.html#parametri-da-impostare-tabella-isi_config","title":"Parametri da impostare (tabella <code>isi_config</code>)","text":"Sezione Chiave Valore Fidelity Tx Server 1 (abilita l'invio dei contatori al server) Fidelity Ip Server IP del server centralizzato di destinazione Fidelity Aggiornamento Locale 0 (disabilita l\u2019aggiornamento locale dei contatori)","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/servizi-legacy.html#configurazione-delle-porte-di-comunicazione","title":"Configurazione delle porte di comunicazione","text":"<p>Assicurarsi che le porte utilizzate per la comunicazione siano congruenti tra client e server:</p> <ul> <li> <p>Server di barriera (in invio)</p> <ul> <li><code>Sezione</code> = Fidelity, <code>Chiave</code> = Porta \u2192 Porta di uscita (default: 6850)</li> </ul> </li> <li> <p>Server centralizzato (in ascolto)</p> <ul> <li><code>Sezione</code> = Fidelity, <code>Chiave</code> = Porta Server \u2192 Porta di ingresso (default: 6110)</li> </ul> </li> </ul> <p>Entrambe le porte devono essere aperte e correttamente configurate sui rispettivi ambienti di rete.</p> <p>Attenzione a firewall e regole di rete</p> <p>Verificare che eventuali firewall o regole di rete non blocchino il traffico tra i due server.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/servizi-legacy.html#pos_log","title":"Pos_Log","text":"<p>Il Pos_Log \u00e8 il servizio del Front Office che a partire dal log dello StoreServer genera le tabelle <code>scontrini</code> e <code>riepilogo</code>, utili per alcune funzionalit\u00e0 dello StoreServer e in generale di Posware.</p> <p>Visto il suo utilizzo \u00e8 un servizio fondamentale e quindi viene installato da Windows con avvio automatico. Quindi conclusa l'installazione o la migrazione verr\u00e0 avviato automaticamente e lo stesso varr\u00e0 ad ogni riavvio della macchina.</p> <p>Per il suo funzionamento \u00e8 necessario impostare alcuni parametri all'interno della tabella <code>isi_config</code> e devono essere presenti i dati del punto vendita nella tabella <code>pdv</code> del database dello StoreServer.</p> <p>Punto vendita placeholder nella tabella <code>pdv</code></p> <p>Negli scenari di nuova installazione e migrazione dei servizi legacy, il setup creer\u00e0 automaticamente una voce placeholder nella tabella <code>pdv</code>, cos\u00ec che il Pos_Log possa funzionare senza aver bisogno necessariamente di una configurazione manuale. </p> <p>Si consiglia di personalizzare successivamente questa istanza placeholder con i dati corretti del punto vendita.Nella configurazione manuale, tenere presente che il formato del campo <code>Pdv</code> corrisponde a una stringa di 4 caratteri, quindi se ad esempio il codice del punto vendita \u00e8 1 sar\u00e0 necessario inserire \"0001\".</p> <p>Per quanto riguarda la tabella <code>isi_config</code>, i parametri necessari al funzionamento del Pos_Log sono i seguenti:</p> Sezione Chiave Log Monitor Log Porta Log Scontrini Loyalty Anagrafica Loyalty Scontrini <p>Di seguito, le configurazioni necessarie per ognuno dei parametri soprastanti:</p> <ul> <li>Monitor \u00e8 uno switch con cui \u00e8 possibile abilitare o meno la generazione della tabella <code>riepilogo</code>. Impostando il valore del parametro pari a 0 si disabilita la generazione, mentre impostandolo pari a 1 la si attiva.Di default il setup lo imposta pari a 0.</li> <li>Porta contiene il valore della porta comunemente usata dal Pos_Log.Di default il setup la imposta pari a 6951, che \u00e8 il nuovo valore che assume a partire da Posware <code>4.3</code>.</li> <li>Scontrini (Log) \u00e8 uno switch con cui \u00e8 possibile abilitare o meno la generazione della tabella <code>scontrini</code>. Impostando il valore del parametro pari a 0 si disabilita la generazione, mentre impostandolo pari a 1 la si attiva.Di default il setup lo imposta pari a 1.</li> <li>Anagrafica contiene il nome del database da cui Pos_Log reperisce l'anagrafica dei dati, con la prima lettera maiuscola.Di default il setup lo imposta pari a \"Posware\", che \u00e8 il nome standard del database dello StoreServer.</li> <li>Scontrini (Loyalty) contiene il nome del database in cui \u00e8 contenuta la tabella <code>scontrini</code> in cui inserire i dati con il Pos_Log, con la prima lettera maiuscola.Di default il setup lo imposta pari a \"Posware\", che \u00e8 il nome standard del database dello StoreServer.</li> </ul> <p>Riavvio del servizio in caso di modifiche dei parametri</p> <p>In caso si decida di modificare uno qualsiasi dei parametri di configurazione del Pos_Log nella tabella <code>isi_config</code>, sar\u00e0 necessario riavviare il relativo servizio Windows, affinch\u00e9 le modifiche diventino effettive.</p> <p>Ulteriore configurazione necessaria per la generazione della tabella <code>scontrini</code></p> <p>Oltre al parametro nella tabella <code>isi_config</code>, la generazione della tabella <code>scontrini</code> ha anche un altro switch per la sua attivazione a livello di singolo punto vendita, ossia il campo <code>Scontrini</code> nella tabella <code>pdv</code>.Quindi, se lo switch generale in <code>isi_config</code> \u00e8 attivo, ma quello nel relativo punto vendita in <code>pdv</code> non lo \u00e8, la tabella <code>scontrini</code> non viene comunque generata, e viceversa.</p> <p>Entrambi gli switch devono essere attivi affinch\u00e9 il Pos_Log generi la tabella <code>scontrini</code>.</p> <p>Di default, in caso di nuova installazione, il setup imposta il campo <code>Scontrini</code> pari a 1 nell'istanza placeholder che crea nella tabella <code>pdv</code>.</p> <p>File di esempio Config.Ini nella cartella del Pos_Log</p> <p>All'interno della cartella del Pos_Log sono presenti due file di esempio:</p> <ul> <li>Config.mysql.Ini </li> <li>Config.sqlserver.Ini</li> </ul> <p>Questi file non vengono utilizzati da alcun programma.Sono forniti esclusivamente a scopo esemplificativo, per aiutare l\u2019utente a comprendere quali informazioni inserire nel file Config.Ini dei servizi legacy, soprattutto in assenza di conoscenze pregresse.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/servizi-legacy.html#pos_sbv","title":"Pos_Sbv","text":"<p>Il Pos_Sbv \u00e8 il servizio del Front Office adibito all'invio delle variazioni dallo StoreServer alle varie casse del punto vendita.</p> <p>Vista la sua natura \u00e8 un servizio fondamentale e quindi viene installato da Windows con avvio automatico. Quindi conclusa l'installazione o la migrazione verr\u00e0 avviato automaticamente e lo stesso varr\u00e0 ad ogni riavvio della macchina.</p> <p>Le configurazioni necessarie per il suo utilizzo sono:</p> <ul> <li>la presenza di record con i dati delle variazioni non ancora inviate alle casse (campo <code>Applicato</code> pari a 0) all'interno della tabella <code>mantemp</code> del database dello StoreServer;</li> <li>la configurazione dei codici di assortimento personalizzati con le relative casse associate, ad esclusione del codice assortimento 0, all'interno della tabella <code>assortimenti</code> del database dello StoreServer;</li> <li>il setting ottimale delle impostazioni relative all'invio delle variazioni nel file appsettings.json all'interno della directory C:\\Posware\\Pos_Sbv.</li> </ul> <p>Computazione automatica del codice assortimento 0</p> <p>A partire dalla versione <code>4.3.0.0</code> del Pos_Sbv, il codice assortimento 0 equivale ad un codice di default, riservato e non variabile da nessuno, che rappresenta l'invio a tutte le casse (o a tutti i punti vendita in caso di installazione in sede).</p> <p>Quindi, a differenza della situazione precedente, dove il codice assortimento 0 doveva essere manutenuto manualmente, ora viene gestito automaticamente e non deve quindi essere inserito nella tabella <code>assortimenti</code> del database dello StoreServer.In tal modo, da standard, il codice assortimento 0 invia a tutte le casse e punti vendita che hanno il flag di trasmissione pari ad 1 nella tabella <code>casse</code> dello StoreServer.</p> <p>Qualora si volesse escludere dall'invio delle variazione alcuni punti vendita o casse, si crea un assortimento dedicato personalizzato diverso da 0.</p> <p>Nello scenario di migrazione dalla versione <code>4.2</code> alla <code>4.3</code> dei servizi legacy, l'assortimento 0 pu\u00f2 essere eliminato, se presente. Prima di procedere, assicurarsi che fosse assegnato a tutte le casse e punti vendita con il flag di trasmissione attivo.In caso contrario, \u00e8 necessario sostituirlo con un assortimento dedicato personalizzato diverso da 0, anzich\u00e9 eliminarlo.</p> <p>Computazione automatica del codice assortimento 99</p> <p>A partire dalla versione <code>4.3.0.0</code> del Pos_Sbv, il codice assortimento 99 equivale a un codice di default, riservato e non variabile da nessuno, che rappresenta l\u2019invio esclusivamente al server di barriera.</p> <p>Quindi, a differenza della situazione precedente, dove il codice assortimento 99 doveva essere configurato manualmente, ora viene gestito automaticamente e non deve quindi essere inserito nella tabella <code>assortimenti</code> del database dello StoreServer. </p> <p>Con la nuova versione dei servizi legacy, le variazioni Fidelity possono essere inviate tramite il servizio Pos_Sbv, come tutte le altre, senza necessit\u00e0 di configurazioni aggiuntive. Quindi, non \u00e8 pi\u00f9 necessario creare l'istanza fittizia della cassa 99 nella tabella <code>casse</code> del database dello StoreServer.Tuttavia, per l'invio corretto delle variazioni Fidelity, \u00e8 ancora necessario impostare il campo <code>CodAssortimento</code> a 99 nella tabella <code>mantemp</code> del database dello StoreServer.</p> <p>Nello scenario di migrazione dalla versione <code>4.2</code> alla <code>4.3</code> dei servizi legacy, l'assortimento 99 e la cassa fittizia 99 possono essere eliminati, se presenti.</p> <p>Per inviare le variazioni \u00e8 necessario dopo le dovute configurazioni, eseguire l'applicativo POS_SBVGest.exe e una volta essersi assicurati che le varie casse o i punti vendita siano collegati correttamente premere il pulsante Invia.</p> <p></p> <p>Configurazione dei file appsettings.json e appsettings.Production.json in Pos_Sbv</p> <p>All'interno della directory del Pos_Sbv, il file appsettings.json contiene esclusivamente i valori di configurazione predefiniti e pu\u00f2 essere sovrascritto durante gli aggiornamenti eseguiti tramite il nuovo setup dei servizi legacy.</p> <p>\ud83d\udd34 Attenzione: non modificare il file appsettings.json per configurazioni personalizzate, in quanto le modifiche potrebbero andar perse durante gli aggiornamenti.</p> <p>Per eventuali personalizzazioni (es. modifica della connection string, impostazioni relative all'invio delle variazioni, ecc...), \u00e8 necessario utilizzare il file: appsettings.Production.json. Questo file viene preservato durante gli aggiornamenti ed \u00e8 il punto corretto in cui inserire tutte le configurazioni specifiche dell\u2019ambiente di produzione.</p> <p>In sintesi:</p> <ul> <li>appsettings.json: valori di default \u2192 non modificare</li> <li>appsettings.Production.json: configurazioni personalizzate \u2192 modificare qui</li> </ul> <p>Setting delle impostazioni relative all'invio delle variazioni</p> <p>A partire dalla versione <code>4.3.0.0</code> del Pos_Sbv, vengono introdotte nel file appsettings.json dei parametri per parametrizzare l'invio delle variazioni.Tali parametri sono i seguenti:</p> <ul> <li>SendBatchSize: quantit\u00e0 di record inviati in una singola trasmissione. Di default \u00e8 pari a 250 record.</li> <li>EnableCompression: flag di configurazione per abilitare e disabilitare la compressione dei dati. Di default \u00e8 attivo.</li> <li>SendTimeoutinSec: tempo massimo di invio del dato al Client prima di andare in timeout. Di default \u00e8 pari a 10 secondi.</li> <li>ReceiveTimeoutInSec: tempo massimo di ricezione dell'esito di applicazione del dato dal Client prima di andare in timeout. Di default \u00e8 pari a 10 secondi.</li> </ul> <p>Se una parte delle variazioni non dovesse venire inviata a causa del timeout, riprovare nuovamente l'invio dopo aver configurato i parametri soprastanti adeguatamente (aumento dei tempi massimi di timeout e/o diminuzione della quantit\u00e0 di record inviati) nel file appsettings.Production.json e aver riavviato il servizio Windows del Pos_Sbv.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/servizi-legacy.html#pos_txlog","title":"Pos_TxLog","text":"<p>Il Pos_TxLog \u00e8 il servizio del Front Office adibito all'invio del log dello StoreServer verso altre macchine in collegamento con quella del server centrale del punto vendita, come ad esempio il server della sede centrale della catena di punti vendita, se presente.</p> <p>Visto il suo utilizzo \u00e8 un servizio facoltativo e quindi viene installato da Windows con avvio manuale. Quindi sar\u00e0 necessario avviarlo manualmente di volta in volta in caso lo si desideri utilizzare.</p> <p>L'unica configurazione di cui necessita per il suo utilizzo \u00e8 quella dei campi centrali della tabella <code>isi_txlog</code> del database dello StoreServer.Tali campi sono i seguenti:</p> <ul> <li>Id: identificativo del record con le informazioni necessarie alla configurazione del Pos_TxLog per il collegamento ad una determinata macchina. Il suo formato corrisponde a una stringa di 4 caratteri;</li> <li>Pdv: identificativo del punto vendita su cui \u00e8 installato lo StoreServer e il Pos_TxLog. Il suo formato corrisponde a una stringa di 4 caratteri, quindi se ad esempio il codice del punto vendita \u00e8 1 in questo campo sar\u00e0 necessario inserire \"0001\";</li> <li>Ip: indirizzo IP della macchina in collegamento a cui si vuole inviare il log dello StoreServer;</li> <li>Porta: porta della macchina in collegamento a cui si vuole inviare il log dello StoreServer;</li> <li>NewPdv: il valore che dovr\u00e0 avere il campo <code>Pdv</code> nel database della macchina in collegamento a cui si vuole inviare il log dello StoreServer;</li> <li>Tx: flag di configurazione per abilitare e disabilitare la funzionalit\u00e0 del Pos_TxLog per il collegamento ad una determinata macchina. Impostando il valore del parametro pari a 0 si disabilita la funzionalit\u00e0 del Pos_TxLog, mentre impostandolo pari a 1 la si attiva.</li> </ul> <p>Campi deprecati della tabella <code>isi_txlog</code></p> <p>A partire dalla versione <code>4.3.0.0</code> del Pos_TxLog, i campi <code>Cassa</code>, <code>Data</code> e <code>Progressivo</code> della tabella <code>isi_txlog</code> del database dello StoreServer sono deprecati.</p> <p>Quindi, anche se ancora presenti per una questione di retrocompatibilit\u00e0, non hanno alcun utilizzo per il funzionamento del nuovo Pos_TxLog.Si raccomanda di inserire al suo interno un valore di default solo ed unicamente se richiesto dal provider database per vincoli di chiave, tenendo presente che qualsiasi valore valido inserito non influir\u00e0 comunque in alcun modo sul funzionamento del nuovo Pos_TxLog.</p> <p>Esempi di funzionamento del campo <code>NewPdv</code></p> <p>A scanso di equivoci vengono riportati di seguito degli esempi di funzionamento del campo <code>NewPdv</code>:</p> <ul> <li>In caso il negozio abbia valore pari a \"0001\" nel campo <code>Pdv</code> in <code>isi_txlog</code>, mentre nella sede centrale della catena di punti vendita il valore che deve assumere \u00e8 \"3456\", allora sar\u00e0 necessario inserire il valore \"3456\" nel campo <code>NewPdv</code> di <code>isi_txlog</code>.</li> <li>In caso il negozio abbia valore pari a \"0001\" nel campo <code>Pdv</code> in <code>isi_txlog</code> e anche il valore che deve assumere nella sede centrale della catena di punti vendita \u00e8 \"0001\", allora si pu\u00f2 scegliere se lasciare il campo <code>NewPdv</code> di <code>isi_txlog</code> vuoto oppure se assegnargli il valore \"0001\".</li> </ul>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/servizi-legacy.html#pos_txscontr","title":"Pos_TxScontr","text":"<p>Il Pos_TxScontr \u00e8 il servizio del Front Office adibito all'invio dei record della tabella <code>scontrini</code> dello StoreServer verso altre macchine in collegamento con quella del server centrale del punto vendita, come ad esempio il server della sede centrale della catena di punti vendita, se presente.</p> <p>Visto il suo utilizzo \u00e8 un servizio facoltativo e quindi viene installato da Windows con avvio manuale. Quindi sar\u00e0 necessario avviarlo manualmente di volta in volta in caso lo si desideri utilizzare.</p> <p>L'unica configurazione di cui necessita per il suo utilizzo \u00e8 quella dei campi centrali della tabella <code>isi_txscontr</code> del database dello StoreServer.Tali campi sono i seguenti:</p> <ul> <li>Id: identificativo del record con le informazioni necessarie alla configurazione del Pos_TxScontr per il collegamento ad una determinata macchina. Il suo formato \u00e8 un numero intero;</li> <li>Pdv: identificativo del punto vendita su cui \u00e8 installato lo StoreServer e il Pos_TxScontr. Il suo formato \u00e8 un numero intero;</li> <li>Ip: indirizzo IP della macchina in collegamento a cui si vogliono inviare i record della tabella <code>scontrini</code> dello StoreServer;</li> <li>Porta: porta della macchina in collegamento a cui si vogliono inviare i record della tabella <code>scontrini</code> dello StoreServer;</li> <li>NewPdv: il valore che dovr\u00e0 avere il campo <code>Pdv</code> nel database della macchina in collegamento a cui si vogliono inviare i record della tabella <code>scontrini</code> dello StoreServer. Il meccanismo di funzionamento \u00e8 lo stesso del Pos_TxLog;</li> <li>Tx: flag di configurazione per abilitare e disabilitare la funzionalit\u00e0 del Pos_TxScontr per il collegamento ad una determinata macchina. Impostando il valore del parametro pari a 0 si disabilita la funzionalit\u00e0 del Pos_TxScontr, mentre impostandolo pari a 1 la si attiva.</li> </ul> <p>Cambiamento del tipo di dato dei campi <code>Id</code> e <code>Pdv</code> della tabella <code>isi_txscontr</code></p> <p>A partire dalla versione <code>4.3.0.0</code> del Pos_TxScontr, i campi <code>Id</code> e <code>Pdv</code> della tabella <code>isi_txscontr</code> del database dello StoreServer hanno subito un cambiamento del tipo di dato, passando da stringhe ad interi.</p> <p>Campi deprecati della tabella <code>isi_txscontr</code></p> <p>A partire dalla versione <code>4.3.0.0</code> del Pos_TxScontr, i campi <code>Cassa</code>, <code>Data</code> e <code>Transazione</code> della tabella <code>isi_txscontr</code> del database dello StoreServer sono deprecati.</p> <p>Quindi, anche se ancora presenti per una questione di retrocompatibilit\u00e0, non hanno alcun utilizzo per il funzionamento del nuovo Pos_TxScontr.Si raccomanda di inserire al suo interno un valore di default solo ed unicamente se richiesto dal provider database per vincoli di chiave, tenendo presente che qualsiasi valore valido inserito non influir\u00e0 comunque in alcun modo sul funzionamento del nuovo Pos_TxScontr.</p>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/servizi-legacy.html#troubleshooting-per-i-tecnici","title":"Troubleshooting per i tecnici","text":"<p>Al sorgere di problemi con i servizi legacy, sono diversi gli approcci utilizzabili per diagnosticarli:</p> <ul> <li>In caso di problemi con la configurazione dei dati all'interno del database, avvenuti durante l'installazione da zero con il setup, consultare il file ConfigurationLog.DATAODIERNA all'interno della directory C:\\Posware\\TerminateConfiguration.</li> <li>In caso di errori generici con i servizi legacy, consultare il file LogErrori.DATAODIERNA all'interno della directory C:\\Posware\\Log, se presente.</li> <li> <p>In caso di problemi con i singoli servizi legacy, nello scenario di nuova installazione, viene creato il database <code>log</code> nella stessa connessione del database dello StoreServer. Questo database conterr\u00e0 una tabella per ognuno dei principali servizi legacy. All'interno di queste tabelle verranno poi immagazzinati i messaggi relativi all'avvio del relativo servizio ed eventuali messaggi di errore in caso si verifichino. </p> <p>Database <code>log</code> nello scenario di migrazione</p> <p>Nel contesto di migrazione, lato server di barriera, viene migrato esclusivamente il database <code>posware</code>.Il database <code>log</code>, invece, viene eliminato e rigenerato automaticamente al primo avvio del nuovo setup dei servizi legacy, con tutte le modifiche strutturali previste.</p> <p>\ud83d\udd34 Attenzione: nel passaggio dalla versione <code>4.2</code> alla <code>4.3</code> dei servizi legacy, il database <code>log</code> viene sempre eliminato.Se \u00e8 necessario conservare i log precedenti, eseguire un backup manuale del database <code>log</code> prima di avviare la migrazione.</p> </li> <li> <p>Assicurarsi che il server di barriera e le casse comunichino tra loro sulle porte adibite ai servizi legacy e non siano presenti collissioni dovute all'intervento dell'antivirus o del firewall di sistema, se non adeguatamente configurati con le opportune eccezioni. Inoltre, in caso siano state applicate configurazioni personalizzate di alcuni parametri all'interno del database dello StoreServer, verificare che tali personalizzazioni non abbiano portato i servizi a collidere tra loro, con pi\u00f9 servizi che utilizzano la stessa porta.</p> </li> <li>In caso nessuna delle precedenti soluzioni abbia evidenziato la causa degli errori verificatisi, consultare i Windows Logs all'interno dell'Event Viewer di Windows.</li> </ul>","tags":["Posware","StoreServer"]},{"location":"getting-started/installazione-storeserver/servizi-legacy.html#strategia-di-troubleshooting-in-caso-di-errori-negli-invii-dei-batch-del-pos_sbv","title":"Strategia di troubleshooting in caso di errori negli invii dei batch del Pos_Sbv","text":"<p>Nel caso in cui il Pos_Sbv si blocchi durante la costruzione del batch (prima ancora di generare query verso il database), il problema \u00e8 quasi certamente legato alla costruzione dei dati di base. Questo comportamento \u00e8 intenzionale: il processo si arresta alla prima anomalia per garantire coerenza.</p> <p>Per individuare e risolvere l\u2019errore in modo efficiente, seguire i passaggi seguenti:</p> <ol> <li> <p>Ridurre la dimensione del batch</p> <ul> <li>Impostare il parametro SendBatchSize nel file di configurazione appsettings.Production.json a 1 o a un valore basso (es. 10).</li> <li>Questo consente di isolare il record che causa l\u2019errore, facendo fallire il batch esattamente su quel dato (in caso di batch size pari a 1).</li> </ul> </li> <li> <p>Saltare temporaneamente i record problematici</p> <ul> <li> <p>Se si sospetta che l\u2019errore riguardi un numero limitato di record, \u00e8 possibile:</p> <ul> <li>Impostare manualmente il campo <code>Applicato</code> = 1 nella tabella <code>mantemp</code> (DB <code>posware</code>) per marcarli come gi\u00e0 inviati, oppure</li> <li>Eliminarli temporaneamente dalla tabella per testare l\u2019invio degli altri.</li> </ul> </li> <li> <p>Se il resto dei record viene elaborato correttamente, si potr\u00e0 poi intervenire in modo mirato sui record esclusi.</p> </li> </ul> </li> <li> <p>Evitare batch troppo grandi in fase di test</p> <ul> <li>In ambienti non ancora stabilizzati o in prima installazione, evitare l\u2019uso di batch molto ampi (es. &gt; 1000 record).</li> <li>Batch pi\u00f9 piccoli rendono pi\u00f9 semplice l\u2019identificazione di errori strutturali nei dati.</li> </ul> </li> <li> <p>Inviare i batch in locale per test veloci</p> <ul> <li> <p>In alternativa, per test pi\u00f9 rapidi:</p> <ul> <li>Modificare temporaneamente il campo <code>CodAssortimento</code> a 99 nella tabella <code>mantemp</code> sui record problematici con invio singolo (SendBatchSize = 1).</li> <li>In questo modo l\u2019invio sar\u00e0 limitato localmente al server di barriera, riducendo drasticamente i tempi.</li> </ul> </li> </ul> </li> </ol>","tags":["Posware","StoreServer"]},{"location":"old-docs/cashmatic-plug-in-per-posware.html","title":"Cashmatic Plug-In per Posware","text":""},{"location":"old-docs/cashmatic-plug-in-per-posware.html#manuale-di-attivazione-ed-utilizzo","title":"Manuale di attivazione ed utilizzo","text":"<p>Il presente documento descrive i requisiti minimi, le configurazioni e le procedure necessarie all'attivazione ed utilizzo del plug-in dedicato a Cashmatic, device di Cash Management.</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#data-di-creazione-del-documento-05092023","title":"Data di creazione del documento: 05/09/2023","text":""},{"location":"old-docs/cashmatic-plug-in-per-posware.html#ultima-revisione-documento-18092023","title":"Ultima revisione documento: 18/09/2023","text":""},{"location":"old-docs/cashmatic-plug-in-per-posware.html#cenni-preliminari","title":"Cenni preliminari","text":""},{"location":"old-docs/cashmatic-plug-in-per-posware.html#versioni-software","title":"Versioni software","text":"<p>La versione minima di Posware richiesta \u00e8 la v. <code>4.2.694</code> per Windows 7/8/10.  La versione supportata di firmware Cashmatic \u00e8 la v. <code>0067</code></p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#device-supportati","title":"Device supportati","text":"<p>A far data 18/09/2023 sono supportati i seguenti device:</p> <ul> <li>Cashmatic - Serie SELFpay 460</li> <li>Cashmatic - Serie SELFpay 660</li> </ul>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#installazione-e-configurazione","title":"Installazione e configurazione","text":""},{"location":"old-docs/cashmatic-plug-in-per-posware.html#pre-requisiti","title":"Pre requisiti","text":"<p>IMPORTANTE: Verificare sempre prima di una installazione che la versione del firmware installata sul dispositivo sia supportata tra quelle riportate nella sezione versioni software, in caso contrario non procedere all'installazione in produzione  <code>Ogni segnalazione derivante da un malfunzionamento su una versione di firmware non supportata non potr\u00e0 essere gestita in priorit\u00e0</code></p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#procedura-di-installazione","title":"Procedura di installazione","text":"<p>Il plug-in \u00e8 incluso out-of-the-box in Posware, nel pacchetto di installazione <code>PosUpdate</code>.  Aggiornando Posware alla versione minima supportata, il plug-in \u00e8 subito configurabile e non sono necessarie ulteriori installazioni.</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#configurazione","title":"Configurazione","text":""},{"location":"old-docs/cashmatic-plug-in-per-posware.html#impostazioni","title":"Impostazioni","text":"<p>Di seguito le impostazioni del plug-in configurabili nella tabella <code>tabparametriextra</code>:</p> Modulo Parametro Valore Valore di default Note <code>posware.plugins.cashmatic</code> <code>port</code> Porta di comunicazione verso il device <code>50301</code> <code>posware.plugins.cashmatic</code> <code>endPoint</code> Indirizzo IP del device Specificare sempre il prefisso https:// e l'indirizzo ip interno del device <code>posware.plugins.cashmatic</code> <code>communicationTimeoutInMilliseconds</code> Tempo di attesa in millisecondi per la comunicazione <code>10000</code> Rappresente il tempo massimo permesso per la comunicazione verso il device <code>posware.plugins.cashmatic</code> <code>paymentTimeoutInMilliseconds</code> Tempo massimo permesso per l'intero processo di pagamento, in millisecondi <code>30000</code> In caso di blocco permanente del device, dopo questo lasso di tempo Posware annulla il pagamento e ritorna alla schermata principale. E' da considerare come uscita di emergenza. Valore minimo 30000, massimo 120000 <code>posware.plugins.cashmatic</code> <code>depositRefillTimeoutInMilliseconds</code> Tempo massimo permesso per l'intero processo di fondocassa/versamento, in millisecondi <code>30000</code> In caso di blocco permanente del device, dopo questo lasso di tempo Posware annulla l'operazione di fondocassa/versamento e ritorna alla schermata principale. E' da considerare come uscita di emergenza. Valore minimo 30000, massimo 120000 <code>posware.plugins.cashmatic</code> <code>username</code> Username Username di accesso al web server. <code>posware.plugins.cashmatic</code> <code>password</code> Password Password di accesso al web server. <code>posware.plugins.cashmatic</code> <code>minimumDenominations</code> Pezzi minimi per taglio <code>5:0|10:0|20:0|50:2|100:0|200:0|500:0|1000:0|2000:0</code> In questa sezione vengono indicati i pezzi minimi per ogni taglio. Sotto questa soglia il sistema avvisa il cassiere di effettuare un versamento. <code>posware.plugins.cashmatic</code> <code>maximumGapDenominations</code> Pezzi prima del massimo contenuto per tipologia <code>coins:10|notes:10</code> In questa sezione si indicano quanti pezzi devono mancare al raggiungimento del massimo contenuto per tipologia di contenitore <p>Tutte le configurazioni, se non presenti in <code>tabparametriextra</code>, al primo utilizzo del plug-in vengono inizializzate automaticamente al valore di default riportato in tabella.</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#attivazione-sul-front-end","title":"Attivazione sul front-end","text":"<p>Per utilizzare il plug-in sono richiesti 2 passaggi:</p> <ol> <li>Configurarlo come gestore di Cash Management per l'inizializzazione.</li> <li>Inserire un pulsante per richiamare il pagamento</li> </ol>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#1-attivare-il-plug-in-di-cashmatic-come-gestore-di-cash-management","title":"1. Attivare il plug-in di Cashmatic come gestore di Cash Management","text":"<p>Per inizializzare il plug-in, \u00e8 necessario configurarlo come gestore di Cash Management.  A tal fine, configurare le voci nella tabella <code>tabparametriextra</code> con i valori di seguito riportati:</p> Modulo Parametro Valore <code>CASHMANAGEMENT</code> <code>LIBRERIA</code> <code>Posware.Cashmatic.dll</code> <code>CASHMANAGEMENT</code> <code>NOMECLASSE</code> <code>Posware.Cashmatic.CashmaticHandler</code> <p>Dopo aver configurato i parametri, avviare Posware: verr\u00e0 inizializzato il plug-in con tutte le sue impostazioni di default.  Chiudere Posware e impostare all\u2019interno di <code>tabparametriextra</code>, i valori per questi parametri mandatori con quelli in uso sul vostro device:</p> Modulo Parametro Valore <code>posware.plugins.cashmatic</code> <code>endPoint</code> <code>Inserire l'indirizzo Ip</code> <code>posware.plugins.cashmatic</code> <code>username</code> <code>Inserire la username</code> <code>posware.plugins.cashmatic</code> <code>password</code> <code>Inserire la password</code> <p>Importante, specificare sempre il prefisso https nell'endpoint</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#2-pulsante-di-pagamento","title":"2. Pulsante di pagamento","text":"<ol> <li> <p>Aggiungere un nuovo record alla tabella <code>tipi_pagamenti</code>. I campi obbligatori per definire il pagamento come Cash Management sono:</p> Resto EFT PagTipo TipoPagRT Arrotondamento <code>1</code> <code>true</code> <code>1</code> <code>0</code> <code>0,05</code> <p>I campi restanti possono essere configurati in base alle esigenze.</p> </li> <li> <p>Aggiungere il pulsante alla grafica ed agganciare il nuovo pagamento</p> </li> </ol>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#funzionalita","title":"Funzionalit\u00e0","text":""},{"location":"old-docs/cashmatic-plug-in-per-posware.html#scenari-supportati","title":"Scenari supportati","text":"<p>\u00c8 supportato unicamente lo scenario One-To-One: 1 device di Cash Management collegato direttamente ad 1 terminale Point-Of-Sales (cassa).</p> <p>Non sono supportati altri scenari quali multi terminale PoS verso il device di Cash Management.</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#workflow-di-pagamento","title":"Workflow di pagamento","text":"<ol> <li>Dopo aver premuto <code>Subtotale</code>, premere il tasto assegnato al pagamento cash management</li> <li>Verr\u00e0 mostrato il messaggio di attesa pagamento e sul display del Cashmatic sar\u00e0 mostrato l'importo da pagare</li> <li>Una volta completato il pagamento, Posware ricever\u00e0 il dato sull'incassato.</li> <li>Se il pagamento salda l'intera transazione, lo scontrino viene stampato e l'eventuale resto erogato dal device viene riportato nella transazione</li> </ol> <p>E' possibile richiedere un pagamento parziale contanti indicando l'importo da richiedere al cashmatic per poi premere il tasto assegnato al pagamento cash management</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#caso-particolare-di-pagamento-ticket-numerati-e-contanti-con-arrotondamento","title":"Caso particolare di pagamento ticket numerati e contanti con arrotondamento","text":"<p>\u00c8 possibile, previa abilitazione dell'arrotondamento ibrido per pagamenti misti (vedi FAQ e vedi docs Funzionalit\u00e0 RT2.0), pagare con un pagamento ticket numerato ed il rimanente della transazione con il device. Tutto ci\u00f2 mantenendo l'arrotondamento contanti.  Per farlo \u00e8 sempre requisito pagare la transazione prima con il massimo pagabile in ticket numerati e la differenza con il device in contanti. </p> <p>Il comportamento \u00e8 coerente con quanto gi\u00e0 implementato per i pagamenti Contanti manuali. Per approfondimenti vedere il docs \u201cPosware 4.2 - Funzionalit\u00e0 RT 2.0\u201d sezione \u201cArrotondamento ibrido\u201d</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#resto-non-erogato","title":"Resto non erogato","text":"<p>Possono verificarsi casi in cui il device non riesce ad erogare il resto (totalmente o parzialmente), tipicamente a causa di indisponibilit\u00e0 dei tagli necessari.  In questo caso Posware notifica l\u2019evento alla cassiera e stampa il messaggio su scontrino. </p> <p>E\u2019 importante considerare che il resto non erogato dal device rientra generalmente in due scenari:</p> <ol> <li> <p>\u00c8 un di cui del resto indicato da Posware: in base al pagato la transazione prevede resto che tutto o in parte non \u00e8 stato erogato:</p> <p></p> </li> <li> <p>Non fa parte del resto della transazione ma \u00e8 necessario restituire un valore per via di tagli troppo grandi inseriti nel device per pagare. Pu\u00f2 accadere anche con pagamenti parziali multipli. Vedi paragrafo Eccezioni a seguire.</p> </li> </ol> <p>Si sottolinea che qualsiasi sia la condizione del resto della transazione, il valore riportato nel messaggio \"Ritirare Euro XX al box informazioni\" \u00e8 sempre corretto e rappresenta un ammontare ancora da dare che spetta al cliente.</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#eccezioni","title":"Eccezioni","text":"<p>Nel caso di pagamenti multipli in cui viene effettuato un pagamento parziale con cashmatic e il valore del versato supera quello del richiesto, il resto erogato dal device non verr\u00e0 indicato quale resto della transazione. Nel caso in cui per\u00f2, tale resto, totalmente o parzialmente, non fosse erogato, Posware evidenzier\u00e0 il valore NON RESTITUITO ma indicher\u00e0 comunque resto zero della transazione</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#casi-particolari-nella-erogazione-del-resto","title":"Casi particolari nella erogazione del resto","text":"<p>Qualora il device non riuscisse ad erogare completamente il resto, Posware ricever\u00e0 l'ammontare pendente e mostrer\u00e0 un messaggio all'operatore per far recare il cliente al box informazioni al fine di ritirare il resto non erogato. Lo stesso messaggio viene stampato sullo scontrino.  In caso di pagamento multiplo, ticket pi\u00f9 contanti, Posware effettuer\u00e0 correttamente l'arrotondamento integrando o scontando opportunamente lo scontrino, ma restituir\u00e0 sempre l'indicazione di resto 0 (zero), anche se il cashmatic avr\u00e0 erogato resto.</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#annullo-pagamenti","title":"Annullo pagamenti","text":"<p>E' nativamente prevista la possibilit\u00e0 di eseguire l'operazione di Annullo pagamenti: il cash management restituir\u00e0 automaticamente l'importo versato dal cliente fino a quel momento.  Qualora il device non dovesse restituire il denaro - o restituirlo solo parzialmente - Posware ricever\u00e0 l'ammontare non dispensato e mostrer\u00e0 un messaggio all'operatore per far recare il cliente al box informazioni al fine di ritirare il resto non erogato. Lo stesso messaggio viene stampato sullo scontrino.</p> <p>La stessa procedura viene eseguita anche in caso di annullo scontrino se \u00e8 stato introdotto del denaro. </p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#importante","title":"IMPORTANTE","text":"<p>In caso di errore del device, Posware ricever\u00e0 l'errore e non accetter\u00e0 il pagamento, inoltre \u00e8 anche possibile annullare il pagamento senza attendere l'operazione di completamento, premendo il pulsante <code>Annulla operazione</code>, oppure attendendo il tempo di timeout impostato</p> <p>Una volta annullata l'operazione, \u00e8 di estrema importanza assicurarsi che il cliente sia stato rimborsato dell'eventuale versato nel device.</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#workflow-per-prelievo","title":"Workflow per prelievo","text":"<ol> <li>Premere il tasto assegnato al prelievo</li> <li>Confermare l'utilizzo del cashmanagement</li> <li>Impostare l'importo del prelievo o lasciare 0 (zero) per prelevare tutto il contenuto del cashmatic</li> <li>Attendere la fine dell'operazione</li> <li>Indicare la causale opportuna</li> </ol>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#importante_1","title":"Importante","text":"<p>Durante l'operazione di prelievo, il display operatore di Posware NON mostrer\u00e0 lo stato di avanzamento.  Tale funzione \u00e8 prevista nel device Cashmatic dove viene mostrato l'avanzamento nel display integrato.</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#workflow-per-fondo-cassaversamento","title":"Workflow per fondo cassa/versamento","text":"<ol> <li>Premere il tasto assegnato al fond cassa o prelievo</li> <li>Confermare l'utilizzo del cashmanagement</li> <li>Sul display del device comparir\u00e0 lo stato avanzamento</li> <li>Premere il tasto <code>Annulla Operazione</code> a completamento procedura</li> <li>Indicare la causale opportuna <p>In caso di timeout leggere la sezione FAQ \"Mentre effettuavo un fondo cassa o versamento, Posware ha annullato l'operazione ignorando l'incasso del device\"</p> </li> </ol>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#importante_2","title":"Importante","text":"<p>Durante le operazioni di fondo cassa o versamento, il display operatore di Posware NON mostrer\u00e0 lo stato di avanzamento.  Tale funzione \u00e8 prevista nel device Cashmatic dove viene mostrato l'avanzamento nel display integrato.</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#avvisi-gestiti","title":"Avvisi gestiti","text":""},{"location":"old-docs/cashmatic-plug-in-per-posware.html#minimo-valore-raggiunto","title":"Minimo valore raggiunto","text":"<p>Quando il numero di pezzi raggiunge il livello minimo indicato in configurazione, il sistema notifica tale condizione indicando il taglio, l'attuale livello e l'atteso.  La configurazione dei livelli minimo si trova nell'impostazione <code>minimumDenominations</code> ed \u00e8 strutturata nel seguento modo:</p> <p>taglio:livello | taglio:livello | taglio:livello</p> <p>Esempio: 5:10 | 500: 5  Indica che per le monete da 5 cents minimo 10 pezzi mentre per le banconote da 5 euro minimo 5 pezzi</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#massimo-valore-raggiunto","title":"Massimo valore raggiunto","text":"<p>Quando il numero di pezzi sta per raggiungere il livello massimo indicato in configurazione, il sistema notifica tale condizione indicando il taglio, l'attuale livello ed il massimo consentito.  La configurazione di riferimento si trova nell'impostazione <code>maximumGapDenominations</code> ed \u00e8 strutturata nel seguente modo:</p> <p>tipologia:gap | tipologia: gap</p> <p>Esempio: coins:10|notes:5  Indica che per le monete si verr\u00e0 avvisati 10 pezzi prima del limite massimo, mentre per le banconote si verr\u00e0 avvisati 5 pezzi prima del limite massimo.</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#troubleshooting-per-i-tecnici","title":"Troubleshooting per i tecnici","text":""},{"location":"old-docs/cashmatic-plug-in-per-posware.html#file-log","title":"File log","text":"<p>La seguente tabella riepiloga come le informazioni di logging vengono tracciate all'interno dei file di log disponibili. Per abilitare il log dedicato, vedere il paragrafo <code>Configurazione</code></p> Operazione Livello minimo di Logging File log Inizializzazione <code>Info</code> Log principale di posware Connessione <code>Trace</code> Entrambi Errori di connessione <code>Error</code> Entrambi Pagamento e conferma incasso <code>Trace</code> Log principale di posware Errori di annullo, errori gravi <code>Error</code> Log principale di posware Traccia di annullo operazione dell'operatore <code>Trace</code> Log principale di posware Errori di tempo di attesa esaurito (timeout) <code>Trace</code> Log principale di posware Messaggi ingresso ed uscita da Cashmatic <code>Info</code> Log dedicato plug-in Cashmatic Info messaggi gestiti in ingresso ed uscita da Cashmatic <code>Info</code> Log dedicato plug-in Cashmatic <p>La regola generale \u00e8: le info necessarie ad un troubleshooting rapido sono inserite anche nel log principale, quelle di comunicazione dettagliata verso Cashmatic sono inserite nel log dedicato.</p> <p>I nomi di default dei log sono:</p> File log Nome di default Percorso Info Log principale di posware <code>posware-log_${shortdate}.log</code> Cartella principale di Posware <code>${shortdate}</code> = Data del log in formato AAAA-MM-DD . Esempio: <code>posware-log_2023-09-05.log</code> Log dedicato plug-in Cashmatic <code>cashmaticMessagelog_${shortdate}.log</code> Cartella principale di Posware <code>${shortdate}</code> = Data del log in formato AAAA-MM-DD . Esempio: <code>cashmaticMessagelog_2023-09-05.log</code>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#faq","title":"F.A.Q","text":""},{"location":"old-docs/cashmatic-plug-in-per-posware.html#il-device-si-e-bloccato-e-non-riesco-a-recuperarlo-a-causa-di-un-guasto-come-ritorno-a-posware","title":"Il device si \u00e8 bloccato e non riesco a recuperarlo a causa di un guasto. Come ritorno a Posware?","text":"<p>In caso di errore non recuperabile, Posware ritorner\u00e0 automaticamente alla transazione dopo il tempo massimo pari a 3 minuti.</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#mentre-attendevo-un-pagamento-posware-ha-annullato-loperazione-ignorando-lincasso-del-device","title":"Mentre attendevo un pagamento, Posware ha annullato l'operazione ignorando l'incasso del device","text":"<p>Posware ha un meccanismo intrinseco di sicurezza da eventuali blocchi del device Cashmatic.  Se il tempo di attesa, in millisecondi, settato  nella impostazione <code>paymentTimeoutInMilliseconds</code> viene superato, Posware considera il pagamento come annullato e ritorna alla transazione.  Eventuali rimborsi di denaro versato nel device saranno effettuati automaticamente. Qualora un pagamento durasse molto tempo, a causa di errori del device da correggere o altro, alzare il valore di questa variabile.</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#quando-richiedo-un-pagamento-al-device-posware-restituisce-un-errore","title":"Quando richiedo un pagamento al device, Posware restituisce un errore","text":"<p>In caso di device occupato o device scollegato, Posware restituisce l'errore di \"device offline\".</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#cosa-si-intende-per-annullo-manuale","title":"Cosa si intende per Annullo manuale?","text":"<p>Si intende la pressione del tasto <code>Annulla operazione</code> mentre \u00e8 in corso la transazione di pagamento.</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#mentre-effettuavo-un-fondo-cassa-o-versamento-posware-ha-annullato-loperazione-ignorando-lincasso-del-device","title":"Mentre effettuavo un fondo cassa o versamento, Posware ha annullato l'operazione ignorando l'incasso del device","text":"<p>Posware ha un meccanismo intrinseco di sicurezza da eventuali blocchi del device Cashmatic.  Se il tempo di attesa, in millisecondi, settato  nella impostazione <code>depositRefillTimeoutInMilliseconds</code> viene superato, Posware considera l'operazione come annullata e conclusa.  Se \u00e8 stato gi\u00e0 effettuato un versamento parziale si consiglia di effettuare un'operazione di fondo cassa/versamento manuale in posware cos\u00ec da allineare il contenuto cassetto e avere la ricevuta stampata.</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#cashmatic-device-error-stato-offline","title":"Cashmatic Device Error: Stato offline","text":"<p>Se viene mostrato un errore di questo tipo potrebbe essere scollegato il dispositivo oppure, se si verifica durante la fase di installazione controllare il log di Posware, in presenza di un errore simile a quello di seguito riportato vuol dire che l'endpoint \u00e8 errato e va corretto</p> <p>2023-09-12 16:42:50.6376|DEFAULT|ERROR|&gt;&gt;&gt; Cashmatic: Cannot init Cashmatic Web Server  Unity.ResolutionFailedException: Eccezione generata dalla destinazione di una chiamata.  Exception occurred while:     on constructor:  CashmaticHttpRepository(ILogger logger, ISettingsRepository settingsRepository, ICashmaticSettingsRepository cashmaticSettingsRepository)          mapped to:  ICashmaticHttpRepository  ---&gt; System.Reflection.TargetInvocationException: Eccezione generata dalla destinazione di una chiamata. ---&gt; System.UriFormatException: URI non valido: impossibile analizzare il nome host.</p>"},{"location":"old-docs/cashmatic-plug-in-per-posware.html#attivazione-arrotondamento-ibrido-per-pagamenti-misti","title":"Attivazione arrotondamento ibrido per pagamenti misti","text":"<p>Affinch\u00e8 Posware possa gestire correttamente l'arrotondamento contanti nei casi di pagamenti misti, Ticket e Contanti \u00e8 mandatorio che venga abilitata tale funzionalit\u00e0 secondo le modalit\u00e0 indicate nella guida \"Posware 4.2 - Funzionalit\u00e0 RT 2.0\" sezione \"Arrotondamento ibrido\"</p>"},{"location":"old-docs/lotteria-degli-scontrini.html","title":"Posware 4.1 - Lotteria degli scontrini","text":""},{"location":"old-docs/lotteria-degli-scontrini.html#manuale-di-attivazione-ed-utilizzo","title":"Manuale di attivazione ed utilizzo","text":"<p>Il presente documento descrive i nuovi requisiti minimi e le procedure necessarie all'attivazione della funzionalit\u00e0 Lotteria degli scontrini.</p>"},{"location":"old-docs/lotteria-degli-scontrini.html#ultima-revisione-documento-09062021","title":"Ultima revisione documento: 09/06/2021","text":""},{"location":"old-docs/lotteria-degli-scontrini.html#versioni-software-di-riferimento","title":"Versioni software di riferimento","text":"<ul> <li>Posware 4.1.300.0 o superiore</li> </ul>"},{"location":"old-docs/lotteria-degli-scontrini.html#cenni-preliminari","title":"Cenni preliminari","text":""},{"location":"old-docs/lotteria-degli-scontrini.html#posware","title":"Posware","text":"<p>La versione minima di posware richiesta \u00e8 la v. 4.1.300 .</p>"},{"location":"old-docs/lotteria-degli-scontrini.html#touchscreen","title":"Touchscreen","text":"<p>La funzionalit\u00e0 della lotteria degli scontrini \u00e8 compatibile solo con sistemi touchscreen. Non \u00e8 previsto il supporto tastiera.</p>"},{"location":"old-docs/lotteria-degli-scontrini.html#stampanti","title":"Stampanti","text":"<p>A far data 25/11/2020 le stampanti RT abilitate alla lotteria degli scontrini sono:</p> <ul> <li>Epson - tutti i modelli</li> <li>NCR</li> <li>RT-ONE</li> </ul>"},{"location":"old-docs/lotteria-degli-scontrini.html#server-rt","title":"Server RT","text":"<p>Il server RT Epson \u00e8 supportato. Non \u00e8 previsto il supporto ad altri server RT.</p>"},{"location":"old-docs/lotteria-degli-scontrini.html#firmware-stampanti","title":"Firmware stampanti","text":"<p>E' necessario aggiornare le stampanti all'ultima versione di firmware disponibile con il supporto alla lotteria degli scontrini. Qualora non venga aggiornato il firmware, la stampante andr\u00e0 in errore annullando la transazione se viene inserito un codice lotteria.</p> <p>E' possibile installare l'ultima versione di Posware, compatibile con la lotteria degli scontrini, anche se la stampante non ha il firmware aggiornato.  Fintanto che il comando della lotteria degli scontrini non sar\u00e0 effettivamente utilizzato, la stampante funzioner\u00e0 regolarmente.</p>"},{"location":"old-docs/lotteria-degli-scontrini.html#configurazioni","title":"Configurazioni","text":"<p>A partire da Posware <code>4.1.516</code></p> <p>Di seguito le impostazioni configurabili nella tabella <code>tabparametriextra</code>:</p> Modulo Parametro Descrizione Valore di default Note <code>posware.fiscalprinter</code> <code>lotteryCodeAlphanumericCheckEnabled</code> Il codice deve contenere obbligatoriamente sia lettere che numeri <code>true</code> Quando abilitata, se il codice contiene solo lettere o solo numeri, non viene accettato. Sono accettati solo stringhe che contengono sia lettere che numeri contemporaneamente. Spazi mai ammessi (anche con impostazione disabilitata) <code>posware.fiscalprinter</code> <code>lotteryCodeMaximumLength</code> Lunghezza massima possibile per il codice lotteria <code>8</code> Impostando un valore pari a zero <code>0</code> la validazione non viene eseguita. Valori errati non fanno scattare la validazione e vengono riportati nel log errori. <code>posware.fiscalprinter</code> <code>lotteryCodeMinimumLength</code> Lunghezza minima richiesta per il codice lotteria <code>8</code> Impostando un valore pari a zero <code>0</code> la validazione non viene eseguita. Valori errati non fanno scattare la validazione e vengono riportati nel log errori. <code>posware.fiscalprinter</code> <code>showRTLotteryCodeAcceptedMessageToCustomer</code> Visualizzazione del messaggi di accettato del codice lotteria <code>true</code> Se <code>false</code>, disabilita la visualizzazione del messaggio di accettazione codice lotteria sul display cliente. Questa impostazione \u00e8 disponibile anche a partire dalla versione <code>4.1.300</code> <p><code>lotteryCodeMaximumLength</code> e <code>lotteryCodeMinimumLength</code> possono essere abilitati/disabilitati anche singolarmente.</p> <p>Tutte le configurazioni, se non presenti in <code>tabparametriextra</code>, al bootstrap di Posware in vengono inizializzate automaticamente al valore di default riportato in tabella.  In caso di valore imputato fuori dal range permesso, vengono utilizzati i valori di default senza causare blocchi o notificare errori all'operatore.</p>"},{"location":"old-docs/lotteria-degli-scontrini.html#registrazione-nei-log","title":"Registrazione nei log","text":"<p>Il codice lotteria viene riportato nel log cassa e nelle tabelle carico/scarico su <code>carscar_info</code>. L'informazione viene centralizzata a livello punto di vendita e sede.</p>"},{"location":"old-docs/lotteria-degli-scontrini.html#log","title":"Log","text":"<p>A partire da Posware <code>4.1.525</code></p> <p>Il record \u00e8 di tipo <code>14</code>. I campi sono valorizzati secondo tabella:</p> Tipo Informazione Codice Informazione Codice a barre Informazione <code>S</code> <code>RTLC</code> Codice lotteria (allineato a destra)"},{"location":"old-docs/lotteria-degli-scontrini.html#carscar_info","title":"Carscar_info","text":"<p>I campi sono valorizzati secondo tabella:</p> id_carscar CodInfo Tipo Barcode Info ParentId Carscar <code>RTLC</code> <code>S</code> Codice lotteria"},{"location":"old-docs/lotteria-degli-scontrini.html#procedura-di-installazione","title":"Procedura di installazione","text":"<ol> <li>Aggiornare Posware tramite la comune procedura di <code>PosUpdate</code>.</li> <li>Configurare un nuovo pulsante nella tabella <code>grafica</code> con il campo <code>oper</code> impostato a <code>SET_RT_LOTTERYCODE</code></li> </ol>"},{"location":"old-docs/lotteria-degli-scontrini.html#workflow-di-utilizzo","title":"Workflow di utilizzo","text":""},{"location":"old-docs/lotteria-degli-scontrini.html#vendita","title":"Vendita","text":"<ol> <li>Premere il tasto configurato come lotteria degli scontrini.</li> <li>Alla richiesta, digitare il codice lotteria</li> <li>Il front-end trasmetter\u00e0 al registratore telematico il codice. Se accettato uscir\u00e0 un messaggio di accettazione, altrimenti un errore. In caso di errore il codice non verr\u00e0 applicato alla transazione.  <pre><code>  Diversi registratori telematici potrebbero accettare in modo silente anche un codice formalmente sbagliato.\n  In questo caso il codice errato verr\u00e0 generalmente inviato all'AdE ma, per ovvi motivi, non permetter\u00e0 di partecipare alla\n  lotteria degli scontrini.\n</code></pre> <p>A partire da posware <code>4.1.404</code></p> </li> </ol> <p>Il codice lotteria inserito verr\u00e0 anche mostrato sul display cliente con un messaggio \"Codice Lotteria accettato: XXXXXX\". Per disabilitare questo messaggio vedere le note in Addendum o consultare la tabella delle configurazioni Configurazioni</p>"},{"location":"old-docs/lotteria-degli-scontrini.html#nota-di-credito","title":"Nota di credito","text":"<p>Il codice lotteria viene automaticamente inserito da Posware, non \u00e8 necessario aggiungerlo manualmente alla transazione. Se si tenter\u00e0 di modificare il codice inserendone un altro, verr\u00e0 mostrato un messaggio di OPERAZIONE NON CONSENTITA. Come previsto dalla normativa, in una nota credito non sono permesse operazioni manuali sul codice lotteria.</p>"},{"location":"old-docs/lotteria-degli-scontrini.html#addendum","title":"Addendum","text":"<ul> <li>E' possibile inserire il codice lotteria in qualsiasi momento durante una transazione di vendita attiva. Se la transazione non \u00e8 iniziata, non \u00e8 possibile inserire il codice lotteria.</li> <li>In caso di inserimento multiplo, l'ultimo codice inserito verr\u00e0 applicato alla transazione ed il precedente sovrascritto</li> <li>In caso di presenza nella transazione di un codice fiscale, il codice lotteria rimuove il codice fiscale e non si potr\u00e0 richiedere fattura/altri doc. fiscali a seguire. Questo comportamento \u00e8 quanto previsto dalla normativa.</li> <li>E' possibile disabilitare la visualizzazione del messaggio di accettazione codice lotteria sul display cliente impostando, in <code>tabparametriextra</code>, a <code>false</code> il parametro <code>showRTLotteryCodeAcceptedMessageToCustomer</code> del modulo <code>posware.fiscalprinter</code></li> </ul>"},{"location":"old-docs/plugin-fast4cash.html","title":"Fast4Cash Plug-In per Posware","text":""},{"location":"old-docs/plugin-fast4cash.html#manuale-di-attivazione-ed-utilizzo","title":"Manuale di attivazione ed utilizzo","text":"<p>Il presente documento descrive i requisiti minimi, le configurazioni e le procedure necessarie all'attivazione ed utilizzo del plug-in dedicato a Fast4Cash (F4C), app di gestione device di Cash Management.</p>"},{"location":"old-docs/plugin-fast4cash.html#data-di-creazione-del-documento-21052021","title":"Data di creazione del documento: 21/05/2021","text":""},{"location":"old-docs/plugin-fast4cash.html#ultima-revisione-documento-13122021","title":"Ultima revisione documento: 13/12/2021","text":""},{"location":"old-docs/plugin-fast4cash.html#cenni-preliminari","title":"Cenni preliminari","text":""},{"location":"old-docs/plugin-fast4cash.html#versioni-software","title":"Versioni software","text":"<p>La versione minima di Posware richiesta \u00e8 la v. <code>4.1.500</code> per Windows 7/8/10.  La versione certificata di Fast4Cash \u00e8 la v. <code>4.0.0.407</code></p> <p>Posware per Windows XP (deprecato) non \u00e8 supportato ed il supporto non \u00e8 previsto.</p>"},{"location":"old-docs/plugin-fast4cash.html#device-supportati","title":"Device supportati","text":"<p>A far data 19/05/2021 sono supportati i seguenti device:</p> <ul> <li>NCR CTM - Release HW R6</li> <li>GLORY - Serie CI10</li> </ul>"},{"location":"old-docs/plugin-fast4cash.html#installazione-e-configurazione","title":"Installazione e configurazione","text":""},{"location":"old-docs/plugin-fast4cash.html#procedura-di-installazione","title":"Procedura di installazione","text":"<p>Il plug-in \u00e8 incluso out-of-the-box in Posware, nel pacchetto di installazione <code>PosUpdate</code>.  Aggiornando Posware alla versione minima supportata, il plug-in \u00e8 subito configurabile e non sono necessarie ulteriori installazioni.</p>"},{"location":"old-docs/plugin-fast4cash.html#configurazione","title":"Configurazione","text":""},{"location":"old-docs/plugin-fast4cash.html#impostazioni","title":"Impostazioni","text":"<p>Di seguito le impostazioni configurabili del plug-in nella tabella <code>tabparametriextra</code>:</p> Modulo Parametro Valore Valore di default Note <code>posware.plugins.f4c</code> <code>communicationPort</code> Porta di comunicazione verso il driver F4C. <code>6363</code> <code>posware.plugins.f4c</code> <code>ipAddress</code> Indirizzo IP da usare per la comunicazione verso il driver F4C <code>127.0.0.1</code> <code>posware.plugins.f4c</code> <code>waitTimeBeforePaymentStateRequestInMilliseconds</code> Tempo di attesa in ms da osservare tra l'avvenuto incasso e la richiesta stato pagamento <code>2000</code> Generalmente non \u00e8 necessario intervenire su questo parametro a meno di indicazioni specifiche da parte di IT-Avantec. Valore minimo 200ms, massimo 3000ms <code>posware.plugins.f4c</code> <code>overallPaymentProcessTimeoutInMinutes</code> Tempo massimo permesso per l'intero processo di pagamento, in minuti <code>10</code> In caso di blocco permanente del device o del driver F4C, dopo questo lasso di tempo Posware annulla il pagamento e ritorna alla schermata principale. In assenza del doppio monitor permette di chiudure la transazione senza dover riavviare l'intero PoS che rimarrebbe bloccato sulla schermata del driver F4C. E' da considerare come uscita di emergenza. Valore minimo 2, massimo 15 <code>posware.plugins.f4c</code> <code>enableF4CMessageLogging</code> true/false <code>true</code> Se abilitato, viene generato il log dettagliato dei messaggi inviati e ricevuti tra Posware e F4C. <code>posware.plugins.f4c</code> <code>enableUserAbort</code> true/false <code>true</code> Se abilitato, viene concesso all'operatore di poter Annullare l'operazione verso F4C. Leggere attenamente i paragrafi Workflow di utilizzo e F.A.Q. <code>posware.plugins.f4c</code> <code>showGUIOnRefund</code> true/false <code>false</code> Se abilitato, durante l'operazione di restituzione denaro (in caso di annullo pagamenti o annullo scontrino), viene visualizzata l'interfaccia di scelta di F4C. Supportato a partire da Posware 4.1.560 <code>posware.plugins.f4c</code> <code>floatReportFilePath</code> Percorso del file dei versamenti effettuati tramite il management di F4C <code>C:\\IT-Avantec\\F4C\\Management\\xml\\CTMFloatReport.xml</code> Richiamando la funzione di versamento o prelievo da Posware, dopo aver effettuato le operazioni nel management di F4C, verr\u00e0 letto questo file ottenere i dati del versato. Supportato a partire da Posware 4.2 <code>posware.plugins.f4c</code> <code>pickupReportFilePath</code> Percorso del file dei prelievi effettuati tramite il management di F4C <code>C:\\IT-Avantec\\F4C\\Management\\xml\\CTMPickupReport.xml</code> Richiamando la funzione di versamento o prelievo da Posware, dopo aver effettuato le operazioni nel management di F4C, verr\u00e0 letto questo file ottenere i dati del prelevato. Supportato a partire da Posware 4.2 <p>Tutte le configurazioni, se non presenti in <code>tabparametriextra</code>, al primo utilizzo del plug-in vengono inizializzate automaticamente al valore di default riportato in tabella.  In caso di valore imputato fuori dal range permesso, vengono utilizzati i valori di default senza causare blocchi o notificare errori.</p>"},{"location":"old-docs/plugin-fast4cash.html#attivazione-sul-front-end","title":"Attivazione sul front-end","text":"<p>Per utilizzare il plug-in sono richiesti 3 passaggi:</p> <ol> <li>Configurarlo come gestore di Cash Management per l'inizializzazione.</li> <li>Inserire un pulsante per richiamare il pagamento</li> <li>Inserire un pulsante per richiamare il gestore del device</li> </ol>"},{"location":"old-docs/plugin-fast4cash.html#1-attivare-il-plug-in-di-f4c-come-gestore-di-cash-management","title":"1. Attivare il plug-in di F4C come gestore di Cash Management","text":"<p>Per inizializzare il plug-in, \u00e8 necessario configurarlo come gestore di Cash Management.  A tal fine, configurare le voci nella tabella <code>tabparametriextra</code> con i valori di seguito riportati:</p> Modulo Parametro Valore <code>CASHMANAGEMENT</code> <code>LIBRERIA</code> <code>Posware.F4C.dll</code> <code>CASHMANAGEMENT</code> <code>NOMECLASSE</code> <code>Posware.F4C.Fast4CashCashManagementHandler</code> <p>Dopo aver configurato i parametri, avviare Posware. Verr\u00e0 inizializzato il plug-in con tutte le sue impostazioni di default, all'interno di <code>tabparametriextra</code>, per essere immediatamente utilizzabile.</p>"},{"location":"old-docs/plugin-fast4cash.html#2-pulsante-di-pagamento","title":"2. Pulsante di pagamento","text":"<ol> <li> <p>Aggiungere un nuovo record alla tabella <code>tipi_pagamenti</code>. I campi obbligatori per definire il pagamento come Cash Management sono:</p> Resto EFT PagTipo TipoPagRT <code>1</code> <code>true</code> <code>1</code> <code>0</code> <p>I campi restanti possono essere configurati in base alle esigenze.</p> </li> <li> <p>Aggiungere il pulsante alla grafica ed agganciare il nuovo pagamento</p> </li> </ol>"},{"location":"old-docs/plugin-fast4cash.html#3-pulsante-per-richiamare-il-gestore","title":"3. Pulsante per richiamare il gestore","text":"<ol> <li> <p>Aggiungere un nuovo record nella tabella <code>config_tast</code> inserendo nel campo <code>funzione</code> il valore <code>GESTF4C</code></p> <p>I campi restanti possono essere configurati in base alle esigenze.</p> </li> <li> <p>Aggiungere un nuovo record nella tabella <code>grafica</code> inserendo nel campo <code>oper</code> il valore <code>GESTF4C</code></p> <p>I campi restanti possono essere configurati in base alle esigenze.</p> </li> </ol>"},{"location":"old-docs/plugin-fast4cash.html#funzionalita","title":"Funzionalit\u00e0","text":""},{"location":"old-docs/plugin-fast4cash.html#scenari-supportati","title":"Scenari supportati","text":"<p>A far data 19/05/2021 \u00e8 supportato unicamente lo scenario One-To-One: 1 device di Cash Management collegato direttamente ad 1 terminale Point-Of-Sales (cassa).  Sono supportate tutte le funzionalit\u00e0 di gestione tramite F4C.  Lo scenario d'uso a cui si fa riferimento, in F4C \u00e8 supportato dal modulo <code>F4C-GDI+</code>.</p> <p>Non sono supportati altri scenari quali multi terminale PoS verso il device di Cash Management.</p>"},{"location":"old-docs/plugin-fast4cash.html#workflow-di-utilizzo","title":"Workflow di utilizzo","text":"<ol> <li>Dopo aver premuto <code>Subtotale</code>, premere il tasto assegnato al pagamento cash management</li> <li> <p>In presenza di singolo monitor, verr\u00e0 mostrata la schermata del driver F4C con lo stato del pagamento in attesa</p> <p>In presenza di due monitor, la schermata del driver verr\u00e0 mostrata sul monitor che \u00e8 stato configurato in F4C  In caso di errori, verranno riportate a video le informazioni guidate per la risoluzione direttamente da F4C</p> </li> <li> <p>Una volta completato il pagamento, la schermata di F4C si chiuder\u00e0 e Posware ricever\u00e0 il dato sull'incassato.</p> </li> <li>Se il pagamento salda l'intera transazione, lo scontrino viene stampato e l'eventuale resto erogato dal device viene riportato nella transazione</li> </ol>"},{"location":"old-docs/plugin-fast4cash.html#casi-particolari-nella-erogazione-del-resto","title":"Casi particolari nella erogazione del resto","text":"<p>Qualora il device non riuscisse ad erogare completamente il resto, Posware ricever\u00e0 l'ammontare pendente e mostrer\u00e0 un messaggio all'operatore per far recare il cliente al box informazioni al fine di ritirare il resto non erogato. Lo stesso messaggio viene stampato sullo scontrino.</p> <p>Posware &gt; 4.1.560</p> <p>A partire da Posware <code>v.4.1.560</code>, \u00e8 possibile eseguire l'operazione di Annullo pagamenti: il cash management restituir\u00e0 automaticamente l'importo versato dal cliente fino a quel momento.  Qualora il device non dovesse restituire il denaro - o restituirlo solo parzialmente - Posware ricever\u00e0 l'ammontare non dispensato e mostrer\u00e0 un messaggio all'operatore per far recare il cliente al box informazioni al fine di ritirare il resto non erogato. Lo stesso messaggio viene stampato sullo scontrino.</p> <p>La stessa procedura viene eseguita anche in caso di annullo scontrino se \u00e8 stato introdotto del denaro. </p>"},{"location":"old-docs/plugin-fast4cash.html#importante","title":"IMPORTANTE","text":"<p>In caso di errore del device, che non viene risolto dall'operatore, al termine della procedura F4C, Posware ricever\u00e0 l'errore e non accetter\u00e0 il pagamento.  In presenza di doppio monitor, \u00e8 anche possibile annullare il pagamento senza attendere l'operazione del driver F4C, premendo il pulsante <code>Annulla operazione</code>. </p> <p>Una volta annullata l'operazione, Posware ignorer\u00e0 qualsiasi dato proveniente da F4C. Prima di procedere, \u00e8 di estrema importanza assicurarsi che il cliente sia stato rimborsato dell'eventuale versato nel device.</p>"},{"location":"old-docs/plugin-fast4cash.html#troubleshooting-per-i-tecnici","title":"Troubleshooting per i tecnici","text":""},{"location":"old-docs/plugin-fast4cash.html#file-log","title":"File log","text":"<p>La seguente tabella riepiloga come le informazioni di logging vengono tracciate all'interno dei file di log disponibili. Per abilitare il log dedicato, vedere il paragrafo <code>Configurazione</code></p> Operazione Livello minimo di Logging File log Inizializzazione <code>Info</code> Log principale di posware Connessione <code>Trace</code> Entrambi Errori di connessione <code>Error</code> Entrambi Pagamento e conferma incasso <code>Trace</code> Log principale di posware Errori di annullo, errori gravi <code>Error</code> Log principale di posware Traccia di annullo operazione dell'operatore <code>Trace</code> Log principale di posware Errori di tempo di attesa esaurito (timeout) <code>Trace</code> Log principale di posware Messaggi ingresso ed uscita da F4C <code>Info</code> Log dedicato plug-in F4C Info messaggi gestiti in ingresso ed uscita da F4C <code>Info</code> Log dedicato plug-in F4C <p>La regola generale \u00e8: le info necessarie ad un troubleshooting rapido sono inserite anche nel log principale, quelle di comunicazione dettagliata verso F4C sono inserite nel log dedicato.</p> <p>I nomi di default dei log sono:</p> File log Nome di default Percorso Info Log principale di posware <code>posware-log_${shortdate}.log</code> Cartella principale di Posware <code>${shortdate}</code> = Data del log in formato AAAA-MM-DD . Esempio: <code>posware-log_2021-05-19.log</code> Log dedicato plug-in F4C <code>f4cMessagelog_${shortdate}.log</code> Cartella principale di Posware <code>${shortdate}</code> = Data del log in formato AAAA-MM-DD . Esempio: <code>f4cMessagelog_2021-05-19.log</code>"},{"location":"old-docs/plugin-fast4cash.html#faq","title":"F.A.Q","text":""},{"location":"old-docs/plugin-fast4cash.html#il-device-si-e-bloccato-e-non-riesco-a-recuperarlo-a-causa-di-un-guasto-come-ritorno-a-posware","title":"Il device si \u00e8 bloccato e non riesco a recuperarlo a causa di un guasto. Come ritorno a Posware?","text":"<p>In caso di errore non recuperabile, Posware ritorner\u00e0 automaticamente alla transazione dopo il tempo specificato nell'impostazione <code>overallPaymentProcessTimeoutInMinutes</code>. Se presente un doppio monitor, \u00e8 inoltre possibile tornare immediatamente premendo il tasto <code>Annulla operazione</code>: Posware interromper\u00e0 l'ascolto dei messaggi da parte di F4C e torner\u00e0 immediatamente alla transazione. In questo ultimo caso, qualunque operazione fatta sul device (incasso/resto) viene ignorata.</p>"},{"location":"old-docs/plugin-fast4cash.html#mentre-attendevo-un-pagamento-posware-ha-annullato-loperazione-ignorando-lincasso-del-device","title":"Mentre attendevo un pagamento, Posware ha annullato l'operazione ignorando l'incasso del device","text":"<p>Posware ha un meccanismo intrinseco di sicurezza da eventuali blocchi del driver F4C.  Se il tempo di attesa, in minuti, settato  nella impostazione <code>overallPaymentProcessTimeoutInMinutes</code> viene superato, Posware considera il pagamento come annullato e ritorna alla transazione.  Eventuali rimborsi di denaro versato nel device dovranno essere effettuati manualmente (attraverso il management o fisicamente). Qualora un pagamento durasse molto tempo, a causa di errori del device da correggere o altro, alzare il valore di questa variabile.</p>"},{"location":"old-docs/plugin-fast4cash.html#quando-richiedo-un-pagamento-al-device-posware-restituisce-un-errore","title":"Quando richiedo un pagamento al device, Posware restituisce un errore","text":"<p>In caso di device occupato o driver non pronto (per errore software o hardware del device), Posware restituisce l'errore riportato da F4C all'operatore. Per entrare nel merito dell'errore da parte di F4C, contattare IT-Avantec</p>"},{"location":"old-docs/plugin-fast4cash.html#sono-presenti-squadrature-tra-lincassato-del-device-ed-il-log-di-posware","title":"Sono presenti squadrature tra l'incassato del device ed il log di Posware","text":"<p>Verificare se nei log sono presenti Annulli manuali da parte dell'operatore che interrompono bruscamente l'operazione.  Nel log principale di Posware sono riportate le seguenti diciture:</p> <ul> <li>Sempre riportata:<ul> <li><code>Annullo operazione pagamento F4C richiesto manualmente dall'operatore.</code></li> </ul> </li> <li>Riportata se l'annullo \u00e8 avvenuto:<ul> <li><code>Pagamento annullato, restituire il denaro gi\u00e0 incassato</code></li> </ul> </li> <li>Riportata se l'annullo \u00e8 stato bloccato:<ul> <li><code>Annullo operazione del pagamento F4C da parte dell'operatore non abilitato.</code></li> </ul> </li> </ul> <p>E' possibile impedire gli Annulli manuali sia agendo sulle autorizzazioni del pulsante (chiave operatore) che tramite l'impostazione del plug-in <code>enableUserAbort</code>. Consultare la tabella delle impostazioni di questo documento.</p>"},{"location":"old-docs/plugin-fast4cash.html#cosa-si-intende-per-annullo-manuale","title":"Cosa si intende per Annullo manuale?","text":"<p>Si intende la pressione del tasto <code>Annulla operazione</code> mentre \u00e8 in corso la transazione F4C. In presenza di doppio monitor \u00e8 possibile usare la GUI di Posware e premere il tasto.</p>"},{"location":"old-docs/plugin-giftcard-epayeuronet.html","title":"Plug-In Gift Card EPay-Euronet","text":""},{"location":"old-docs/plugin-giftcard-epayeuronet.html#manuale-di-attivazione-ed-utilizzo","title":"Manuale di attivazione ed utilizzo","text":"<p>La procedura descrive come attivare la redenzione delle gift card, gestite tramite il servizio EPay di Euronet, ed i passi operativi per la redenzione da parte dell'utente finale  A far data del 02-04-2020, \u00e8 supportata in via del tutto preliminare, la redenzione online delle Gift Card con successivo pagamento manuale della transazione.</p>"},{"location":"old-docs/plugin-giftcard-epayeuronet.html#versioni-software-di-riferimento","title":"Versioni software di riferimento","text":"<ul> <li>Posware 4.0.0.154 o superiore</li> </ul>"},{"location":"old-docs/plugin-giftcard-epayeuronet.html#installazione-ed-attivazione","title":"Installazione ed attivazione","text":""},{"location":"old-docs/plugin-giftcard-epayeuronet.html#posware","title":"Posware","text":"<p>La versione minima di posware richiesta \u00e8 la v. 4.0.0.154</p>"},{"location":"old-docs/plugin-giftcard-epayeuronet.html#sistema-operativo","title":"Sistema operativo","text":"<p>Windows, tutte le versioni supportate.  Per i sistemi operativi basati su kernel XP v5.1 (WXP Embedded, WES09 e POSReady 2009) \u00e8 necessario installare l'aggiornamento <code>KB4467770</code> per il supporto TLS 1.2. Windows 7 e successivi non hanno bisogno dell'aggiornamento.</p>"},{"location":"old-docs/plugin-giftcard-epayeuronet.html#parametri-necessari","title":"Parametri necessari","text":"<p>Per poter utilizzare la funzione di redention delle Gift, i seguenti parametri andranno compilati nella tabella <code>tabparametriextra</code>:</p> Modulo Parametro Valore Environment <code>EPPLIB</code> <code>EPAYGIFTUSER</code> <code>username</code> fornito da Epay/cliente <code>production</code> <code>EPPLIB</code> <code>EPAYGIFTPASSWORD</code> <code>password</code> fornita da Epay/cliente <code>production</code> <code>EPPLIB</code> <code>EPAYGIFTTERMINALID</code> <code>Terminal Id</code> fornito da Epay/cliente <code>production</code> <code>EPPLIB</code> <code>EPAYGIFTSERVERADDRESS</code> https://precision.epayworldwide.com/gxml oppure https://backup.precision.epayworldwide.com/gxml <code>production</code>"},{"location":"old-docs/plugin-giftcard-epayeuronet.html#operazioni-per-lattivazione","title":"Operazioni per l'attivazione","text":""},{"location":"old-docs/plugin-giftcard-epayeuronet.html#collegamento-alla-rete","title":"Collegamento alla rete","text":"<p>E' necessario il collegamento del POS ad internet.  Se il POS non \u00e8 direttamente connesso, le chiamate necessarie possono essere indirizzate ad un gateway, tramite reverse proxy.  Il server di barriera o un computer della stessa LAN del pos che accede ad internet, pu\u00f2 essere utilizzato.</p> <p>Per effettuare su windows, tramite netsh, queste configurazioni, usare il comando:</p> <p>Il comando deve essere eseguito sul server, non sui POS</p> <p><code>netsh interface portproxy add v4tov4 listenport=</code><code>$porta</code><code>listenaddress=0.0.0.0 connectport=443 connectaddress=precision.epayworldwide.com</code></p> <p>Al posto della variabile $porta \u00e8 necessario specificare la porta che verr\u00e0 utilizza per la comunicazione dalla cassa. Questa porta dovr\u00e0 essere poi riportata nel parametro <code>EPAYGIFTSERVERADDRESS</code>. Esempio:</p> <p>Se a <code>listenport</code> viene passato 5744 , ed il server in <code>EPAYGIFTSERVERADDRESS</code> \u00e8 https://precision.epayworldwide.com/gxml , il parametro <code>EPAYGIFTSERVERADDRESS</code> dovr\u00e0 diventare https://precision.epayworldwide.com:5744/gxml</p> <p>Disattivare il firewall o aggiungere una eccezione sulla porta scelta e verificare la corretta comunicazione dalla cassa tramite una connessione telnet, nmap, Test-NetConnection di PowerShell o qualunque tool simile.</p>"},{"location":"old-docs/plugin-giftcard-epayeuronet.html#creazione-del-pulsante-in-posware","title":"Creazione del pulsante in Posware","text":"<p>Creare un nuovo pulsante o associare ad uno esistente l'operazione <code>GIFTCOVID19</code> assegnandovi come descrizione <code>GIFT EPAY</code> (o la descrizione desiderata.) </p> <p>In questa guida si far\u00e0 riferimento alla descrizione <code>GIFT EPAY</code> per la spiegazione all'utente finale.</p> <p>Una volta assegnata l'operazione al tasto, la funzione, in fase di pagamento (a seguito di <code>SUBTOTALE</code>), \u00e8 immediatamente utilizzabile.  Vedi la procedura di utilizzo per l'operativit\u00e0 della cassiera.</p>"},{"location":"old-docs/plugin-giftcard-epayeuronet.html#note-per-il-tecnico","title":"Note per il tecnico","text":"<p>All'interno del file predefinito di log di posware formato *.log  (es.: <code>posware-log_2020-04-02.6.log</code>)  \u00e8 possibile trovare  tutte le operazioni di Check Status e Redeem del servizio, con il dettaglio raw delle chiamate e le risposte da parte del server.  Queste informazioni sono disponibili solo nel nuovo formato .log. Nel vecchio formato xml non sono disponibili.  I record sono registrati come livello log <code>INFO</code>.</p>"},{"location":"old-docs/plugin-giftcard-epayeuronet.html#utilizzo-da-parte-dellutente-finale","title":"Utilizzo da parte dell'utente finale","text":""},{"location":"old-docs/plugin-giftcard-epayeuronet.html#cenni-preliminari-requisiti","title":"Cenni preliminari / requisiti","text":"<p>Prima di poter redimere il buono / gift card, \u00e8 necessario entrare in fase di pagamento premendo il tasto <code>SUBTOTALE</code>.</p>"},{"location":"old-docs/plugin-giftcard-epayeuronet.html#procedura-di-utilizzo","title":"Procedura di utilizzo","text":"<ol> <li>Entrare in fase di pagamento premendo il tasto <code>SUBTOTALE</code></li> <li>Premere il tasto <code>GIFT EPAY</code></li> <li>Digitare il numero della Gift Card o passare a scanner il suo barcode</li> <li>Attendere qualche secondo</li> <li> <p>Se l'operazione \u00e8 andata a buon fine, verr\u00e0 mostrata una finestra popup con la dicitura contenente l'ammontare redento dalla Gift:</p> <p>Incasso gift online avvenuto. Effettuare un pagamento manuale di \u20ac 2,5</p> <ul> <li> <p>In caso di POS sprovvisto di Touch Screen, verr\u00e0 mostrata sul display operatore la dicitura</p> <p>Incasso avvenuto. Pagare \u20ac 2,5</p> </li> </ul> </li> <li> <p>Effettuare manualmente un pagamento pari alla somma redenta per chiudere l'operazione (nell'esempio cui sopra, \u20ac 2,5 ).</p> </li> <li>Assicurarsi di aver effettuato il pagamento manuale.</li> </ol>"},{"location":"old-docs/plugin-giftcard-epayeuronet.html#qualora-loperazione-non-dovesse-andare-a-buon-fine-riprovare-la-procedura-partendo-dal-punto-1","title":"Qualora l'operazione non dovesse andare a buon fine, riprovare la procedura partendo dal punto 1)","text":""},{"location":"old-docs/plugin-giftcard-epayeuronet.html#faq","title":"F.A.Q.","text":""},{"location":"old-docs/plugin-giftcard-epayeuronet.html#come-faccio-a-verificare-il-credito-residuo-di-una-gift","title":"Come faccio a verificare il credito residuo di una gift?","text":"<p>Se il POS \u00e8 dotato di touch screen, basta eseguire l'operazione prima di entrare in fase di pagamento. Al di fuori del subtotale, verr\u00e0 mostrata una popup con il credito residuo e quello utilizzabile per la spesa. Se non sono stati battuti prodotti sar\u00e0 mostrato solo il credito residuo.  Se il POS \u00e8 dotato di tastiera fisica o tastiera e monitor non touch, la funzione non \u00e8 supportata.</p>"},{"location":"old-docs/plugin-giftcard-epayeuronet.html#posso-effettuare-pagamenti-parziali-con-la-gift","title":"Posso effettuare pagamenti parziali con la gift?","text":"<p>Sono supportati crediti residui per le gift ma non incassi parziali. In altre parole non \u00e8 possibile scegliere quanto pagare con la gift.Verr\u00e0 sempre detratto il valore massimo disponibile sulla gift card oppure, se il totale della spesa \u00e8 minore, il valore totale della spesa.  Esempi:  Con una gift da 25\u20ac ed una spesa da 15\u20ac, verranno incassati solo 15\u20ac e gli altri 10\u20ac rimanenti saranno utilizzabili in spese future.  Con una gift da 25\u20ac ed una spesa da 35\u20ac, verr\u00e0 incassato tutto il credito della gift (che non sar\u00e0 quindi pi\u00f9 utilizzabile), ed i rimanenti 10\u20ac dovranno essere pagati con un'altro metodo di pagamento. </p>"},{"location":"old-docs/plugin-giftcard-epayeuronet.html#e-possibile-pagare-con-piu-gift-lo-stesso-scontrino","title":"E' possibile pagare con pi\u00f9 gift lo stesso scontrino?","text":"<p>Si, basta ripetere l'operazione ricordandosi prima di effettuare il pagamento manuale.  Senza il pagamento manuale, il totale a pagare non andrebbe a scalare e verrebbe richiesto di nuovo l'incasso dell'intero importo della spesa a danno del consumatore.</p>"},{"location":"old-docs/posware-gestione-prodotto-check-out.html","title":"Posware - Gestione prodotto check-out","text":""},{"location":"old-docs/posware-gestione-prodotto-check-out.html#programmazione-prodotti-per-check-out","title":"Programmazione prodotti per check-out","text":""},{"location":"old-docs/posware-gestione-prodotto-check-out.html#versioni-software-di-riferimento","title":"Versioni software di riferimento","text":"<ul> <li>Posware 4.x o superiore</li> <li>Posware per Windows XP 4.1.x/4.2.x o superiore </li> </ul>"},{"location":"old-docs/posware-gestione-prodotto-check-out.html#last-update-date","title":"Last Update Date","text":"<p>Data ultimo aggiornamento 05/01/2021</p>"},{"location":"old-docs/posware-gestione-prodotto-check-out.html#configurazione","title":"Configurazione","text":"<p>La procedura di attivazione del controllo di pesatura con bilancia check-out si effettua configurando il front-end nelle seguenti tabelle</p>"},{"location":"old-docs/posware-gestione-prodotto-check-out.html#config_cassa","title":"Config_Cassa","text":"Campo Valore bilancia Nome opos ForzaPesoCheckout 0/1 PercTolleranzaCheck Percentuale di scostamento dal rilevato sul peso ValTolleranzaCheck Valore max scostamento sul valore calcolato StampaRigaPeso 0/1 (Attiva / Disattiva) StatoInizBilancia 0/1 (Disattiva / Attiva) MaxCapBilancia Massimo peso per controllo (espresso in Kg) CompEtichPesoSupBil 0/1/2 <p>ForzaPesoCheckout</p> <ul> <li>0 = Il prodotto sar\u00e0 sempre pesato per controllo</li> <li>1 = Se viene imposto una quantit\u00e0 manuale, questa ha priorit\u00e0 sul controllo che sar\u00e0 bypassato</li> </ul> <p>CompEtichPesoSupBil </p> <ul> <li>0 = Considera il valore dell'etichetta </li> <li>1 = Considera il valore pesato dalla bilancia </li> <li>2 = Fai scegliere all'operatore</li> </ul> <p>MaxCapBilancia = Serve per impostare qual'\u00e8 la portata massima della bilancia. Se il peso calcolato dall'etichetta risulti superiore alla portata il controllo viene saltato. Se \u00e8 0 il campo non viene considerato. </p>"},{"location":"old-docs/posware-gestione-prodotto-check-out.html#articoli","title":"Articoli","text":"<p>In caso di articolo il cui peso deve essere controllato dal front-end essendo stato pesato su altra bilancia, lo stesso deve essere configurato secondo questo schema</p> Campo Valore CodiceEan 2xxxxxxxyyyyK Um KG bpeso true / peso Prezzo Prezzo al Kg CheckOut 0/1 (Disattivo/Attivo) <p>In caso di articolo deve essere pesato dal front-end lo stesso deve essere configurato secondo questo schema</p> Campo Valore CodiceEan xxxxx Um KG bpeso true / peso Prezzo Prezzo al Kg CheckOut 0/1 (Disattivo/Attivo) <p>Il valore assunto da CodiceEan  (xxxxx) \u00e8 quello del codice PLU da digitare in cassa</p>"},{"location":"old-docs/posware-gestione-prodotto-check-out.html#config_tast","title":"Config_Tast","text":"Funzione Operazione ATTIVA_BIL Attiva il controllo tramite bilancia di checkout DISATTIVA_BIL Disattiva il controllo tramite bilancia di checkout TARA Usata prima dell'articolo da pesare imposta la tara di quest'ultimo leggendo il peso dalla bilancia TARA_MANUALE Usata prima dell'articolo da pesare imposta manualmente la tara di  quest'ultimo. <p>Il valore della tara deve essere espresso in grammi.</p>"},{"location":"old-docs/posware-gestione-prodotto-check-out.html#faq","title":"FAQ","text":"<ul> <li>Il prodotto non viene valorizzato  Verificare il prezzo di vendita che deve essere diverso da zero </li> <li>Posware mostra un messaggio di peso non congruente anche se il peso \u00e8 corretto  Verificare che il campo relativo alla percentuale di tolleranza sia valorizzaato</li> <li>Se imposto il peso a mano ( 0,345 * 1200 ), Posware mi chiede di pesare  Verificare lo stato del campo ForzaPesoCheckout, deve essere a 1</li> </ul>"},{"location":"old-docs/posware-net4.html","title":"Posware 4.1 - .NET 4.x Runtime Notes","text":""},{"location":"old-docs/posware-net4.html#manuale-di-attivazione-ed-utilizzo","title":"Manuale di attivazione ed utilizzo","text":"<p>Il presente documento descrive i nuovi requisiti minimi e le procedure necessarie all'installazione di Posware v4.1 e superiori.</p>"},{"location":"old-docs/posware-net4.html#data-ultimo-aggiornamento-08012021","title":"Data ultimo aggiornamento: 08/01/2021","text":""},{"location":"old-docs/posware-net4.html#versioni-software-di-riferimento","title":"Versioni software di riferimento","text":"<ul> <li>Posware 4.1.0.0 o superiore</li> <li>.NET Framework 4 - Windows XP/Embedded/2009</li> <li>.NET Framework 4.8 - Windows 10/8.1/8/7 </li> </ul>"},{"location":"old-docs/posware-net4.html#cenni-preliminari","title":"Cenni preliminari","text":""},{"location":"old-docs/posware-net4.html#posware","title":"Posware","text":"<p>La versione minima di posware richiesta \u00e8 la v. 4.0.0.150. Se la versione installata \u00e8 minore, per effettuare l'upgrade alla versione 4.1.x \u00e8 necessario prima upgradare al minimo alla versione 4.0.0.150.</p>"},{"location":"old-docs/posware-net4.html#sistema-operativo","title":"Sistema operativo","text":"<p>Sono supportate tutte le versioni di Windows a partire da Windows XP *. Per le ultime feature disponibili e le massime prestazioni possibili, utilizzare Windows 7 o superiore. Windows 10 version 1909 (November 2019 Update) consigliato ove possibile.</p> <p>Con sistemi operativi basati su Windows XP, sono presenti limitazioni nella fruizione di servizi moderni quali WebService e servizi Cloud.  Tutti i servizi che utilizzano il protocollo di sicurezza TLS 1.2 non sono supportati. Inoltre tutte le ottimizzazioni basate sull'accelerazione grafica hardware (GPU) non saranno attive in quanto non supportate. Queste limitazioni sono ereditate dall'obolescenza intrinseca di Windows XP, non pi\u00f9 supportato ed aggiornato da Microsoft. Prendere visione della sezione Breaking Changes contenente le informazioni end-of-support per Posware.</p>"},{"location":"old-docs/posware-net4.html#tabella-di-riferimento-net-framework","title":"Tabella di riferimento .NET Framework","text":"<p>Seguire con scrupolo la tabella di riferimento per installare la corretta versione di .NET framework per ogni sistema operativo.  Si raccomanda di leggere le note allegate.</p> Windows .NET Framework Note Link Windows XP based (Embedded/Embedded 2009) 4.0 Si consiglia di installare anche gli aggiornamenti da Windows Update. In particolare l'update 4.0.3 -  * Alcune limitazioni presenti ** Aggiornamento driver <code>PosForNet</code> necessario *** Installazione <code>Client Profile</code> non supportata Offline Installer Windows 7 / Embedded 7 / POSReady 7 4.8 Offline Installer - Web Installer Windows 8 / Embedded 8 Industry / 8.1 / Embedded 8.1 Industry 4.8 Offline Installer - Web Installer Windows 10 4.8 Seguire le indicazioni ufficiali Microsoft per l'installazione, non sempre \u00e8 necessaria. Offline Installer - Web Installer <p>La tabella completa fornita da Microsoft pu\u00f2 essere consultata qui</p>"},{"location":"old-docs/posware-net4.html#aggiornamenti-per-posfornet","title":"Aggiornamenti per PosForNet","text":"<p>Nel caso in cui la stampante collegata utilizzi i driver PosForNet 1.12, si raccomanda di installare gli aggiornamenti come da tabella.</p> Windows Update PosForNet Link Windows XP / Embedded <code>KB980087</code> Offline installer Windows XP PosReady 2009 <code>KB2755802</code> Offline Installer Windows 7 / Embedded 7 / PosReady 7 <code>KB2755802</code> Offline Installer <p>Installare sempre la versione full del .net Framework. Le versioni denominate <code>Client Profile</code> non sono supportate</p>"},{"location":"old-docs/posware-net4.html#note-sul-driver-posfornet-isid-per-diebold-rt-one","title":"Note sul driver PosForNet ISID per Diebold RT-One","text":"<p>Se la stampante collegata \u00e8 la Diebold RT-One ed il driver PosForNet \u00e8 quello prodotto da ISID, \u00e8 necessario impostare nel file <code>Posware.exe.config</code> il flag <code>NetFx40_LegacySecurityPolicy</code> a true.</p> <p><code>&lt;NetFx40_LegacySecurityPolicy enabled=\"true\"/&gt;</code></p> <p>A partire dalla versione 4.1.370, rilasciata con gli adeguamenti alla normativa RT XML7, il driver PosForNet \u00e8 stato sostituito con il driver OPOS ufficiale Diebold. Consultare il documento Adeguamenti RT XML 7 per ulteriori approfondimenti</p>"},{"location":"old-docs/posware-net4.html#adeguamenti-per-crystal-report","title":"Adeguamenti per Crystal Report","text":"<p>Per poter continuare ad utilizzare le stampe generate da Crystal Report, \u00e8 necessario:</p> <ul> <li>Copiare all'interno della cartella di posware il Plug-In Posware.Legacy.CrystalReport.dll . </li> <li>Impostare nel file <code>Posware.exe.config</code> l'attributo <code>useLegacyV2RuntimeActivationPolicy</code> a true. L'attributo fa parte dell'elemento <code>&lt;startup&gt;</code></li> </ul> <p>Il file dll non viene distribuito assieme al setup di Posware in quanto entrato in fase di obsolescenza. Verr\u00e0 sostituito nelle prossime versioni. Al momento viene garantit\u00e0 la retro-compatibilit\u00e0. Il file \u00e8 disponibile su richiesta a chi ne fa uso.</p> <p>IMPORTANTE: Non attivare l'attributo <code>useLegacyV2RuntimeActivationPolicy</code> se non si fa uso di Crystal Report</p>"},{"location":"old-docs/posware-net4.html#breaking-changes","title":"Breaking Changes","text":""},{"location":"old-docs/posware-net4.html#termine-del-supporto-delle-tastiere-fisiche","title":"Termine del supporto delle tastiere fisiche","text":"<p>A partire dalla versione 4.1, non verr\u00e0 pi\u00f9 sviluppata e manutenuta la compatibilit\u00e0 con le tastiere fisiche. I sistemi non ancora dotati di touchscreen, dovranno effettuare l'upgrade per continuare ad utilizzare tutte le ultime funzionalit\u00e0.  Il supporto attuale, ove presente, non verr\u00e0 rimosso. Non verr\u00e0 comunque garantita in futuro, in caso di modifiche/aggiornamenti alle funzionalit\u00e0 esistenti, la compatibilit\u00e0 tastiera fisica.  Le nuove funzionalit\u00e0 relative alla lotteria degli scontrini, saranno compatibili solo con i sistemi touchscreen.</p>"},{"location":"old-docs/posware-net4.html#termine-del-supporto-ai-sistemi-windows-xp-based","title":"Termine del supporto ai sistemi Windows XP based.","text":"<p>A partire dalla versione 4.1, l'installazione su sistema operativo Windows XP \u00e8 deprecata ed entra in fase maintenance: saranno forniti solo bugfix ed aggiornamenti di legge fino al 31/12/2021. I nuovi sviluppi coinvolgeranno gli o.s. da Windows 10 a Windows 7 ed il runtime di riferimento sar\u00e0 il .net Framework 4.8/Core 3.x/5.x.  Sono coinvolti tutti i sistemi operativi basati su Windows XP - major version 5  (XP/Embedded/Foundation/PosReady 2009).</p>"},{"location":"old-docs/posware-net4.html#posupdate-per-os-windows-xp-based","title":"PosUpdate per o.s. Windows XP based","text":"<p>A partire dalla versione 4.1, il file di aggiornamento di versione per Windows XP \u00e8 ora nominato PosUpdateNET40_4.1.x.x  Per tutti gli altri sistemi operativi con runtime .net Framework 4.8, il nome del file rimane invariato all'attuale PosUpdate_4.1.x.x</p>"},{"location":"old-docs/posware-net4.html#procedura-di-installazione","title":"Procedura di installazione","text":"<p>Prima di procedere all'aggiornamento di versione, fare un backup integrale della cartella <code>C:\\Programmi\\Posware</code> ( <code>C:\\Program Files\\Posware</code> ) e del database <code>cassa</code>. Tenere da parte questi dati in caso di eventuale rollback. Vedi sezione Rollback.</p> <ol> <li>Installare la versione di .Net Framework ed i suoi aggiornamenti come da tabella di riferimento.</li> <li>In caso di utilizzo dei driver PosForNet, installare gli aggiornamenti come da tabella di riferimento.</li> <li>Aggiornare Posware tramite la comune procedura di <code>PosUpdate</code>.</li> </ol>"},{"location":"old-docs/posware-net4.html#considerazioni-sullhardware","title":"Considerazioni  sull'hardware","text":"<p>Se l'hardware del POS \u00e8 recente, ma \u00e8 stata applicata una immagine di sistema operativo obsoleta, valutare la migrazione ad un sistema operativo pi\u00f9 recente, al minimo Windows 7.  In ottica futura non si incorrer\u00e0 in altri interventi qualora il Pos dovr\u00e0 utilizzare servizi web moderni.  Applicare una immagine gi\u00e0 pronta basata su Windows 7 / 8 / 10, a volte pu\u00f2 richiedere meno tempo che installare ed aggiornare un sistema esistente.  Si consiglia di effettuare tali valutazioni.</p>"},{"location":"old-docs/posware-net4.html#installazione-del-net-framework-4x","title":"Installazione del .NET Framework 4.x","text":"<p>Installare sempre l'ultima versione disponibile del .NET Framework.  Come da tabella di riferimento, per gli S.O. Windows XP Based utilizzare la <code>v4.0</code>.  Per tutti gli altri Windows pi\u00f9 recenti, installare la <code>v4.8</code>.</p> <p>In caso di nuova installazione in laboratorio, \u00e8 possibile utilizzare l'installer Web del .net Framework 4.8 con la cassa collegata direttamente ad Internet. L'installer Web scaricher\u00e0 ed installer\u00e0 i soli componenti necessari aggiornati per il sistema operativo in uso permettendo di risparmiare tempo. </p> <p>Qualora l'installazione venga fatta in loco / in serie sulle postazioni di produzione, utilizzare gli installer Offline.</p> <p>Per Windows XP e .NET Framework 4, \u00e8 possibile utilizzare solo gli installer Offline. </p>"},{"location":"old-docs/posware-net4.html#rollback","title":"Rollback","text":"<p>Per effettuare il Rollback alla versione basata su .NET 3.5, seguire i seguenti passaggi:</p> <ol> <li>Disinstallare l'aggiornamento da pannello di controllo</li> <li>Eliminare la cartella C:\\Programmi\\Posware ( C:\\Program Files\\Posware )</li> <li>Ripristinare la cartella dalla copia di backup precedentemente salvata </li> <li>Ripristinare il database dalla copia di backup precedentemente salvata </li> </ol> <p>Non \u00e8 necessario disinstallare alcun aggiornamento eseguito per il .NET Framework o PosForNet al fine di tornare alla versione 4.0.x basata su .NET 3.5.  Ripristinare solo Posware.</p>"},{"location":"old-docs/posware-net4.html#known-issues","title":"Known issues","text":""},{"location":"old-docs/posware-net4.html#posware-termina-in-modo-inaspettato-dopo-aver-effettuato-la-chiusura-fiscale","title":"Posware termina in modo inaspettato dopo aver effettuato la chiusura fiscale","text":"<p>Se dopo aver lanciato la chiusura fiscale il programma termina inaspettatamente, verificare che il parametro <code>PROTOCOLLOBPE</code> del modulo <code>EPPLIB</code> in <code>tabparametriextra</code> non sia impostato erroneamente ad <code>AR</code>. Questa impostazione \u00e8 valida unicamente se sono presenti i buoni pasto elettronici tramite Argentea, in tutti gli altri casi va impostata a stringa vuota. Effettuare la stessa verifica per il parametro <code>PROTOCOLLOBP</code>. Dopo aver impostato a blank questi parametri la chiusura verr\u00e0 effettuata correttamente senza causare l'uscita del programma.</p>"},{"location":"old-docs/posware-net4.html#posware-restituisce-un-errore-di-tipo-systemaccessviolationexception","title":"Posware restituisce un errore di tipo System.AccessViolationException","text":"<p>Qualora si utilizzino stampanti o moduli esterni con librerie non native .NET, il nuovo runtime 4.8 pu\u00f2 mostrare questo errore. Per risolvere il problema \u00e8 necessario modificare nel file Posware.exe.config, da false a true, la stringa:</p> <p>Prima:  <code>&lt;NetFx40_LegacySecurityPolicy enabled=\"false\"/&gt;</code>  Dopo:  <code>&lt;NetFx40_LegacySecurityPolicy enabled=\"true\"/&gt;</code></p> <p>Si tratta delle stessa impostazione necessaria per rendere compatibili le stampanti che usano il driver PosForNet (vedi sezione Note sul driver PosForNet ISID per Diebold RT-One).</p>"},{"location":"old-docs/posware41/posware41-adapter-self-checkout-diebold.html","title":"Posware 4.1 - Adapter Self-CheckOut Diebold","text":""},{"location":"old-docs/posware41/posware41-adapter-self-checkout-diebold.html#note-di-attivazione-ed-utilizzo","title":"Note di attivazione ed utilizzo","text":"<p>Data aggiornamento documento: 31/05/2021  Ultima versione rilasciata: <code>2.0.0.17</code></p>"},{"location":"old-docs/posware41/posware41-adapter-self-checkout-diebold.html#versioni-software-di-riferimento","title":"Versioni software di riferimento","text":"<ul> <li>Posware 4.1.404.0 con Adapter Diebold SCO 2.0.0.15</li> <li>Posware 4.1.432.0 con Adapter Diebold SCO 2.0.0.16</li> <li>Posware 4.1.516.0 con Adapter Diebold SCO 2.0.0.17 o superiore </li> </ul>"},{"location":"old-docs/posware41/posware41-adapter-self-checkout-diebold.html#cenni-preliminari","title":"Cenni preliminari","text":""},{"location":"old-docs/posware41/posware41-adapter-self-checkout-diebold.html#posware","title":"Posware","text":"<p>La versione minima di posware richiesta \u00e8 la 4.1.404.0. E' richiesta l'installazione del .net Framework 4.8  Consultare le note di installazione della versione 4.1.x per info approfondite.</p>"},{"location":"old-docs/posware41/posware41-adapter-self-checkout-diebold.html#stampanti","title":"Stampanti","text":"<p>A far data 05/01/2021 le stampanti RT certificate con la SCO Diebold sono:</p> <ul> <li>Epson - tutti i modelli</li> </ul>"},{"location":"old-docs/posware41/posware41-adapter-self-checkout-diebold.html#breaking-changes","title":"Breaking Changes","text":"<p>A partire dalla release 2.0.0.15 con Posware 4.1, le connection string di Posware vengono elaborate solo dal file <code>Posware.exe.config</code> e non pi\u00f9 dal file config dell'adattatore <code>Posware_Sco.exe.config</code> .  Per evitare errori di invio dei dati al server centrale, verificare l'allineamento dei parametri <code>ConnessioneServer</code> e <code>Connessione</code> del file <code>Posware_Sco.exe.config</code> e riportarli eventualmente nel file <code>Posware.exe.config</code></p>"},{"location":"old-docs/posware41/posware41-adapter-self-checkout-diebold.html#nuove-funzionalita","title":"Nuove funzionalit\u00e0","text":""},{"location":"old-docs/posware41/posware41-adapter-self-checkout-diebold.html#lotteria-degli-scontrini","title":"Lotteria degli scontrini","text":"<p>Dalla versione 2.0.0.15 \u00e8 possibile inserire il codice lotteria tramite SCO. E' abilitato l'inserimento sia manuale che tramite scanner.  Il pulsante <code>Codice Lotteria</code> appare nella schermata principale (in base alla configurazione del cliente potrebbe essere altrove).</p> <ul> <li>Una volta accettato il codice lotteria, viene confermata l'operazione tramite messaggio.</li> <li>E' possibile sovrascrivere il codice lotteria con un'altro ripetendo l'operazione. L'ultimo codice inserito sar\u00e0 quello inviato all'Ade.</li> <li>Una volta inserito il codice lotteria non \u00e8 previsto poterlo rimuovere</li> <li>Se il cliente digita un codice lotteria vuoto, viene rifiutato e segnalato con un messaggio</li> <li>Se il cliente digita un codice lotteria inesistente, viene comunque accettato e seguir\u00e0 le regole previste dall'AdE (non parteciper\u00e0 alla lotteria)</li> </ul> <p>E' necessario un adeguamento dei workflow della SCO per poter utilizzare la feature. Contattare Diebold per gli adeguamenti necessari.</p>"},{"location":"old-docs/posware41/posware41-adapter-self-checkout-diebold.html#gestione-del-periodo-di-inattivita-rt-auto-end-of-day","title":"Gestione del periodo di inattivit\u00e0 RT - Auto end of day","text":"<p>Dalla versione 2.0.0.15 \u00e8 possibile abilitare l'end of day (fine giornata) automatico di posware. Per farlo abilitare i seguenti parametri nella tabella <code>tabparametriextra</code>:</p> Modulo Parametro Valore Environment <code>posware.posdevice</code> <code>isSelfCheckOutEnvironment</code> <code>true</code> <code>production</code> <code>posware.fiscalprinter</code> <code>enableRTEODAfterInactivePeriod</code> <code>true</code> <code>production</code> <p>Posware effettuer\u00e0 o meno l'end of day previsto da normativa RT se superato il tempo massimo consentito.</p> <p>Per poter effettuare con successo l'operazione, all'avvio dell'adattatore la stampante deve essere rilevata ed inizializzata con successo. Qualora in fase di avvio l'inizializzazione delle perifiche dovesse presentare errori, lo stato di \"end of day richiesto\" non potr\u00e0 essere rilevato. Di conseguenza non la chiusura automatica non verr\u00e0 lanciata.</p>"},{"location":"old-docs/posware41/posware41-adapter-self-checkout-diebold.html#procedura-di-installazione","title":"Procedura di installazione","text":"<p>Prima di procedere con l'installazione, \u00e8 necessario allineare il file di configurazione dell'adattatore <code>Posware_Sco.exe.config</code> con il contenuto del file di riferimento <code>Posware_Sco.exe.config.reference</code>.  E' necessario effettuare questa operazione solo la prima volta che si aggiorna dalla versione 1.x.x.x dell'adattatore.</p> <ol> <li>Aggiornare Posware all'ultima versione tramite il setup <code>PosUpdate</code> (Runtime .net 4.8).</li> <li>Sovrascrivere l'eseguibile dell'adattatore <code>Posware_Sco.exe</code> con la versione aggiornata fornita.</li> <li>Sovrascrivere il file di configurazione <code>Posware_Sco.exe.config</code> con l'ultimo aggiornato se la versione precedentemente installata era inferiore alla 2.0.0.0 (Posware 4.0). </li> </ol> <p>Per il supporto alla lotteria degli scontrini, \u00e8 necessario aggiornare i workflow della SCO. Contattare Diebold per le istruzioni sull'adeguamento. </p> <p>Senza adeguare il software sar\u00e0 comunque possibile utilizzare la versione 2.0.0.0. Saranno disponibili tutte le funzionalit\u00e0 al netto della lotteria degli scontrini.</p>"},{"location":"old-docs/posware41/posware41-adapter-self-checkout-ncr.html","title":"Posware 4.1 - Adapter Self-CheckOut NCR","text":""},{"location":"old-docs/posware41/posware41-adapter-self-checkout-ncr.html#note-di-attivazione-ed-utilizzo","title":"Note di attivazione ed utilizzo","text":"<p>Data aggiornamento documento: 31/05/2021  Ultima versione rilasciata: <code>2.0.0.17</code></p>"},{"location":"old-docs/posware41/posware41-adapter-self-checkout-ncr.html#versioni-software-di-riferimento","title":"Versioni software di riferimento","text":"<ul> <li>Posware 4.1.384.0 richiesto dall'adattatore 2.0.0.14</li> <li>Posware 4.1.432.0 richiesto dall'adattatore 2.0.0.16</li> <li>Posware 4.1.516.0 richiesto dall'adattatore 2.0.0.17 o superiore </li> </ul>"},{"location":"old-docs/posware41/posware41-adapter-self-checkout-ncr.html#cenni-preliminari","title":"Cenni preliminari","text":""},{"location":"old-docs/posware41/posware41-adapter-self-checkout-ncr.html#posware","title":"Posware","text":"<p>La versione minima di posware richiesta \u00e8 la 4.1.384.0. E' richiesta l'installazione del .net Framework 4.0  Consultare le note di installazione della versione 4.1.x per info approfondite.</p> <p>A far data 05/01/2021, l'ambiente SCO NCR non \u00e8 compatibile con il .net Framework 4.8. Pertanto sar\u00e0 necessario installare Posware per Windows XP tramite il setup <code>PosUpdateNET40</code>. </p> <p>ATTENZIONE: Non installare il .net Framework 4.8 sull'ambiente SCO NCR, il software SCO smette di funzionare.</p> <p>Il setup permetter\u00e0 l'installazione della versione .net 4.0 rilevando l'ambiente NCR SCO.</p>"},{"location":"old-docs/posware41/posware41-adapter-self-checkout-ncr.html#stampanti","title":"Stampanti","text":"<p>A far data 05/01/2021 le stampanti RT certificate con la SCO NCR sono:</p> <ul> <li>Epson - tutti i modelli</li> <li>Stampante NCR fornita con la SCO</li> </ul>"},{"location":"old-docs/posware41/posware41-adapter-self-checkout-ncr.html#breaking-changes","title":"Breaking Changes","text":"<p>A partire dalla release 2.0.0.12 con Posware 4.1, le connection string di Posware vengono elaborate solo dal file <code>Posware.exe.config</code> e non pi\u00f9 dal file config dell'adattatore <code>Posware_NCRSco.exe.config</code> .  Per evitare errori di invio dei dati al server centrale, verificare l'allineamento dei parametri <code>ConnessioneServer</code> e <code>Connessione</code> del file <code>Posware_NCRSco.exe.config</code> e riportarli eventualmente nel file <code>Posware.exe.config</code></p>"},{"location":"old-docs/posware41/posware41-adapter-self-checkout-ncr.html#nuove-funzionalita","title":"Nuove funzionalit\u00e0","text":""},{"location":"old-docs/posware41/posware41-adapter-self-checkout-ncr.html#lotteria-degli-scontrini","title":"Lotteria degli scontrini","text":"<p>Dalla versione 2.0.0.14 \u00e8 possibile inserire il codice lotteria tramite SCO. E' abilitato l'inserimento sia manuale che tramite scanner.  Il pulsante <code>Codice Lotteria</code> appare nella schermata dei pagamenti (in base alla configurazione del cliente potrebbe essere altrove).</p> <ul> <li>Una volta accettato il codice lotteria, viene confermata l'operazione tramite messaggio popup.</li> <li>E' possibile sovrascrivere il codice lotteria con un'altro ripetendo l'operazione. L'ultimo codice inserito sar\u00e0 quello inviato all'Ade.</li> <li>Una volta inserito il codice lotteria non \u00e8 previsto poterlo rimuovere</li> <li>Se il cliente digita un codice lotteria vuoto, viene rifiutato e segnalato con un messaggio</li> <li>Se il cliente digita un codice lotteria inesistente, viene comunque accettato e seguir\u00e0 le regole previste dall'AdE (non parteciper\u00e0 alla lotteria)</li> </ul> <p>E' necessario un adeguamento del software SCO per poter utilizzare la feature. Contattare NCR per gli adeguamenti necessari.</p>"},{"location":"old-docs/posware41/posware41-adapter-self-checkout-ncr.html#gestione-del-periodo-di-inattivita-rt-auto-end-of-day","title":"Gestione del periodo di inattivit\u00e0 RT - Auto end of day","text":"<p>Dalla versione 2.0.0.12 \u00e8 possibile abilitare l'end of day (fine giornata) automatico di posware. Per farlo abilitare i seguenti parametri nella tabella <code>tabparametriextra</code>:</p> Modulo Parametro Valore Environment <code>posware.posdevice</code> <code>isSelfCheckOutEnvironment</code> <code>true</code> <code>production</code> <code>posware.fiscalprinter</code> <code>enableRTEODAfterInactivePeriod</code> <code>true</code> <code>production</code> <p>Posware effettuer\u00e0 o meno l'end of day previsto da normativa RT se superato il tempo massimo consentito.</p> <p>Per poter effettuare con successo l'operazione, all'avvio dell'adattatore la stampante deve essere rilevata ed inizializzata con successo. Qualora in fase di avvio l'inizializzazione delle perifiche dovesse presentare errori, lo stato di \"end of day richiesto\" non potr\u00e0 essere rilevato. Di conseguenza non la chiusura automatica non verr\u00e0 lanciata.</p>"},{"location":"old-docs/posware41/posware41-adapter-self-checkout-ncr.html#gestione-dei-prodotti-con-restrizioni","title":"Gestione dei prodotti con restrizioni","text":"<p>Se non previsto dal software integrato della SCO, dalla versione 2.0.0.13 \u00e8 possibile indicare nella tabella articoli di posware i flag per la vendita di articoli soggetti a restrizioni.</p> <p>Le due gestioni sono mutuamente esclusive. Se il software SCO gestisce autonomamente la vendita con restrizioni, i flag su posware non vanno impostati.</p> <p>I campi previsti della tabella articoli sono:</p> Field Valore Descrizione Note Sco_Prod_Leggero 0 non attivo / 1 attivo Il prodotto \u00e8 troppo leggero e non deve essere pesato dalla bilancia della SCO Sco_Prod_NonPesare 0 non attivo / 1 attivo Il prodotto non deve essere pesato dalla bilancia della SCO Sco_Prod_Ingombrante 0 non attivo / 1 attivo Il prodotto non deve essere pesato dalla bilancia della SCO e non deve essere rilevato dal contenuto sacchetto Sco_Prod_AltoRischio 0 non attivo / 1 attivo (verifica et\u00e0) Il prodotto per essere venduto richiede una verifica dell'et\u00e0 oppure l'approvazione da parte del personale A partire dalla versione 2.0.0.15 Sco_Prod_AltoRischio 0 non attivo / 2 attivo (approvazione visiva) Il prodotto per essere venduto richiede una verifica visiva ed approvazione da parte del personale"},{"location":"old-docs/posware41/posware41-adapter-self-checkout-ncr.html#a-partire-dalla-versione-20015","title":"A partire dalla versione <code>2.0.0.15</code>","text":"<p>La gestione del prodotto ad alto rischio, quando impostata ad <code>1</code>, supporta la lettura della data di nascita dalla SCO. Se l'utente inserisce la data di nascita durante la richiesta di approvazione, l'adattatore mostra sulla SCO i prodotti che devono essere rimossi dalla spesa per il mancato raggiungimento dell'et\u00e0. La successiva rimozione dovr\u00e0, eventualmente, essere eseguita manualmente dal cliente o dal personale del negozio. Non sono previste forzature in merito nel workflow della SCO.</p>"},{"location":"old-docs/posware41/posware41-adapter-self-checkout-ncr.html#procedura-di-installazione","title":"Procedura di installazione","text":"<p>Prima di procedere con l'installazione, \u00e8 necessario allineare il file di configurazione dell'adattatore <code>Posware_NCRSco.exe.config</code> con il contenuto del file di riferimento <code>Posware_NCRSco.exe.config.reference</code>.  E' necessario effettuare questa operazione solo la prima volta che si aggiorna dalla versione 1.x.x.x oppure 2.0.0.11 dell'adattatore.</p> <ol> <li>Aggiornare Posware in versione .net 4.0 , tramite il setup <code>PosUpdateNET40</code>. Non installare la versione .net 4.8 ne tantomeno il runtime .net 4.8</li> <li>Sovrascrivere l'eseguibile dell'adattatore <code>Posware_NCRSco.exe</code> con la versione aggiornata fornita.</li> <li>Sovrascrivere il file di configurazione <code>Posware_NCRSco.exe.config</code> con l'ultimo aggiornato se la versione precedentemente installato era inferiore alla 2.0.0.12 (Posware 4.0). </li> </ol> <p>Per il supporto alla lotteria degli scontrini, se l'ultimo aggiornamento del software a bordo NCR SCO \u00e8 antecedente al 10/01/2021, sar\u00e0 necessario contattare NCR per le istruzioni sull'adeguamento. </p> <p>Senza adeguare il software sar\u00e0 comunque possibile utilizzare la versione 2.0.0.13. Saranno disponibili tutte le funzionalit\u00e0 tranne che il supporto alla lotteria degli scontrini.</p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-diebold.html","title":"Posware 4.2 - Adapter Self-CheckOut Diebold","text":""},{"location":"old-docs/posware42/posware42-adapter-self-checkout-diebold.html#note-di-attivazione-ed-utilizzo","title":"Note di attivazione ed utilizzo","text":"<p>Data aggiornamento documento: 11/11/2021  Ultima versione rilasciata: <code>4.2.0.0</code></p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-diebold.html#versioni-software-di-riferimento","title":"Versioni software di riferimento","text":"<ul> <li>Posware 4.2.0.x con Adapter Diebold SCO 4.2.0.0</li> </ul>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-diebold.html#cenni-preliminari","title":"Cenni preliminari","text":""},{"location":"old-docs/posware42/posware42-adapter-self-checkout-diebold.html#posware","title":"Posware","text":"<p>La versione minima di posware richiesta \u00e8 la 4.2. E' richiesta l'installazione del .net Framework 4.8</p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-diebold.html#registratori-telematici","title":"Registratori telematici","text":"<p>A far data 05/01/2021 le stampanti RT certificate con la SCO Diebold sono:</p> <ul> <li>Epson - tutti i modelli</li> </ul>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-diebold.html#scenari-di-upgrade-supportati","title":"Scenari di upgrade supportati","text":"<p>\u00c8 possibile aggiornare alla versione <code>4.2.x</code> dell'adattatore a partire dalla versione <code>2.0.0.14</code>.  Qualora l'adattatore non fosse gi\u00e0 aggiornato almeno alla versione <code>2.0.0.14</code>, fare riferimento al documento <code>Posware 4.1 - Adapter Self-CheckOut Diebold</code> per dettagli su come aggiornare.</p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-diebold.html#breaking-changes","title":"Breaking Changes","text":"<p>Non sono presenti breaking changes.</p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-diebold.html#nuove-funzionalita","title":"Nuove funzionalit\u00e0","text":""},{"location":"old-docs/posware42/posware42-adapter-self-checkout-diebold.html#compatibilita-con-la-versione-42x-di-posware","title":"Compatibilit\u00e0 con la versione 4.2.x di Posware","text":"<p>L'adattatore \u00e8 compatibile con la versione <code>4.2.x</code> di Posware</p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-diebold.html#arrotondamento-dei-pagamenti-contanti-dal-registratore-telematico","title":"Arrotondamento dei pagamenti contanti dal registratore telematico","text":"<p>L'adattatore supporta la feature di arrotondamento contanti da parte del registratore telematico.  Fare riferimento al documento <code>Posware 4.2 - Funzionalit\u00e0 RT 2.0</code> per la configurazione della feature.</p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-diebold.html#vendita-prodotti-come-servizi-e-gestione-multi-ateco","title":"Vendita prodotti come servizi e gestione multi-ateco","text":"<p>L'adattatore supporta le feature di vendita prodotti come servizi e la gestione multi-ateco.  Fare riferimento al documento <code>Posware 4.2 - Funzionalit\u00e0 RT 2.0</code> per la configurazione della feature.</p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-diebold.html#funzionalita-riportate-dalla-versione-2x","title":"Funzionalit\u00e0 riportate dalla versione <code>2.x</code>","text":""},{"location":"old-docs/posware42/posware42-adapter-self-checkout-diebold.html#lotteria-degli-scontrini","title":"Lotteria degli scontrini","text":"<p>Dalla versione 2.0.0.15 \u00e8 possibile inserire il codice lotteria tramite SCO. E' abilitato l'inserimento sia manuale che tramite scanner.  Il pulsante <code>Codice Lotteria</code> appare nella schermata principale (in base alla configurazione del cliente potrebbe essere altrove).</p> <ul> <li>Una volta accettato il codice lotteria, viene confermata l'operazione tramite messaggio.</li> <li>E' possibile sovrascrivere il codice lotteria con un'altro ripetendo l'operazione. L'ultimo codice inserito sar\u00e0 quello inviato all'Ade.</li> <li>Una volta inserito il codice lotteria non \u00e8 previsto poterlo rimuovere</li> <li>Se il cliente digita un codice lotteria vuoto, viene rifiutato e segnalato con un messaggio</li> <li>Se il cliente digita un codice lotteria inesistente, viene comunque accettato e seguir\u00e0 le regole previste dall'AdE (non parteciper\u00e0 alla lotteria)</li> </ul> <p>E' necessario un adeguamento dei workflow della SCO per poter utilizzare la feature. Contattare Diebold per gli adeguamenti necessari.</p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-diebold.html#gestione-del-periodo-di-inattivita-rt-auto-end-of-day","title":"Gestione del periodo di inattivit\u00e0 RT - Auto end of day","text":"<p>Dalla versione 2.0.0.15 \u00e8 possibile abilitare l'end of day (fine giornata) automatico di posware. Per farlo abilitare i seguenti parametri nella tabella <code>tabparametriextra</code>:</p> Modulo Parametro Valore Environment <code>posware.posdevice</code> <code>isSelfCheckOutEnvironment</code> <code>true</code> <code>production</code> <code>posware.fiscalprinter</code> <code>enableRTEODAfterInactivePeriod</code> <code>true</code> <code>production</code> <p>Posware effettuer\u00e0 o meno l'end of day previsto da normativa RT se superato il tempo massimo consentito.</p> <p>Per poter effettuare con successo l'operazione, all'avvio dell'adattatore la stampante deve essere rilevata ed inizializzata con successo. Qualora in fase di avvio l'inizializzazione delle perifiche dovesse presentare errori, lo stato di \"end of day richiesto\" non potr\u00e0 essere rilevato. Di conseguenza non la chiusura automatica non verr\u00e0 lanciata.</p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-diebold.html#procedura-di-installazione","title":"Procedura di installazione","text":"<p>Prima di procedere con l'upgrade, assicurarsi di avere installata almeno la versione <code>2.0.0.14</code>.</p> <ol> <li>Aggiornare Posware all'ultima versione tramite il setup <code>PosUpdate</code> (Runtime .net 4.8).</li> <li>Sovrascrivere l'eseguibile dell'adattatore <code>Posware_Sco.exe</code> con la versione aggiornata fornita.</li> </ol> <p>Per il supporto alla lotteria degli scontrini, \u00e8 necessario aggiornare i workflow della SCO. Contattare Diebold per le istruzioni sull'adeguamento. </p> <p>Senza adeguare il software sar\u00e0 comunque possibile utilizzare la versione 2.0.0.0. Saranno disponibili tutte le funzionalit\u00e0 al netto della lotteria degli scontrini.</p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-ncr.html","title":"Posware 4.2 - Adapter Self-CheckOut NCR","text":""},{"location":"old-docs/posware42/posware42-adapter-self-checkout-ncr.html#note-di-attivazione-ed-utilizzo","title":"Note di attivazione ed utilizzo","text":"<p>Data aggiornamento documento: 11/11/2021  Ultima versione rilasciata: <code>4.2.0.0</code></p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-ncr.html#versioni-software-di-riferimento","title":"Versioni software di riferimento","text":"<ul> <li>Posware 4.2.0.0 richiesto dall'adattatore 4.2.0.0</li> </ul>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-ncr.html#cenni-preliminari","title":"Cenni preliminari","text":"<p>\u00c8 disponibile l'elenco esaustivo delle funzionalit\u00e0 supportate dall'adattatore. Fare riferimento al documento <code>Posware 4.2 - Funzionalit\u00e0 Adapter NCR SelfServ\u2122 Checkout</code>. </p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-ncr.html#posware","title":"Posware","text":"<p>La versione minima di posware richiesta \u00e8 la 4.2.0.0. E' richiesta l'installazione del .net Framework 4.0</p> <p>A far data 05/01/2021, l'ambiente SCO NCR non \u00e8 compatibile con il .net Framework 4.8. Pertanto sar\u00e0 necessario installare Posware per Windows XP tramite il setup <code>PosUpdateNET40</code>. </p> <p>ATTENZIONE: Non installare il .net Framework 4.8 sull'ambiente SCO NCR, il software SCO smette di funzionare.</p> <p>Il setup permetter\u00e0 l'installazione della versione .net 4.0 rilevando l'ambiente NCR SCO.</p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-ncr.html#registratori-telematici","title":"Registratori telematici","text":"<p>A far data 05/01/2021 i registratori telematici certificati con la SCO NCR sono:</p> <ul> <li>Epson - tutti i modelli</li> </ul> <p>A far data 11/11/2021 i registratori telematici compatibili, ma non certificati / supportati, sono:</p> <ul> <li>NCR modello 130A</li> </ul>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-ncr.html#scenari-di-upgrade-supportati","title":"Scenari di upgrade supportati","text":"<p>\u00c8 possibile aggiornare alla versione <code>4.2.x</code> dell'adattatore a partire dalla versione <code>2.0.0.14</code>.  Qualora l'adattatore non fosse gi\u00e0 aggiornato almeno alla versione <code>2.0.0.14</code>, fare riferimento al documento <code>Posware 4.1 - Adapter Self-CheckOut NCR</code> per dettagli su come aggiornare.</p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-ncr.html#breaking-changes","title":"Breaking Changes","text":"<p>Non sono presenti breaking changes.</p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-ncr.html#nuove-funzionalita","title":"Nuove funzionalit\u00e0","text":""},{"location":"old-docs/posware42/posware42-adapter-self-checkout-ncr.html#compatibilita-con-la-versione-42x-di-posware","title":"Compatibilit\u00e0 con la versione 4.2.x di Posware","text":"<p>L'adattatore \u00e8 compatibile con la versione <code>4.2.x</code> di Posware</p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-ncr.html#arrotondamento-dei-pagamenti-contanti-dal-registratore-telematico","title":"Arrotondamento dei pagamenti contanti dal registratore telematico","text":"<p>L'adattatore supporta la feature di arrotondamento contanti da parte del registratore telematico.  Fare riferimento al documento  <code>Posware 4.2 - Funzionalit\u00e0 RT 2.0</code> per la configurazione della feature.</p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-ncr.html#vendita-prodotti-come-servizi-e-gestione-multi-ateco","title":"Vendita prodotti come servizi e gestione multi-ateco","text":"<p>L'adattatore supporta le feature di vendita prodotti come servizi e la gestione multi-ateco.  Fare riferimento al documento <code>Posware 4.2 - Funzionalit\u00e0 RT 2.0</code> per la configurazione della feature.</p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-ncr.html#funzionalita-riportate-dalla-versione-2x","title":"Funzionalit\u00e0 riportate dalla versione <code>2.x</code>","text":""},{"location":"old-docs/posware42/posware42-adapter-self-checkout-ncr.html#lotteria-degli-scontrini","title":"Lotteria degli scontrini","text":"<p>Dalla versione 2.0.0.14 \u00e8 possibile inserire il codice lotteria tramite SCO. E' abilitato l'inserimento sia manuale che tramite scanner.  Il pulsante <code>Codice Lotteria</code> appare nella schermata dei pagamenti (in base alla configurazione del cliente potrebbe essere altrove).</p> <ul> <li>Una volta accettato il codice lotteria, viene confermata l'operazione tramite messaggio popup.</li> <li>E' possibile sovrascrivere il codice lotteria con un'altro ripetendo l'operazione. L'ultimo codice inserito sar\u00e0 quello inviato all'Ade.</li> <li>Una volta inserito il codice lotteria non \u00e8 previsto poterlo rimuovere</li> <li>Se il cliente digita un codice lotteria vuoto, viene rifiutato e segnalato con un messaggio</li> <li>Se il cliente digita un codice lotteria inesistente, viene comunque accettato e seguir\u00e0 le regole previste dall'AdE (non parteciper\u00e0 alla lotteria)</li> </ul> <p>E' necessario un adeguamento del software SCO per poter utilizzare la feature. Contattare NCR per gli adeguamenti necessari.</p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-ncr.html#gestione-del-periodo-di-inattivita-rt-auto-end-of-day","title":"Gestione del periodo di inattivit\u00e0 RT - Auto end of day","text":"<p>Dalla versione 2.0.0.12 \u00e8 possibile abilitare l'end of day (fine giornata) automatico di posware. Per farlo abilitare i seguenti parametri nella tabella <code>tabparametriextra</code>:</p> Modulo Parametro Valore Environment <code>posware.posdevice</code> <code>isSelfCheckOutEnvironment</code> <code>true</code> <code>production</code> <code>posware.fiscalprinter</code> <code>enableRTEODAfterInactivePeriod</code> <code>true</code> <code>production</code> <p>Posware effettuer\u00e0 o meno l'end of day previsto da normativa RT se superato il tempo massimo consentito.</p> <p>Per poter effettuare con successo l'operazione, all'avvio dell'adattatore la stampante deve essere rilevata ed inizializzata con successo. Qualora in fase di avvio l'inizializzazione delle perifiche dovesse presentare errori, lo stato di \"end of day richiesto\" non potr\u00e0 essere rilevato. Di conseguenza non la chiusura automatica non verr\u00e0 lanciata.</p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-ncr.html#gestione-dei-prodotti-con-restrizioni","title":"Gestione dei prodotti con restrizioni","text":"<p>Se non previsto dal software integrato della SCO, dalla versione 2.0.0.13 \u00e8 possibile indicare nella tabella articoli di posware i flag per la vendita di articoli soggetti a restrizioni.</p> <p>Le due gestioni sono mutuamente esclusive. Se il software SCO gestisce autonomamente la vendita con restrizioni, i flag su posware non vanno impostati.</p> <p>I campi previsti della tabella articoli sono:</p> Field Valore Descrizione Note Sco_Prod_Leggero 0 non attivo / 1 attivo Il prodotto \u00e8 troppo leggero e non deve essere pesato dalla bilancia della SCO Sco_Prod_NonPesare 0 non attivo / 1 attivo Il prodotto non deve essere pesato dalla bilancia della SCO Sco_Prod_Ingombrante 0 non attivo / 1 attivo Il prodotto non deve essere pesato dalla bilancia della SCO e non deve essere rilevato dal contenuto sacchetto Sco_Prod_AltoRischio 0 non attivo / 1 attivo (verifica et\u00e0) Il prodotto per essere venduto richiede una verifica dell'et\u00e0 oppure l'approvazione da parte del personale A partire dalla versione 2.0.0.15 Sco_Prod_AltoRischio 0 non attivo / 2 attivo (approvazione visiva) Il prodotto per essere venduto richiede una verifica visiva ed approvazione da parte del personale"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-ncr.html#a-partire-dalla-versione-20015","title":"A partire dalla versione <code>2.0.0.15</code>","text":"<p>La gestione del prodotto ad alto rischio, quando impostata ad <code>1</code>, supporta la lettura della data di nascita dalla SCO. Se l'utente inserisce la data di nascita durante la richiesta di approvazione, l'adattatore mostra sulla SCO i prodotti che devono essere rimossi dalla spesa per il mancato raggiungimento dell'et\u00e0. La successiva rimozione dovr\u00e0, eventualmente, essere eseguita manualmente dal cliente o dal personale del negozio. Non sono previste forzature in merito nel workflow della SCO.</p>"},{"location":"old-docs/posware42/posware42-adapter-self-checkout-ncr.html#procedura-di-installazione","title":"Procedura di installazione","text":"<p>Prima di procedere con l'upgrade, assicurarsi di avere installata almeno la versione <code>2.0.0.14</code>.</p> <ol> <li>Aggiornare Posware in versione .net 4.0 , tramite il setup <code>PosUpdateNET40</code>. Non installare la versione .net 4.8 ne tantomeno il runtime .net 4.8</li> <li>Sovrascrivere l'eseguibile dell'adattatore <code>Posware_NCRSco.exe</code> con la versione aggiornata fornita.</li> </ol> <p>Per il supporto alla lotteria degli scontrini, se l'ultimo aggiornamento del software a bordo NCR SCO \u00e8 antecedente al 10/01/2021, sar\u00e0 necessario contattare NCR per le istruzioni sull'adeguamento. </p> <p>Senza adeguare il software sar\u00e0 comunque possibile utilizzare la versione 2.0.0.13. Saranno disponibili tutte le funzionalit\u00e0 tranne che il supporto alla lotteria degli scontrini.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-adapter-ncr-selfserv-checkout.html","title":"Posware 4.2 - Funzionalit\u00e0 Adapter NCR SelfServ\u2122 Checkout","text":""},{"location":"old-docs/posware42/posware42-funzionalita-adapter-ncr-selfserv-checkout.html#specifiche-funzionali-e-di-integrazione","title":"Specifiche funzionali e di integrazione","text":"<p>Data aggiornamento documento: 04/10/2021</p>"},{"location":"old-docs/posware42/posware42-funzionalita-adapter-ncr-selfserv-checkout.html#versioni-software-di-riferimento","title":"Versioni software di riferimento","text":"<ul> <li>Posware 4.2.x</li> <li>Posware NCR Adapter 4.2.x</li> <li>NCR SelfServ\u2122 Checkout Release 5.1.3 build 56</li> <li>ADK 4.5.1 Build 28</li> <li>TB5 (Transaction Broker) Runtime 2.8.0.0161</li> </ul>"},{"location":"old-docs/posware42/posware42-funzionalita-adapter-ncr-selfserv-checkout.html#cenni-preliminari","title":"Cenni preliminari","text":"<p>Il seguento documento descrive in dettaglio i requisiti tecnici, funzionali e le funzionalit\u00e0 supportate dell'adattatore Posware per NCR SelfServ Checkout.</p> <p>I requisiti riportati garantiscono il corretto funzionamento rispetto alle funzionalit\u00e0 previte ed il supporto.  Viene automaticamente escluso quanto eventualmente non riportato. L'esclusione \u00e8 totale sia ai fini di garanzia di funzionamento che di supporto tecnico.</p> <p>Per il dettaglio delle funzionalit\u00e0 supportate, continuare con la lettura di questo documento.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-adapter-ncr-selfserv-checkout.html#requisiti-hardware-e-software","title":"Requisiti hardware e software","text":""},{"location":"old-docs/posware42/posware42-funzionalita-adapter-ncr-selfserv-checkout.html#posware","title":"Posware","text":"<p>La versione minima di Posware richiesta \u00e8 la 4.2.0. E' richiesta l'installazione del .net Framework 4.0</p> <p>A far data 05/01/2021, l'ambiente SCO NCR non \u00e8 compatibile con il .net Framework 4.8. Pertanto sar\u00e0 necessario installare Posware per Windows XP tramite il setup <code>PosUpdateNET40</code>. </p>"},{"location":"old-docs/posware42/posware42-funzionalita-adapter-ncr-selfserv-checkout.html#registratori-telematici","title":"Registratori telematici","text":"<p>A far data 04/10/2021 i registratori telematici ( stampanti RT ) certificati con la SCO NCR sono:</p> <ul> <li>Epson - tutti i modelli con le seguenti versioni firmware/driver <ul> <li>Firmware <code>11.02 build 255</code> oppure <code>7.02 build 255</code></li> <li>Driver OPOS Epson, versione <code>V22</code>. </li> </ul> </li> </ul> <p>Il funzionamento ed il supporto con stampanti non certificate non \u00e8 previsto.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-adapter-ncr-selfserv-checkout.html#hardware-sco","title":"Hardware SCO","text":"<p>La versione HW SCO certificata \u00e8 la <code>R5.0 with EUR recycler</code></p> <p>Il funzionamento della soluzione ed il supporto a versioni non certificate non \u00e8 previsto.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-adapter-ncr-selfserv-checkout.html#funzionalita-supportate","title":"Funzionalit\u00e0 supportate","text":"<p>Eventuali funzionalit\u00e0 non riportate in elenco sono da considerarsi automaticamente non supportate / fuori scenario.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-adapter-ncr-selfserv-checkout.html#funzionalita-di-attendentesupervisore","title":"Funzionalit\u00e0 di Attendente/Supervisore","text":"Funzione Supportato Note Validazione supervisore SI Avvio autonomo alla partenza della SCO SI Shutdown automatico allo spegnimento della SCO SI Apertura e chisura della cassa SI Login da RAP SI Logout da RAP SI Modalit\u00e0 supervisore SI Modalit\u00e0 funzionamento ridotto (degraded) SI Previsto funzionamento solo contanti o solo pagamenti EFT Modalit\u00e0 Training No / Non applicabile Impostando Posware in modalit\u00e0 senza stampante (<code>dummy</code>) si possono comunque effettuare tutte le prove di funzionamento senza causare l'emissione di scontrini/documenti commerciali. Cash Management SI Avvio Funzioni di utilit\u00e0 e LaunchPad NCR SI Invio segnale di sincronizzazione alla SCO (Heartbeat) SI Stampa Report Fiscali SI Solo tramite file generato dalla SCO Stampa Report supervisore SI Solo tramite file generato dalla SCO Stampa report CashManagement SI Solo tramite file generato dalla SCO"},{"location":"old-docs/posware42/posware42-funzionalita-adapter-ncr-selfserv-checkout.html#funzionalita-in-fase-di-vendita","title":"Funzionalit\u00e0 in fase di vendita","text":"Funzione Supportato Note Avvio di una transazione SI Vendita ordinaria di un prodotto SI Visualizzazione degli sconti su prodotto ( % e valore) nella ricevuta digitale SI Limitati a sconto % su prodotto e sconto a valore/taglio prezzo su prodotto Scelta prodotto da list di lookup (PickList) SI Vendita di un prodotto digitando il codice articolo SI Aggiunta Loyalty Card alla transazione (via scanner o codice digitato) SI Loyalty Card bloccata / non riconosciuta SI Staff Discount Acknowledgement SI Gestione prodotto con restrizioni SI Restrizioni per et\u00e0, prodotto leggero/pesante, prodotto da non pesare, prodotto da non inserire nello shopper Gestione prodotto non riconosciuto SI Vendit\u00e0 prodotto con limite temporale (Time Restricted Item) NO Vendita prodotto con prezzo su richiesta SI Vendita prodotto con quantit\u00e0 su richiesta SI Vendita prodotto con limite su quantit\u00e0 NO Vendita prodotto previa verifica visiva del supervisore SI Vendita prodotto con pesatura preventiva (Weight Required Item) NO Vendita prodotti collegati (Linked Item) SI Supportati solo tramite funzionalit\u00e0 Kit di Posware Segnalazione articolo non vendibile a causa di errori di codifica SI Supporto Coupon Sconto SI Solo durante la fase di vendita (itemization) Supporto Coupon Pagamento SI Solo durante la fase di pagamento Verifica Coupon non valido SI Presente nella fase di vendita (itemization) e di pagamento Aggiunta di un prodotto al passaggio di un coupon NO Non esiste una funzionalit\u00e0 corrispondente in Posware Richiesta addebito busta SI Singolo codice con singolo prezzo supportato. Vendita prodotto a lettura di peso/prezzo SI"},{"location":"old-docs/posware42/posware42-funzionalita-adapter-ncr-selfserv-checkout.html#funzioni-di-assistenza-al-cliente-come-attendentesupervisore","title":"Funzioni di assistenza al cliente come attendente/supervisore","text":"Funzione Supportato Note Storno singolo articolo SI Annulla transazione/Storna tutti gli articoli SI Gestione errori periferiche di stampa SI Sia in fase di avvio della SCO che in fase di stampa della ricevuta (scontrino) Sospensione della transazione SI Cambio prezzo articolo dalla SCO NO Vendita a reparto dalla SCO NO"},{"location":"old-docs/posware42/posware42-funzionalita-adapter-ncr-selfserv-checkout.html#funzioni-di-sicurezza","title":"Funzioni di sicurezza","text":"Funzione Supportato Note Notifica peso non coincidente SI Dedotto automaticamente dall'HW della SCO oppure fornendo i dati nell'anagrafica dei prodotti nell'archivio della SCO Prodotto/Peso aggiunto nella busta/bilancia SI Uso busta del consumatore SI Prodotto/Peso rimosso dalla busta/bilancia SI Non imbustare il prodotto SI"},{"location":"old-docs/posware42/posware42-funzionalita-adapter-ncr-selfserv-checkout.html#funzioni-di-pagamento","title":"Funzioni di pagamento","text":"Funzione Supportato Note Paga in contanti SI Paga con POS EFT SI Supportati unicamente i provider protocollo Argentea e Scambio Importo 17 Paga con Gift Card SI Supportata solo la Gift Card nativa di Posware Supporto ai pagamenti parziali SI Supporto all'arrotondamento contante SI Supportati sia tramite registratore telematico che tramite Posware Supporto inserimento codice Lotteria Scontrini SI * Necessario aggiornamento di NCR rispetto alla versione certificata"},{"location":"old-docs/posware42/posware42-funzionalita-adapter-ncr-selfserv-checkout.html#note-su-lotteria-degli-scontrini","title":"Note su Lotteria degli scontrini","text":"<p>Dalla versione 2.0.0.14 dell'adattatore Posware, \u00e8 possibile inserire il codice lotteria tramite SCO. E' abilitato l'inserimento sia manuale che tramite scanner.  Il pulsante <code>Codice Lotteria</code> appare nella schermata dei pagamenti (in base alla configurazione del cliente potrebbe essere altrove).</p> <p>E' necessario un adeguamento del software SCO per poter utilizzare la feature. Contattare NCR per gli adeguamenti necessari.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html","title":"Posware 4.2 - Funzionalit\u00e0 Pin Dispatching","text":""},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#manuale-di-attivazione-ed-utilizzo","title":"Manuale di attivazione ed utilizzo","text":"<p>Il presente documento descrive i requisiti minimi e le procedure necessarie all'attivazione della funzionalit\u00e0 Pin Dispatching presente in Posware.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#ultima-revisione-documento-24112021","title":"Ultima revisione documento: 24/11/2021","text":""},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#versioni-software-di-riferimento","title":"Versioni software di riferimento","text":"<ul> <li>Posware 4.2.0.0 o superiore</li> </ul>"},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#cenni-preliminari","title":"Cenni preliminari","text":""},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#posware","title":"Posware","text":"<p>La versione minima di Posware richiesta \u00e8 la <code>v4.2.0</code>.  Alcune funzionalit\u00e0 presenti in questo documento potrebbero non essere supportate dal provider. Vedi Tabella di compatibilit\u00e0 delle funzionalit\u00e0.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#provider-supportati","title":"Provider supportati","text":"<p>A far data 24/11/2021 i provider supportati sono:</p> <ul> <li>Euronet</li> <li>Euronet tramite Argentea</li> <li>Epipoli/TSP tramite Argentea</li> </ul> <p>Per conoscere le funzionalit\u00e0 supportate dal singolo provider consultare la tabella di compatibilit\u00e0 delle funzionalit\u00e0.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#configurazione","title":"Configurazione","text":"<p>La configurazione del plugin \u00e8 suddivisa in tre operazioni:</p> <ol> <li>Compilazione dell'anagrafica dei prodotti pin-dispatching</li> <li>Configurazione di Posware</li> <li>Configurazione del provider</li> <li>Inserimento del pulsante Ristampa ricevuta in grafica (opzionale)</li> </ol>"},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#compilazione-anagrafica-dei-prodotti-pin-dispatching","title":"Compilazione anagrafica dei prodotti pin-dispatching","text":"<p>Per la compilazione dell'anagrafica dei prodotti, sono previsti due scenari:</p> <ol> <li>Il prodotto da attivare \u00e8 riconosciuto esclusivamente tramite Barcode (tipicamente EAN). I dati del prodotto vengono inseriti solo nella tabella <code>articoli</code>.</li> <li>Il prodotto da attivare \u00e8 riconosciuto tramite Barcode ed un Codice ricarica. Il Codice ricarica potrebbe essere legato ad un codice operatore. I dati del prodotto devono essere inseriti sia nella tabella <code>articoli</code> che nella tabella <code>codiciricarica</code>. Il Codice ricarica, assieme ad altri dati, viene collegato tramite Barcode alla tabella <code>articoli</code>.</li> </ol>"},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#campi-da-compilare-nella-tabella-articoli","title":"Campi da compilare nella tabella articoli","text":"<p>Sono obbligatori i campi presenti nella tabella di esempio. Qualora si volesse, il campo <code>NonScontabile</code> pu\u00f2 essere impostato anche a <code>0</code>.</p> CodiceEAN Descrizione UM bpeso Prezzo IVA NonScontabile 8032325292640 RICARICA WIND TRE 20 EURO PZ false 20,00 0 1"},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#campi-da-compilare-nella-tabella-codiciricarica","title":"Campi da compilare nella tabella codiciricarica","text":"<p>Sono possibili 3 modalit\u00e0 di codifica differente:</p> <ol> <li>Il provider utilizza Barcode che differiscono dai Codici ricarica.</li> <li>Il provider utilizza Barcode che differiscono dai Codici ricarica ed \u00e8 richiesto anche il Codice operatore.</li> <li>Il provider utilizza Barcode e Codici ricarica identici ma \u00e8 richiesto il Codice operatore.</li> </ol> <p>Nella tabella a seguire sono stati codificati 4 prodotti (ricariche telefoniche) per dimostrare i 3 scenari indicati.</p> CodOperatore CodTaglio CodRicarica CodiceEAN importoeurocent 0 0 <code>5060069483461</code> <code>8032325292640</code> 2000 1 0 <code>5060069483461</code> <code>8032325292640</code> 3000 2 0 <code>5060069488503</code> <code>5060069488503</code> 5000 0 1 <code>8032325056389</code> <code>5060069484413</code> 1000 <p>La modalit\u00e0 1 si realizza seguendo la codifica del primo record: si pu\u00f2 notare l'aggancio del Codice ricarica (campo CodRicarica) con il Barcode (campo CodiceEAN).</p> <p>La modalit\u00e0 2 si realizza seguendo la codifica del secondo record: si pu\u00f2 notare che il Codice ricarica differisce dal Barcode (CodiceEAN) ed \u00e8 stato indicato anche un Codice operatore (CodOperatore).</p> <p>La modalit\u00e0 3 si realizza seguendo il terzo record: si pu\u00f2 notare che il Codice ricarica corrisponde anche al Barcode (CodiceEAN). In questo caso particolare l'aggancio verr\u00e0 utilizzato solo per legare un Codice operatore (CodOperatore) al prodotto. </p> <p>Per evitare sovrapposizione nelle codifiche, \u00e8 possibile avere per un determinato Codice operatore solo un particolare Codice Taglio (legame 1:1).  In tutti gli scenari cui sopra, il campo <code>CodTaglio</code> viene usato solo come progressivo per identificare univocamente un record rispetto ad un Codice operatore. Non \u00e8 coinvolto in altre logiche.  \u00c8 possibile notare ci\u00f2 nel quarto record di esempio.</p> <p>In breve:  Qualora per il provider in uso non fosse un requisito necessario specificare Codice operatore, \u00e8 possibile impostare il campo <code>CodOperatore</code> sempre a <code>0</code> ed usare un progressivo numerico libero per il campo <code>CodTaglio</code>. In questo modo si utilizzer\u00e0 la tabella solo per specificare un Codice ricarica differente dal Barcode.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#campi-da-compilare-nella-tabella-tipi_ean","title":"Campi da compilare nella tabella tipi_ean","text":"<p>\u00c8 necessario inserire un record di tipo <code>R</code> nella tabella <code>tipi_ean</code> per ogni barcode (o parte di esso) che \u00e8 necessario identificare come barcode di un servizio con attivazione tramite pin dispatching.</p> <p>Per la codifica sono necessari solo 3 campi: ean, descrizione, tipo. I restanti possono essere lasciati come da valore di default.</p> ean descrizione tipo 8032325292640 RICARICA TIM 20\u20ac <code>R</code> 803232528 RICARICHE AMAZON <code>R</code> <p>In tabella vengono riportati due esempi di codifica: il primo permette di assegnare per ogni singolo ean il riconoscimento come servizio da attivare via pin dispatching, il secondo contrassegna invece tutti gli EAN che iniziano con 803232528 come servizi da attivare via pin dispatching.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#configurazione-di-posware","title":"Configurazione di Posware","text":"<p>Per abilitare il plugin in Posware \u00e8 per prima cosa necessario impostare il valore del parametro <code>PROTRICARICHE</code> del modulo <code>EPPLIB</code> nella tabella <code>tabparametriextra</code>.</p> <p>\u00c8 inoltre possibile specificare se effettuare le operazioni di ricarica pin dispatching - richiesta ed attivazione - a chiusura scontrino.  Per fare ci\u00f2 impostare il campo <code>ricariche_alla_chiusura</code> della tabella <code>config_cassa</code> al valore <code>true</code>.  Si consiglia di lasciare il valore impostato a <code>false</code> per avvantaggiarsi delle funzioni di validazione durante la vendita.</p> <p>A seguire le impostazioni della tabella <code>tabparametriextra</code> per i singoli provider supportati.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#impostazioni-per-provider-argentea","title":"Impostazioni per provider Argentea","text":"<p>\u00c8 necessario specificare il solo protocollo ricariche. Tutte le altre configurazioni dovranno essere effettuate direttamente sui software Argentea.</p> Modulo Parametro Valore Valore di default Note <code>EPPLIB</code> <code>PROTRICARICHE</code> <code>AR</code> AR = Argentea"},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#impostazioni-per-provider-euronet","title":"Impostazioni per provider Euronet","text":"Modulo Parametro Valore Valore di default Note <code>EPPLIB</code> <code>PROTRICARICHE</code> <code>EN</code> EN = Euronet <code>EPPLIB</code> <code>EPAYMODE</code> <code>RESERVE</code> Lasciare inalterato il valore <code>EPPLIB</code> <code>EPAYUSER</code> Nome utente <code>EPPLIB</code> <code>EPAYPASSWORD</code> Password <code>EPPLIB</code> <code>EPAYTERMINALID</code> Id Terminale Euronet <code>EPPLIB</code> <code>EPAYTIMEOUT</code> <code>10000</code> Timeout di comunicazione in ms <code>EPPLIB</code> <code>EPAYURL</code> Indirizzo del gateway di comunicazione Euronet <code>EPPLIB</code> <code>EPAYSTAMPAINT</code> <code>0/1</code> <code>0</code> 1 = Stampa sulle ricevute l'intestazione del punto vendita comunicata ad Euronet. <code>EPPLIB</code> <code>EPAYSCADFILTER</code> <code>802109601,8056735</code> <code>802109601,8056735</code> Lasciare inalterato il valore"},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#inserimento-del-pulsante-ristampa-ricevuta-in-grafica","title":"Inserimento del pulsante Ristampa ricevuta in grafica","text":"<p>Per poter utilizzare la funzionalit\u00e0 di ristampa della ricevuta di attivazione, \u00e8 necessario inserire un pulsante in grafica associandogli la funzione <code>RISTAMPA_RICARICA</code>.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#procedura-di-installazione","title":"Procedura di installazione","text":"<p>Nella versione <code>4.2.x</code> il plugin \u00e8 direttamente integrato in Posware.</p> <ol> <li>Aggiornare Posware tramite l'applicativo di aggiornamento <code>PosUpdate</code> al minimo alla versione <code>4.2.x</code>.</li> <li>Configurare Posware</li> <li>Inviare l'anagrafica dei prodotti (articoli, codici ricarica, tipi ean)</li> </ol>"},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#funzionalita","title":"Funzionalit\u00e0","text":""},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#attivazione-di-un-servizio","title":"Attivazione di un servizio","text":"<p>Per attivare un servizio \u00e8 necessario effettuare la vendita del prodotto tramite barcode.  Il barcode viene riconosciuto come ricarica. Viene effettuata sia la vendita del prodotto in se che l'autorizzazione di attivazione al provider.  Al termine della richiesta viene visualizzato il numero autorizzazione sullo scontrino digitale (Auth. 123456).</p> <p>Qualora l'autorizzazione non dovesse andare a buon fine, verr\u00e0 mostrato l'errore con il motivo ed il prodotto stornato.</p> <p>\u00c8 ora possibile pagare e chiudere la transazione.  Al pagamento, il servizio viene definitivamente attivato e la transazione si conclude: oltre allo scontrino della transazione viene stampata la ricevuta di attivazione con le istruzioni per usufruire del servizio acquistato.</p> <p>Qualora la richiesta di attivazione finale non dovesse andare a buon fine, verr\u00e0 mostrato l'errore con il motivo ed il prodotto stornato.  La transazione non verr\u00e0 chiusa e sar\u00e0 possibile riprovare.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#ristampa-pin-di-un-servizio-attivato","title":"Ristampa Pin di un servizio attivato","text":"<p>Per ristampare la ricevuta con le istruzioni per usufruire del servizio acquistato, \u00e8 necessario avere lo scontrino oppure i riferimenti della transazione originale.  \u00c8 richiesto inoltre l'inserimento di un pulsante con associata la funzione <code>RISTAMPA_RICARICA</code>.</p> <p>Il workflow \u00e8 il seguente:</p> <ol> <li>Pressione del pulsante Ristampa servizio PinDispatching</li> <li>Si inserisce il numero transazione originale, il numero della cassa che lo ha emesso e la data</li> <li>La ricevuta viene ristampata. Non viene ristampato lo scontrino originale, solo la ricevuta relativa al servizio di pin dispatching</li> </ol> <p>Non tutti i provider supportano la ristampa della ricevuta.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#tabella-di-compatibilita-delle-funzionalita","title":"Tabella di compatibilit\u00e0 delle funzionalit\u00e0","text":"<p>Il supporto \u00e8 da considerarsi a partire dalla versione <code>4.2.0</code> se non specificato diversamente nelle note.</p> Funzionalit\u00e0 Provider Euronet Provider Epipoli/Tsp via Argentea Note Attivazione del servizio Supportato Supportato Ristampa della ricevuta Supportato Supportato Necessario il riferimento allo scontrino originale Annullo (reso) di una ricarica avvenuta Supportato Non supportato Annullo possibile solo se non si \u00e8 usufruito del servizio in maniera completa o parziale"},{"location":"old-docs/posware42/posware42-funzionalita-pin-dispatching.html#addendum","title":"Addendum","text":"<ul> <li>Non sono presenti ulteriori note</li> </ul>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html","title":"Posware 4.2 - Funzionalit\u00e0 RT 2.0 (XML 7)","text":""},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#manuale-di-attivazione-ed-utilizzo","title":"Manuale di attivazione ed utilizzo","text":"<p>Il presente documento descrive i requisiti minimi e le procedure necessarie all'attivazione delle funzionalit\u00e0 previste dalle specifiche del Registratore Telematico 2.0, inclusa la compatibilit\u00e0 con la versione 7.0 dei tracciati XML.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#ultima-revisione-documento-06122021","title":"Ultima revisione documento: 06/12/2021","text":""},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#versioni-software-di-riferimento","title":"Versioni software di riferimento","text":"<ul> <li>Posware 4.2.0.0 o superiore</li> </ul>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#cenni-preliminari","title":"Cenni preliminari","text":""},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#posware","title":"Posware","text":"<p>La versione minima di posware richiesta \u00e8 la <code>v4.2.0</code>.  Per il Server RT Epson \u00e8 la <code>v4.2.49</code>.  Vedi Tabella di compatibilit\u00e0 delle funzionalit\u00e0.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#stampanti","title":"Stampanti","text":"<p>A far data 23/09/2021 le stampanti RT 2.0 supportate sono:</p> <ul> <li>Epson - tutti i modelli</li> <li>RT-ONE</li> <li>NCR modello 130A</li> </ul> <p>Non tutte le funzionalit\u00e0 RT 2.0 riportate in questo documento sono supportate dai registratori telematici.  Consultare la tabella di compatibilit\u00e0 delle funzionalit\u00e0 per verificare se il vostro modello di stampante RT supporta una specifica funzionalit\u00e0 in Posware 4.2.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#server-rt","title":"Server RT","text":"<p>A far data 23/09/2021 \u00e8 stato aggiunto il supporto RT 2.0 ed XML7 al Server RT Epson e la versione minima del firmware supportata \u00e8 la <code>4.01.0</code> del 01/04/2021, consultare la tabella di compatibilit\u00e0 delle funzionalit\u00e0 per verificare le funzioni supportate.  Per configurare le singole funzioni, non vi sono differenze tra le normali stampanti RT ed il server, ad eccezione della nuova funzione di trasmissione Iva/Reparti (seguire le indicazioni alla sezione Configurazione Server RT ).  Continuare la lettura dei successivi paragrafi di questo documento.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#firmware-stampanti","title":"Firmware stampanti","text":"<p>Di seguito l'elenco dei firmware/stampanti certificati:</p> <ul> <li>Epson - tutti i modelli: <code>11.02 build 255</code> oppure <code>7.02 build 255</code></li> <li>RT-ONE: <code>8.0.7</code></li> <li>NCR modello 130A: <code>8.00.76</code></li> </ul> <p>Qualora venga utilizzata una versione di firmware diversa da quelle riportate in elenco, il funzionamento ed il supporto non \u00e8 garantito. Possono verificarsi problemi quali errori imprevisti ed annulli della transazione.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#driver-stampanti","title":"Driver stampanti","text":"<p>L'aggiornamento del firmware della stampante deve avvenire contestualmente all'aggiornamento dei driver OPOS qualora fossero obsoleti. Di seguito le versioni minime supportate:</p> <p>Qualora si ometta di aggiornare il driver, la stampante restituir\u00e0 in maniera random degli errori OPOS 207 durante varie fasi di emissione dello scontrino ed annulli imprevisti.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#diebold-rt-one","title":"Diebold RT-One","text":"<p>Driver OPOS Diebold, versione minima <code>1.4.3</code></p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#epson","title":"EPSON","text":"<p>Driver OPOS Epson, versione minima <code>V22</code>. </p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#ncr","title":"NCR","text":"<p>Driver OPOS NCR, versione minima <code>2.0.20.0</code></p> <p>Rivolgersi ai produttori per il download dei driver aggiornati.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#procedura-di-installazione","title":"Procedura di installazione","text":"<ol> <li>Aggiornare il firmware della stampante se necessario</li> <li>Aggiornare il driver OPOS della stampante se necessario</li> <li>Aggiornare Posware tramite l'applicativo di aggiornamento <code>PosUpdate</code>.</li> </ol> <p>Dopo aver effettuato l'aggiornamento dalla versione 4.1.x alla versione 4.2.0, al primo avvio di Posware, verr\u00e0 effettuata una chiusura fiscale e riscritta la tabella reparti / iva del registratore telematico.  \u00c8 importante tenere conto di questo requisito qualora si vogliano minimizzare le chiusure fiscali oppure effettuare l'aggiornamento durante il periodo di vendita.  Non \u00e8 possibile evitare questo passaggio. La chiusura verr\u00e0 eseguita una volta soltanto a seguito dell'upgrade.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#funzionalita","title":"Funzionalit\u00e0","text":""},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#nuove-forme-di-pagamento","title":"Nuove forme di pagamento","text":"<p>Il Registratore Telematico 2.0 supporta due nuove forme di pagamento: <code>Non riscosso fattura</code> e <code>Sconto a pagare</code>. Entrambe sono supportante in Posware.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#sconto-a-pagare","title":"Sconto a pagare","text":"<p>La forma di pagamento <code>Sconto a pagare</code> pu\u00f2 essere utilizzata in Posware solo tramite il meccanismo dei Coupon pagamento.  Non \u00e8 possibile far imputare pagamenti di questo tipo in modo arbitrario all'operatore. La tracciatura avviene tramite gli assodati meccanismi dei coupon pagamento.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#non-riscosso-segue-fattura","title":"Non riscosso segue fattura","text":"<p>Non ci sono particolari vincoli su questo tipo di pagamento. Possono essere creati molteplici pagamenti in base alla necessit\u00e0 ( non riscosso carta, non riscosso contanti, ecc... )  I campi riportati in tabella devono rispettare questi valori dovr\u00e0 essere configurato sulla base del valore in tabella:</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#configurazione","title":"Configurazione","text":"<p>Per abilitare l\u2019uso dei pagamenti <code>Non riscosso segue fattura</code> e <code>Sconto a pagare</code>, configurare un nuovo pagamento tramite la tabella <code>tipi_pagamenti</code>.  Nella tabella a seguire sono riportati solo i campi il cui valore deve essere impostato come da tabella per il corretto funzionamento.</p> Pagamento RT Valore campo <code>TipoPagRT</code> Valore campo <code>TipoPag</code> Valore campo <code>resto</code> Sconto a pagare <code>6</code> <code>2</code> <code>0</code> se il coupon pagamento viene bruciato totalmente, <code>1</code> se deve essere emesso un coupon pagamento della differenza Non riscosso segue fattura <code>7</code> Non sono presenti vincoli particolari <code>0</code>: il pagamento RT non permette di avere resto <p>Assegnando un pulsante al pagamento, sar\u00e0 possibile utilizzarlo nel comune workflow di Posware.  Nel pagamento RT <code>Sconto a pagare</code> dovranno essere eseguite anche tutte le configurazioni relative all'emissione e bruciatura dei coupon pagamento.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#addendum-per-registratore-telematico-rt-one","title":"Addendum per Registratore Telematico RT-One","text":"<p>Abilitando in <code>tabparametriextra</code> la funzione <code>sendPayment</code> a <code>true</code> (vedi tabella), Posware invier\u00e0 alla stampante la programmazione dei pagamenti secondo la propria tabella.</p> Modulo Parametro Valore Valore di default Note <code>posware.fiscalprinter.rtone</code> <code>sendPayment</code> true/false <code>false</code> Impostandolo a <code>true</code>, Posware invier\u00e0 al registratore telamtico, oltre alla configurazione IVA, anche la configurazione dei pagamenti in base alla sua tabella interna. Impostare a <code>false</code> per programmare manualmente la tabella sul R.T. <p>Se il parametro <code>sendPayment</code> sar\u00e0 impostato a <code>false</code>, i pagamenti in stampante andranno manualmente configurati tenendo sempre conto delle indicazioni dei valori precedentemente riportati come valori accettati del campo <code>TipoPagRt</code>.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#ticket-numerati-manuali","title":"Ticket numerati manuali","text":""},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#configurazione_1","title":"Configurazione","text":"<ol> <li>Aggiungere un nuovo record alla tabella <code>tipi_pagamenti</code></li> <li>Impostare il campo <code>tipoPagRT</code> al valore 4</li> <li>Impostare il campo <code>ticket</code> al valore SI</li> <li>Impostare il campo <code>obbligatorio</code> al valore true</li> <li>Aggiungere il pulsante alla grafica ed agganciare il pagamento</li> </ol>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#workflow-di-utilizzo","title":"Workflow di utilizzo","text":"<ol> <li>Dopo aver premuto subtotale, premere il tasto assegnato al pagamento Ticket numerati</li> <li>Alla richiesta Inserire taglio imputare il taglio dei Ticket e premere il tasto INVIO</li> <li>Verr\u00e0 visualizzato a Display Operatore/Schermo, il numero massimo dei ticket utilizzabili per la transazione in corso in base al taglio imputato</li> <li>Il numero massimo dei ticket utilizzabili viene inserito nella casella di input. E' possibile confermare con INVIO oppure imputare un numero di ticket diverso. Premere INVIO per confermare.</li> </ol> <p>Se viene erroneamente imputato un numero di Ticket da usare maggiore del massimo utilizzabile, viene mostrato il messaggio MAX PAG. \"NOME PAGAMENTO\" XX \u20ac, riportando il valore massimo pagabile. A questo punto \u00e8 possibile ripetere la procedura dal punto 1.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#ticket-numerati-su-pagamento-elettronico-e-dematerializzato","title":"Ticket numerati su pagamento elettronico e dematerializzato","text":""},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#configurazione_2","title":"Configurazione","text":"<p>Alla configurazione gi\u00e0 prevista per il pagamento, \u00e8 unicamente necessario impostare il campo <code>tipoPagRT</code> al valore 4</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#workflow-di-utilizzo_1","title":"Workflow di utilizzo","text":"<p>Il riconoscimento del numero dei ticket avviene automaticamente senza alcuna variazione al workflow esistente.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#ulteriori-note-sul-workflow","title":"Ulteriori note sul workflow","text":"<p>Si ribadisce che in caso di pagamento buono pasto elettronico, \u00e8 possibile pagare soltanto in una unica operazione il massimo importo pagabile.  Questo importo viene calcolato automaticamente dal front-end in base alle configurazioni impostate (esclusione reparti/promo ecc...).  Non \u00e8 possibile specificare manualmente quanto si desidera pagare.</p> <p>Se durante l'operazione di pagamento il provider dei buoni pasto restituir\u00e0 un importo minore al massimo pagabile (per insufficienza di credito o numero massimo dei buoni utilizzati), questo verr\u00e0 usato come importo di riferimento ed avverr\u00e0 un pagamento parziale della transazione (Esempio 3).</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#esempio-1-transazione-di-25-con-massimo-pagabile-calcolato-di-20-e-cifra-da-pagare-digitata-15","title":"Esempio 1: transazione di 25\u20ac con massimo pagabile calcolato di 20\u20ac e cifra da pagare digitata 15\u20ac","text":"<ol> <li>Viene digitato il pagamento buono pasto elettronico con i 15\u20ac desiderati</li> <li>Al provider viene inoltrata una richiesta di pagamento di 20\u20ac - non 15.</li> <li>Il provider conferma l'avvenuto pagamento ed i 20\u20ac conteggiati.</li> <li>Per chiudere la transazione \u00e8 necessario saldare il rimanente con altro metodo di pagamento o contanti</li> </ol>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#esempio-2-transazione-di-25-con-massimo-pagabile-calcolato-di-20-e-nessuna-cifra-manuale-da-pagare-digitata","title":"Esempio 2: transazione di 25\u20ac con massimo pagabile calcolato di 20\u20ac e nessuna cifra manuale da pagare digitata","text":"<ol> <li>Viene digitato il pagamento buono pasto elettronico</li> <li>Al provider viene inoltrata una richiesta di pagamento di 20\u20ac</li> <li>Il provider conferma l'avvenuto pagamento ed i 20\u20ac conteggiati</li> <li>Per chiudere la transazione \u00e8 necessario saldare il rimanente con altro metodo di pagamento o contanti</li> </ol>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#esempio-3-transazione-di-25-con-massimo-pagabile-calcolato-di-20-e-credito-massimo-disponibile-sui-buoni-di-16","title":"Esempio 3: transazione di 25\u20ac con massimo pagabile calcolato di 20\u20ac e credito massimo disponibile sui buoni di 16\u20ac","text":"<ol> <li>Viene digitato il pagamento buono pasto elettronico (anche digitando deliberatamente una cifra da incassare verrebbe ignorata)</li> <li>Al provider viene inoltrata una richiesta di pagamento di 20\u20ac</li> <li>Il provider conferma l'avvenuto pagamento di soli 16\u20ac</li> <li>Il pagamento parziale di 16\u20ac viene conteggiato e per chiudere la transazione sar\u00e0 necessario saldare i restanti 9\u20ac con altro metodo di pagamento o contanti</li> </ol>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#provider-supportati","title":"Provider supportati","text":"<p>Al momento, tutti i provider di buoni pasto dematerializzati ed elettronici previsti in posware, supportano anche la funzione di ticket numerato.  Si riporta l'elenco per completezza:</p> Provider Funzionalit\u00e0 Supporto Ticket numerati Note Argentea Buoni Pasto Elettronici SI Argentea Buoni Pasto Dematerializzati SI Diebold Buono Chiaro Buoni Pasto Dematerializzati SI"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#nota-di-credito","title":"Nota di credito","text":""},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#configurazione_3","title":"Configurazione","text":"<p>Non sono necessarie configurazioni</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#workflow-di-utilizzo_2","title":"Workflow di utilizzo","text":"<p>I workflow della procedura di nota credito Totale e Parziale rimangono invariati. I cambiamenti impattano solo la procedura Manuale.</p> <ol> <li>Premere il tasto assegnato alla funzione Nota di Credito</li> <li>Alla richiesta Tipo Nota Credito, selezionare Manuale e premere il tasto OK</li> <li>Alla richiesta Causale, selezionare la causale desiderata e continuare. Se configurate, vengono visualizzate le richieste di Info aggiuntive, imputarle e continuare.</li> <li> <p>Verr\u00e0 richiesta la Tipologia Documento come previsto da normativa su XML7. Le scelte possibili sono:</p> <ol> <li>Matricola: da utilizzare nel caso in cui il documento originale sia stato emesso da un registratore telematico diverso da quello che sta emettendo attualmente la nota di credito</li> <li>POS: da utilizzare quando \u00e8 necessario emettere un documento di reso utilizzando altri elementi probanti l\u2019acquisto Come previsto dalla Circolare 3/E del 21-feb-20. In questo caso l'elemento \u00e8 una ricevuta POS</li> <li>ND: da utilizzare quando \u00e8 necessario emettere un documento di reso utilizzando altri elementi probanti l\u2019acquisto Come previsto dalla Circolare 3/E del 21-feb-20. In questo caso l'elemento \u00e8 una ricevuta da misuratore fiscale (MF), ricevuta WEB o di altra origine.</li> </ol> <p>In base alla tipologia documento scelta, verranno formulate altre richieste.  Per la tipologia documento Matricola dovranno essere forniti:</p> <ul> <li>la data del documento commerciale di origine cui si fa riferimento;</li> <li>l\u2019identificativo del documento commerciale a cui si fa riferimento. Vengono fatte due richieste, una per il numero documento ed una per il numero della chiusura fiscale. Queste informazioni sono riportate nello scontrino nel formato \"Documento N. XXXX-YYYY\" dove XXXX \u00e8 il numero della chiusura fiscale ed YYYY \u00e8 il numero del documento;</li> <li>la matricola del dispositivo originario che ha generato il documento di riferimento;</li> </ul> <p>Per la tipologia documento POS o ND dovranno essere forniti:</p> <ul> <li>la data del documento commerciale di origine a cui si fa riferimento;</li> </ul> </li> <li> <p>E' ora possibile aggiungere gli articoli alla transazione e completare come previsto da normale procedura</p> </li> <li>Se \u00e8 necessario digitare il codice lotteria, \u00e8 possibile digitarlo solo prima del Subtotale (a seguito di tutti gli articoli e prima di entrare nella fase di scelta del pagamento). Si entra nella fase di scelta del pagamento alla pressione del tasto Subtotale.</li> </ol>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#arrotondamento-tramite-registratore-telematico","title":"Arrotondamento tramite Registratore Telematico","text":""},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#configurazione_4","title":"Configurazione","text":"<p>Per abilitare l'arrotondamento automatico previsto dal DL N.50/2017, effettuato direttamente dal Registratore Telematico, \u00e8 necessario:</p> <ol> <li>Abilitare sulla stampante la funzionalit\u00e0 di arrotondamento tramite programmazione/tool ufficiali (Posware non invia la programmazione alla stampante). \u00c8 supportata solo la configurazione di arrotondamento completo (sia in eccesso che in difetto).</li> <li>Impostare nella tabella di configurazione <code>tabparametriextra</code> il parametro <code>isRTCashPaymentRoundingSupportEnabled</code> del modulo <code>posware.fiscalprinter</code> al valore <code>True</code></li> <li>Impostare nella tabella <code>tipi_pagamenti</code>, per il pagamento di tipo contanti che si vuole arrotondare, il campo <code>tipoPagRT</code> al valore <code>0</code> (contante) ed il campo <code>Arrotondamento</code> al valore <code>0,05</code></li> <li>Se sono state impostate delle formule di arrotondamento personalizzate, \u00e8 necessario rimuoverle per non creare conflitti. Le due feature non sono compatibili tra loro.</li> </ol>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#sistema-di-verifica-della-configurazione","title":"Sistema di verifica della configurazione","text":"<p>All'avvio di Posware, verr\u00e0 verificata la configurazione dell'arrotondamento del Frontend rispetto a quella programmata nella stampante. In caso venisse rilevata una configurazione errata, verr\u00e0 mostrato un messaggio popup con l'errore:</p> <p><pre><code>La configurazione sulla stampante dell'arrotondamento DL N.50/2017 non \u00e8 corretta. Per funzionare correttamente \u00e8 necessario abilitare l'arrotondamento standard (codice 1). Se non si vuole attivare l'arrotondamento sulla stampante, disabilitare anche in Posware l'opzione - IsRTCashPaymentRoundingSupportEnabled - in tabparametriextra. Verificare la programmazione.\n</code></pre> oppure: <pre><code>Nella stampante \u00e8 abilitato l'arrotondamento DL N.50/2017. Abilitare la funzionalit\u00e0 di Posware - IsRTCashPaymentRoundingSupportEnabled - in tabparametriextra oppure disabilitare l'opzione nella stampante. Verificare la programmazione.\n</code></pre> Anche in caso di Server Rt Epson, Posware controlla lo stato di attivazione della funzione. \u00c8 mandatorio allineare le impostazioni di arrotondamento tra Posware e Registratore Telematico. In caso contrario Posware si chiuder\u00e0 automaticamente alla chiusura del messaggio di avviso.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#workflow-di-utilizzo_3","title":"Workflow di utilizzo","text":"<p>Non sono previsti variazioni rispetto al workflow di arrotondamento esistente in Posware.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#limitazioni","title":"Limitazioni","text":"<p>Il Registratore Telematico effettua l'arrotondamento solo su transazioni integralmente pagate in contanti.  In caso di pagamenti misti di qualsiasi tipo, l'arrotondamento non viene effettuato.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#informazioni-registrate-nel-log-di-transazione","title":"Informazioni registrate nel log di transazione","text":"<p>Una transazione con arrotondamento da registratore telematico, prevede che il totale della transazione - corrispettivo - sia pari al totale effettivo dello scontrino al lordo degli arrotondamenti: una transazione avente ammontare scontrino 1.02 \u20ac, aumenter\u00e0 il totale gran fiscale del registratore telematico di 1.02 \u20ac, nonostante il consumatore, in caso di pagamento integralmente in contante, paghi effettivamente soltanto 1.00 \u20ac</p> <p>\u00c8 possibile riscontrare tale condizione anche nei tipi record 00/04 di inizio/fine transazione, nei campi <code>Totale transazione</code> e <code>Corrispettivo Fiscale a Fine transazione</code>.</p> <p>Al fine di riconoscere il valore degli arrotondamenti da R.T. e poter eseguire eventuali quadrature, nel log cassa viene inserita una informazione aggiuntiva (record 14) con codice informazione <code>RTRA</code> (RT Rounding Amount).  Questo record 14 si aggiunge ad altri eventuali record di informazione aggiuntiva.</p> Campo Inizio Lunghezza Tipo Valore esempio Note Codice del punto vendita, Fisso per PdV 1 4 N <code>0001</code> Codice punto vendita di esempio Numero terminale cassa (001-999) 5 3 N <code>001</code> Numero terminale di esempio Progressivo record 8 5 N <code>12345</code> Progressivo di esempio Tipo Record (fisso \"14\") 13 2 N <code>14</code> Tipo record Informazione aggiuntiva Tipo Informazione 15 1 C <code>S</code> Informazione aggiuntiva di livello Scontrino Codice Informazione 16 5 C <code>RTRA</code> RT Rounding Amount Codice a barre (in caso Tipo Informazione=A) 21 20 C Non applicabile Informazione 41 100 C <code>-2</code> Ammontare positivo o negativo del valore di arrotondamento RT applicato alla transazione. Se positivo viene memorizzato senza segno. <p>In caso di transazione pagata integralmente in Contanti, intesa come tipo pagamento Contanti a livello di registratore telematico, potranno essere presenti uno o pi\u00f9 record 03 - Pagamento. </p> <p>Il campo <code>Importo pagamento</code> (posizione 17 lungo 9, tipo numerico 7,2) di tale record, rappresenta l'effettivo valore pagato dal consumatore inclusi gli arrotondamenti RT siano essi in eccesso o in difetto. In presenza di record multipli, l'ammontare effettivamente pagato dal consumatore sar\u00e0 la somma dei valori del campo <code>Importo pagamento</code>.</p> <p>Per ottenere la quadratura con il totale della transazione, \u00e8 necessario sommare l'opposto del valore degli arrotondamenti, al totale effettivamente pagato dal consumatore, sottraendo infine l'eventuale resto.  Il calcolo pu\u00f2 essere riassunto nella formula:  <code>Totale valore dei pagamenti</code> + [<code>Valore Info Aggiuntiva</code> *(-1)] - <code>Resto</code> = <code>Totale corrispettivo scontrino</code></p> <p>A seguire alcuni esempi riassunti in tabella per facilitare la consultazione:</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#transazione-avente-ammontare-scontrino-102-il-consumatore-paga-effettivamente-100","title":"Transazione avente ammontare scontrino 1.02 \u20ac, il consumatore paga effettivamente 1.00 \u20ac","text":"Corrispettivo fiscale transazione Valore record 03 Valore Info Aggiuntiva RTRA Resto Note 1.02 1.00 -2 0 Quadratura: 1.00 + (+2) - 0 = 1.02"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#transazione-avente-ammontare-scontrino-108-il-consumatore-paga-effettivamente-110","title":"Transazione avente ammontare scontrino 1.08 \u20ac, il consumatore paga effettivamente 1.10 \u20ac","text":"Corrispettivo fiscale transazione Valore record 03 Valore Info Aggiuntiva RTRA Resto Note 1.08 1.10 2 0 Quadratura: 1.10 + (-2) - 0 = 1.08"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#transazione-avente-ammontare-scontrino-107-il-consumatore-paga-effettivamente-105","title":"Transazione avente ammontare scontrino 1.07 \u20ac, il consumatore paga effettivamente 1.05 \u20ac","text":"Corrispettivo fiscale transazione Valore record 03 Valore Info Aggiuntiva RTRA Resto Note 1.07 1.05 -2 0 Quadratura: 1.05 + (+2) - 0 = 1.07"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#transazione-avente-ammontare-scontrino-108-il-consumatore-paga-2-con-resto-di-090-il-valore-effettivamente-pagato-sara-comunque-di-110","title":"Transazione avente ammontare scontrino 1.08 \u20ac, il consumatore paga 2 \u20ac con resto di 0.90 \u20ac. Il valore effettivamente pagato sar\u00e0 comunque di 1.10\u20ac","text":"Corrispettivo fiscale transazione Valore record 03 Valore Info Aggiuntiva RTRA Resto Note 1.08 2 2 0.90 Quadratura: 2 + (-2) - 0.9 = 1.08"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#eccezioni-alla-regola-e-funzionalita-di-arrotondamento-ibrido","title":"Eccezioni alla regola e funzionalit\u00e0 di arrotondamento ibrido","text":"<p>In caso di transazione pagata con buoni pasto (manuali o elettronici), il workflow tipico prevede prima il pagamento con i buoni pasto e solo successivamente il pagamento della differenza in contanti (o altro metodo di pagamento). Con la combinazione di pagamenti buono pasto + contanti, trattandosi di pagamento misto, il Registratore Telematico non effettua l'arrotondamento del contante. Alla data del 24-09-2021 l'AdE non ha previsto questa casistica.</p> <p>Per ovviare alla problematica, \u00e8 stata prevista in Posware la funzionalit\u00e0 di arrotondamento ibrido approfondita nel prossimo paragrafo.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#arrotondamento-ibrido","title":"Arrotondamento ibrido","text":"<p>Solo nel caso in cui una transazione venisse pagata con la combinazione di pagamenti buoni pasto + contanti (di conseguenza verrebbe meno l'arrotondamento del RT), Posware effettuer\u00e0 l'arrotondamento come previsto dalla procedura esistente previa introduzione del RT 2.0.  La feature \u00e8 di default disabilitata. Per abilitarla, impostare nella tabella di configurazione <code>tabparametriextra</code> il parametro <code>allowHybridRoundingWithRTCashRoundingEnabled</code> del modulo <code>posware.cart.payments</code> al valore <code>True</code>.  Le configurazioni normalmente previste per l'arrotondamento da parte di Posware devono rimanere configurate (valore arrotondamento, codice articolo per la maggiorazione e codice pagamento per la detrazione).  La feature \u00e8 supportata unicamente da Posware Frontend. Gli adattatori SCO non prevedono tale funzionalit\u00e0.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#considerazioni-e-disclaimer-riguardo-larrotondamento-ibrido","title":"Considerazioni e disclaimer riguardo l'arrotondamento ibrido","text":"<p>Utilizzando l'arrotondamento ibrido, le minusvalenze e le plusvalenze generate dagli arrotondamenti vengono conteggiate nei corrispettivi.  Utilizzando l'arrotondamento nativo del Registratore Telematico no.  La feature \u00e8 stata introdotta unicamente al fine di non creare disservizi rispetto ai workflow di pagamento buoni pasto consolidati da tempo.  La feature \u00e8 di default disabilitata.  Prima di abilitare questa feature \u00e8 necessario verificare insieme al consulente la compabilit\u00e0 con gli adempimenti fiscali del cliente.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#vendita-di-servizi","title":"Vendita di servizi","text":"<p>La vendita di un servizio con il Registratore Telematico, consiste nel vendere un comune prodotto contrassegnato come servizio.  Lo scenario \u00e8 supportato da Posware sia con il Registratore Telematico in configurazione mono-ateco che multi-ateco.  In caso di Server Rt \u00e8 necessario inviare la configurazione Iva/Reparti come da indicazioni alla sezione Configurazione Server RT</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#configurazione_5","title":"Configurazione","text":"<p>Per vendere un prodotto come servizio, impostare nella tabella <code>Articoli</code> il campo <code>TipoCodice</code>, del prodotto che si vuole vendere come servizio, al valore <code>S</code> .  Non sono richieste ulteriori configurazioni particolari.</p> <p>Se il firmware del Registratore Telematico \u00e8 appena stato aggiornato oppure la versione di Posware \u00e8 appena stata installata, la vendita come servizio sar\u00e0 possibile solo dopo la prima chiusura fiscale (necessaria al fine di inviare la tabella IVA aggiornata con i reparti dedicati ai servizi)</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#gestione-multi-ateco","title":"Gestione multi-ateco","text":"<p>Posware supporta la gestione multi-ateco del Registratore Telematico. In base al Registratore Telematico in uso, sono presenti limitazioni dettate dall'hardware.  In caso di Server Rt \u00e8 necessario inviare la configurazione Iva/Reparti come da indicazioni alla sezione Configurazione Server RT</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#configurazione_6","title":"Configurazione","text":"<ol> <li>Se per variare le impostazioni ateco del Registratore Telematico \u00e8 richiesta la chiusura fiscale, effettuarla da Posware oppure tramite il tool del Registratore Telematico.</li> <li>Se Posware \u00e8 aperto, chiudere Posware.</li> <li>Abilitare la funzionalit\u00e0 sul Registratore Telematico e programmare i codici Ateco. </li> <li>Inserire nella tabella <code>reparti</code>, il codice Ateco (oppure l'indice assegnato dal Registratore Telematico) nel campo <code>RTAtecoIndex</code> del reparto che si vuole assegnare ad un determinato codice ateco.</li> <li>Abilitare la feature impostando nella tabella di configurazione <code>tabparametriextra</code> il parametro <code>isRTMultiATECOCodeSupportEnabled</code> del modulo <code>posware.fiscalprinter</code> al valore <code>True</code>.  </li> <li>Avviare Posware. Qualora si dovesse ricevere un errore di configurazione, effettuare una chiusura fiscale e riavviare Posware.</li> <li>Qualora si dovesse continuare a ricevere un errore di configurazione, \u00e8 necessario verificare la programmazione.</li> </ol>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#sistema-di-verifica-della-configurazione_1","title":"Sistema di verifica della configurazione","text":"<p>All'avvio di Posware, verr\u00e0 verificata la configurazione dei codici ateco del Frontend rispetto a quella programmata nella stampante. In caso venisse rilevata una configurazione errata, verr\u00e0 mostrato un messaggio popup con uno di questi possibili messaggi di errore:</p> <p><pre><code>Sono presenti XX reparti con indice ateco 0. Se il supporto a codici ateco multipli \u00e8 attivo, per ogni reparto cassa \u00e8 obbligatorio specificare un indice codice ateco che sia diverso da 0.\n</code></pre> oppure:</p> <pre><code>Il numero degli indici ateco configurati nei reparti di Posware (XX) supera quelli programmati nella stampante (YY). Verificare la programmazione.\n</code></pre> <p>oppure:</p> <p><pre><code>Nella stampante sono stati configurati dei codici ateco. Abilitare la funzionalit\u00e0 multi ateco di Posware in tabparametriextra oppure rimuovere gli indici programmati nella stampante. Verificare la programmazione.\n</code></pre> Tutti gli errori sono auto-esplicativi.  Anche in caso di Server Rt Epson, Posware controlla lo stato di attivazione della funzione. \u00c8 mandatorio allineare le impostazioni multi-ateco tra Posware e Registratore Telematico. In caso contrario Posware si chiuder\u00e0 automaticamente alla chiusura del messaggio di avviso.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#limitazioni_1","title":"Limitazioni","text":"<ul> <li>Il Registratore Telematico non permette di mischiare in una unica transazione, prodotti appartenenti a diversi codici ateco.  In tal caso la transazione verr\u00e0 annullata causando errore opos <code>207</code> oppure errore opos generico.</li> <li>Per effettuare cambiamenti ai codici ateco o abilitare/disabilitare il supporto multi ateco, \u00e8 quasi sempre necessario effettuare una chiusura fiscale.</li> <li>La programmazione dei codici ateco non viene effettuata dal Posware. \u00c8 necessario utilizzare i tool specifici del Registratore Telematico</li> <li>Non \u00e8 possibile in nessun caso assegnare un prodotto ad uno specifico codice ateco. Solo i reparti possono essere assegnati, di conseguenza tutti i prodotti di quel determinato reparto verranno venduti su quello specifico codice ateco.</li> </ul>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#tabella-di-compatibilita-delle-funzionalita","title":"Tabella di compatibilit\u00e0 delle funzionalit\u00e0","text":"<p>Il supporto \u00e8 da considerarsi a partire dalla versione <code>4.2.0</code> se non specificato diversamente nelle note.</p> Funzionalit\u00e0 EPSON RT-ONE NCR 130-A Server RT EPSON Note Nuove forme di pagamento Supportato Supportato Supportato Supportato Ticket numerati manuali Supportato Supportato Supportato Supportato Ticket numerati su pagamento elettronico e dematerializzato Supportato Supportato Supportato Supportato Nota di credito Supportato Supportato Supportato Supportato Arrotondamento tramite Registratore Telematico Supportato Supportato Supportato Supportato Vendita di servizi Supportato Non supportato da Posware Al momento non supportato. Il supporto verr\u00e0 aggiunto Supportato Gestione multi-ateco Supportato Non supportato da Posware Il registratore non supporta tale funzionalit\u00e0 Supportato"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#addendum","title":"Addendum","text":"<ul> <li>Nel caso di nota di credito manuale e tipologia documento Matricola, \u00e8 possibile inserire il codice lotteria durante la transazione qualora presente nel documento commerciale di origine. Come da normativa, non \u00e8 possibile imputare il codice lotteria in caso di tipologia documento ND o POS. In tal caso verr\u00e0 segnalata operazione non valida ed il codice verr\u00e0 ignorato.</li> <li>Il codice lotteria in fase di nota credito pu\u00f2 essere imputato solo dopo aver inserito tutti gli articoli nella transazione e prima della scelta del pagamento. In tutte le altre fasi guidate, sar\u00e0 segnalata una operazione non consentita.</li> <li>In caso di presenza nella transazione di un codice fiscale, il codice lotteria rimuove il codice fiscale. Porre attenzione a quale dei due codici erano presenti sul documento di origine. I due codici sono sempre mutuamente esclusivi.</li> </ul>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#configurazione-server-rt","title":"Configurazione Server RT","text":""},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#cenni-preliminari_1","title":"Cenni preliminari","text":"<p>Per poter utilizzare le funzioni di vendita a servizi, vendita con codici in esenzione e/o multiateco \u00e8 necessario effettuare la trasmissione Iva/Reparti su ServerR.</p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#configurazioni","title":"Configurazioni","text":"<p>E' stata introdotta una funzione di trasmissione Iva/Reparti su ServerRt che permette la corretta gestione della programmazione in Posware. Questa funzione \u00e8 richiamabile manualmente, predisponendo un terminale specializzato, ed incrociando il codice <code>TX_PROG_SERVER_RT</code> presente nella tabella <code>Config_Tast</code> (inserirlo se mancante) in grafica ad un opportuno pulsante.  Al fine di configurare opportunamente la tabella delle Ive occorre tener presente che i codici di esenzione dovranno seguire quanto specificato nella seguente tabella:</p> IndiceVatTable Simb.Stampa Descrizione Natura 0 ES Esente N4 10 EE Esclusa N1 11 NS Non Soggetta N2 12 NI Non Imponibile N3 13 RM Regime del margine N5 14 AL Operazione non IVA N6 <p>La tabella sopra riportata segue quanto indicato dal manuale Epson per il Server Rt, per variazioni o tabelle aggiornate fare sempre riferimenti alla documentazione ufficiale </p>"},{"location":"old-docs/posware42/posware42-funzionalita-rt-20.html#limitazioni-e-vincoli","title":"Limitazioni e vincoli","text":"<ul> <li>Questa programmazione sar\u00e0 consentita solo a giornata chiusa</li> <li>Lo stato di giornata chiusa nei server Rt si ottiene dopo aver eseguito la chiusura fiscale di tutti i tills e la chiusura del Server stesso</li> <li>Se la giornata \u00e8 aperta sar\u00e0 mostrato un messaggio che informa che lo stato del Server non \u00e8 congruente.</li> </ul>"},{"location":"old-docs/posware42/posware42-general-overview.html","title":"Posware 4.2","text":""},{"location":"old-docs/posware42/posware42-general-overview.html#manuale-di-attivazione-ed-utilizzo","title":"Manuale di attivazione ed utilizzo","text":"<p>Il presente documento descrive i nuovi requisiti minimi e le procedure necessarie all'installazione di Posware v4.2 e superiori.</p>"},{"location":"old-docs/posware42/posware42-general-overview.html#data-ultimo-aggiornamento-19102021","title":"Data ultimo aggiornamento: 19/10/2021","text":""},{"location":"old-docs/posware42/posware42-general-overview.html#versioni-software-di-riferimento","title":"Versioni software di riferimento","text":"<ul> <li>Posware 4.2.0.0 o superiore</li> <li>.NET Framework 4 - Windows XP/Embedded/2009</li> <li>.NET Framework 4.8 - Windows 10/8.1/8/7 </li> </ul>"},{"location":"old-docs/posware42/posware42-general-overview.html#cenni-preliminari","title":"Cenni preliminari","text":""},{"location":"old-docs/posware42/posware42-general-overview.html#posware","title":"Posware","text":"<p>La versione minima di Posware richiesta \u00e8 la v. <code>4.1.404</code> .  Se la versione installata \u00e8 minore, per effettuare l'upgrade alla versione v. <code>4.2.x</code> \u00e8 necessario prima aggiornare Posware ad una versione pari o superiore alla v. <code>4.1.404</code>.</p>"},{"location":"old-docs/posware42/posware42-general-overview.html#sistema-operativo","title":"Sistema operativo","text":"<p>Sono supportate tutte le versioni di Windows a partire da Windows XP *.  Preferire sempre sistemi operativi pi\u00f9 aggiornati ove possibile al fine di minimizzare migrazioni forzate in futuro.</p> <p>Per le ultime feature disponibili e le massime prestazioni possibili, utilizzare Windows 10 version 1909 (November 2019 Update) o superiore.  Accelerazione via GPU disponibile a partire da Windows 7.</p> <p>Con sistemi operativi basati su Windows XP, sono presenti limitazioni nella fruizione di servizi moderni quali WebService e servizi Cloud.  Tutti i servizi che utilizzano il protocollo di sicurezza TLS 1.2 non sono supportati.  Tutte le ottimizzazioni basate sull'accelerazione grafica hardware (GPU) non saranno attive in quanto non supportate.  Queste limitazioni sono ereditate dall'obolescenza intrinseca di Windows XP, non pi\u00f9 supportato ed aggiornato da Microsoft. Prendere visione della sezione Breaking Changes contenente le informazioni end-of-support per Posware.</p>"},{"location":"old-docs/posware42/posware42-general-overview.html#tabella-di-riferimento-net-framework","title":"Tabella di riferimento .NET Framework","text":"<p>Seguire con scrupolo la tabella di riferimento per installare la corretta versione di .NET framework per ogni sistema operativo. Si raccomanda di leggere le note allegate.</p> Windows .NET Framework Note Link Windows XP based (Embedded/Embedded 2009) 4.0 Si consiglia di installare anche gli aggiornamenti da Windows Update. In particolare l'update 4.0.3 -  * Alcune limitazioni presenti  **Installazione <code>Client Profile</code> non supportata Offline Installer Windows 7 / Embedded 7 / POSReady 7 4.8 Offline Installer - Web Installer Windows 8 / Embedded 8 Industry / 8.1 / Embedded 8.1 Industry 4.8 Offline Installer - Web Installer Windows 10 4.8 Seguire le indicazioni ufficiali Microsoft per l'installazione, non sempre \u00e8 necessaria. Offline Installer - Web Installer <p>La tabella completa fornita da Microsoft pu\u00f2 essere consultata qui</p>"},{"location":"old-docs/posware42/posware42-general-overview.html#supporto-posfornet","title":"Supporto PosForNet","text":"<p>Posware <code>4.2</code> non supporta alcun driver PosForNet. Sono gestiti solo i driver OPOS dei registratori telematici e delle stampanti termiche supportate.</p>"},{"location":"old-docs/posware42/posware42-general-overview.html#adeguamenti-per-il-driver-opos-diebold-nixdorf-con-rt-one","title":"Adeguamenti per il driver OPOS Diebold-Nixdorf con RT-One","text":"<p>Se la stampante collegata a Posware \u00e8 la Diebold RT-One, \u00e8 necessario impostare nel file <code>Posware.exe.config</code> l'attributo <code>useLegacyV2RuntimeActivationPolicy</code> dell'elemento <code>startup</code> a true. L'attributo \u00e8 lo stesso utilizzato per abilitare la compatibilit\u00e0 con Crystal Report.</p> <p>Esempio: <pre><code>  &lt;startup useLegacyV2RuntimeActivationPolicy=\"true\"&gt;\n    &lt;supportedRuntime version=\"v4.0\" sku=\".NETFramework,Version=v4.8\" /&gt;\n  &lt;/startup&gt;\n</code></pre></p> <p>Qualora si stesse effettuando una migrazione dal driver PosForNet ISID al driver OPOS Diebold-Nixdorf, \u00e8 possibile rimuovere dal file <code>Posware.exe.config</code> l'elemento</p> <p><pre><code>&lt;NetFx40_LegacySecurityPolicy enabled=\"true\" /&gt;\n</code></pre> In caso di errore di tipo <code>System.AccessViolationException</code>, ripristinare l'elemento.</p> <p>A partire dalla versione 4.1.370, rilasciata con gli adeguamenti alla normativa RT XML7, il driver PosForNet \u00e8 stato sostituito con il driver OPOS ufficiale Diebold. Consultare il documento Adeguamenti RT XML 7 per ulteriori approfondimenti</p>"},{"location":"old-docs/posware42/posware42-general-overview.html#adeguamenti-per-crystal-report","title":"Adeguamenti per Crystal Report","text":"<p>Per poter continuare ad utilizzare le stampe generate da Crystal Report, \u00e8 necessario:</p> <ul> <li>Copiare all'interno della cartella di posware il Plug-In Posware.Legacy.CrystalReport.dll . </li> <li>Impostare nel file <code>Posware.exe.config</code> l'attributo <code>useLegacyV2RuntimeActivationPolicy</code> a true. L'attributo fa parte dell'elemento <code>&lt;startup&gt;</code></li> </ul> <p>Il file dll non viene distribuito assieme al setup di Posware in quanto entrato in fase di obsolescenza. Verr\u00e0 sostituito nelle prossime versioni. Al momento viene garantit\u00e0 la retro-compatibilit\u00e0. Il file \u00e8 disponibile su richiesta a chi ne fa uso.</p> <p>IMPORTANTE: Non attivare l'attributo <code>useLegacyV2RuntimeActivationPolicy</code> se non si fa uso di Crystal Report o se il registratore telematico collegato non \u00e8 un Diebold-Nixdorf RT-One</p>"},{"location":"old-docs/posware42/posware42-general-overview.html#adattatori-self-checkout-sco","title":"Adattatori Self-Checkout (SCO)","text":"<p>A partire da Posware <code>4.2</code>, la major e minor version degli adattatori \u00e8 stata allineata con Posware Frontend  La versione minima degli adattatori SCO supportata \u00e8 la v.<code>4.2.x</code>.</p>"},{"location":"old-docs/posware42/posware42-general-overview.html#breaking-changes","title":"Breaking Changes","text":""},{"location":"old-docs/posware42/posware42-general-overview.html#aggiornamento-automatico-della-tabella-iva-reparti-dei-registratori-telematici","title":"Aggiornamento automatico della tabella IVA / Reparti dei registratori telematici","text":"<p>A partire dalla versione <code>4.2</code>, Posware sincronizzer\u00e0 sempre ed in maniera automatica le tabelle IVA dei registratori telematici a partire dalla sua configurazione IVA (tabella <code>codiva</code>).  Al primo upgrade dalla versione <code>4.1.x</code> alla <code>4.2.x</code>, se il registratore telematico ha effettuato transazioni (la giornata fiscale \u00e8 aperta), verr\u00e0 eseguita una chisura fiscale per poter riallineare la tabella IVA/Reparti del registratore telematico.  Se il registratore telematico dall'ultima chiusura fiscale non ha effettuato nuove transazioni, le tabelle IVA verranno automaticamente sincronizzate senza la necessit\u00e0 di una ulteriore chiusura fiscale.</p> <p>Nel caso in cui l'impostazione <code>CaricaTabIVA</code> all'interno della tabella <code>config_cassa</code> fosse stata disattivata, il setup di aggiornamento riabiliter\u00e0 automaticamente questa impostazione.</p>"},{"location":"old-docs/posware42/posware42-general-overview.html#termine-del-supporto-delle-tastiere-fisiche","title":"Termine del supporto delle tastiere fisiche","text":"<p>A partire dalla versione 4.1, non verr\u00e0 pi\u00f9 sviluppata e manutenuta la compatibilit\u00e0 con le tastiere fisiche. I sistemi non ancora dotati di touchscreen, dovranno effettuare l'upgrade per continuare ad utilizzare tutte le ultime funzionalit\u00e0.  Il supporto attuale, ove presente, non verr\u00e0 rimosso. Non verr\u00e0 comunque garantita in futuro, in caso di modifiche/aggiornamenti alle funzionalit\u00e0 esistenti, la compatibilit\u00e0 tastiera fisica.  Le nuove funzionalit\u00e0 relative alla lotteria degli scontrini, saranno compatibili solo con i sistemi touchscreen.</p>"},{"location":"old-docs/posware42/posware42-general-overview.html#termine-del-supporto-ai-sistemi-windows-xp-based","title":"Termine del supporto ai sistemi Windows XP based.","text":"<p>A partire dalla versione 4.1, l'installazione su sistema operativo Windows XP \u00e8 stata deprecata ed \u00e8 entrata in fase maintenance: saranno forniti solo bugfix ed aggiornamenti di legge fino al 31/12/2021.  La versione <code>4.2.x</code> per Windows XP rientra in questa scadenza e sar\u00e0 rilasciata fino al 31/12/2021.  Dal 01/01/2022 non verranno effettuati ulteriori rilasci. Eventuali nuove release del ramo 4.2.x saranno disponibili solo per o.s. pari o successivi a Windows 7.</p> <p>Sono coinvolti tutti i sistemi operativi basati su Windows XP - major version 5  (XP/Embedded/Foundation/PosReady 2009).</p> <p>I nuovi sviluppi contempleranno solo gli o.s. da Windows 11 a Windows 7 ed i runtime di riferimento saranno il .NET Framework 4.8 e  NET 5.x/6.x. </p>"},{"location":"old-docs/posware42/posware42-general-overview.html#posupdate-per-os-windows-xp-based","title":"PosUpdate per o.s. Windows XP based","text":"<p>A partire dalla versione <code>4.1</code>, il file di aggiornamento di versione per Windows XP \u00e8 ora nominato PosUpdateNET40_4.1.x.x .  Posware <code>4.2</code> per Windows XP mantiene la nomenclatura PosUpdateNET40_4.2.x.x .  Per tutti gli altri sistemi operativi con runtime .net Framework 4.8, il nome del file rimane invariato all'attuale PosUpdate_4.2.x.x</p>"},{"location":"old-docs/posware42/posware42-general-overview.html#procedura-di-installazione","title":"Procedura di installazione","text":"<p>Se l'aggiornamento viene effettuato da Posware versione <code>4.0.x</code>, effettuare prima l'aggiornamento alla versione <code>4.1.404</code> (o altra versione superiore alla <code>4.1.404</code>).  Consultare il documento <code>Posware 4.1 - .NET 4.x Runtime Notes</code> per le istruzioni di upgrade dalla versione 4.0.x.</p> <p>Se l'aggiornamento viene effettuato da una versione di Posware minore della <code>4.1.404</code>, aggiornare almeno a quella versione prima di effettuare l'upgrade alla versione <code>4.2.x</code></p> <p>Di seguito i passi da seguire per l'installazione da una versione pari o superiore alla <code>4.1.404</code></p> <ol> <li>Aggiornare firmware e i driver OPOS dei registratori telematici.</li> <li>Aggiornare Posware tramite la comune procedura di <code>PosUpdate</code>.<ul> <li>Se l'aggiornamento avviene per la prima volta dalla versione <code>4.1</code>, verr\u00e0 effettuata automaticamente una chiusura fiscale ed aggiornata la tabella IVA / Reparti del registratore telematico. Vedi Breaking Changes.</li> </ul> </li> </ol> <p>IMPORTANTE: Se l'aggiornamento avviene per la prima volta dalla versione <code>4.1</code>, eseguire sul server di barriera gli script di aggiornamento database <code>carscar_mysql_4.2.0.0.sql</code>, su database MySql, oppure <code>carscar_sqlServer_4.2.0.0</code>, su database SQLServer</p>"},{"location":"old-docs/posware42/posware42-general-overview.html#considerazioni-sullhardware-ed-il-sistema-operativo","title":"Considerazioni sull'hardware ed il sistema operativo","text":"<p>Se l'hardware del POS \u00e8 recente, ma \u00e8 stata applicata una immagine di sistema operativo obsoleta, \u00e8 altamente consigliato migrare ad un sistema operativo pi\u00f9 recente, nell'ordine di priorit\u00e0 Windows 10 -&gt; Windows 8 -&gt; Windows 7.  Preferire sempre sistemi operativi pi\u00f9 aggiornati ove possibile per minimizzare migrazioni forzate in futuro.</p>"},{"location":"old-docs/posware42/posware42-general-overview.html#installazione-del-net-framework-4x","title":"Installazione del .NET Framework 4.x","text":"<p>Installare sempre l'ultima versione disponibile del .NET Framework.  Come da tabella di riferimento, per gli S.O. Windows XP Based utilizzare la <code>v4.0</code>.  Per tutti gli altri Windows pi\u00f9 recenti, installare la <code>v4.8</code>.</p> <p>In caso di nuova installazione in laboratorio, \u00e8 possibile utilizzare l'installer Web del .net Framework 4.8 con la cassa collegata direttamente ad Internet. L'installer Web scaricher\u00e0 ed installer\u00e0 i soli componenti necessari aggiornati per il sistema operativo in uso permettendo di risparmiare tempo. </p> <p>Qualora l'installazione venga fatta in loco / in serie sulle postazioni di produzione, utilizzare gli installer Offline.</p> <p>Per Windows XP e .NET Framework 4, \u00e8 possibile utilizzare solo gli installer Offline. </p>"},{"location":"old-docs/posware42/posware42-general-overview.html#rollback","title":"Rollback","text":"<p>Sono possibili due scenari di rollback:</p> <ul> <li>Dalla versione <code>4.2.x</code> alla <code>4.1.x</code> (fino alla versione <code>4.1.404</code>, non ulteriormente precedente).</li> <li>Da una minor version ad un'altra appartenente sempre al ramo <code>4.2.x</code></li> </ul>"},{"location":"old-docs/posware42/posware42-general-overview.html#rollback-dalla-versione-42x-alla-versione-41x","title":"Rollback dalla versione <code>4.2.x</code> alla versione <code>4.1.x</code>.","text":"<p>Per effettuare il rollback, seguire i seguenti passaggi:</p> <ol> <li>Disinstallare l'aggiornamento da pannello di controllo</li> <li>Eliminare tutti i file .dll e .exe dalla cartella C:\\Programmi\\Posware ( C:\\Program Files\\Posware )</li> <li>Accedere al database MySql <code>cassa</code> ed eliminare dalla tabella <code>dettagli_carscar</code> la colonna <code>tipoArticolo</code> . Salvare la tabella.</li> <li>Accedere al database <code>posware</code> del server di barriera ed eliminare dalla tabella <code>dettagli_carscar</code> la colonna <code>tipoArticolo</code> . Salvare la tabella.</li> <li>Reinstallare tramite <code>PosUpdate</code> una versione <code>4.1.x</code> che sia maggiore o pari alla <code>4.1.404</code></li> <li>Reinstallare nuovamente eventuali Plug-In presenti prima dell'aggiornamento.</li> </ol> <p>Non \u00e8 necessario disinstallare alcun aggiornamento eventualmente eseguito per il .NET Framework  Non \u00e8 necessario disinstallare alcun aggiornamento eseguito per i driver OPOS  Non \u00e8 necessario effettuare il downgrade di firmware dei registratori telematici.  Ripristinare solo Posware.</p>"},{"location":"old-docs/posware42/posware42-general-overview.html#rollback-da-una-versione-42x-ad-una-precedente-sempre-del-ramo-42x","title":"Rollback da una versione <code>4.2.x</code> ad una precedente sempre del ramo <code>4.2.x</code>.","text":"<p>Si consideri come esempio il rollback da una ipotetica versione <code>4.2.150</code> alla versione <code>4.2.100</code></p> <ol> <li>Disinstallare l'aggiornamento <code>4.2.150</code> da Pannello di controllo di Windows</li> <li>Disinstallare l'aggiornamento <code>4.2.100</code> da Pannello di controllo di Windows</li> <li>Eliminare tutti i file .dll e .exe dalla cartella C:\\Programmi\\Posware ( C:\\Program Files\\Posware )</li> <li>Reinstallare tramite <code>PosUpdate</code> la versione <code>4.2.100</code></li> <li>Reinstallare nuovamente eventuali Plug-In presenti prima dell'aggiornamento.</li> </ol>"},{"location":"old-docs/posware42/posware42-general-overview.html#known-issues","title":"Known issues","text":""},{"location":"old-docs/posware42/posware42-general-overview.html#posware-termina-in-modo-inaspettato-dopo-aver-effettuato-la-chiusura-fiscale","title":"Posware termina in modo inaspettato dopo aver effettuato la chiusura fiscale","text":"<p>Se dopo aver lanciato la chiusura fiscale il programma termina inaspettatamente, verificare che il parametro <code>PROTOCOLLOBPE</code> del modulo <code>EPPLIB</code> in <code>tabparametriextra</code> non sia impostato erroneamente ad <code>AR</code>. Questa impostazione \u00e8 valida unicamente se sono presenti i buoni pasto elettronici tramite Argentea, in tutti gli altri casi va impostata a stringa vuota. Effettuare la stessa verifica per il parametro <code>PROTOCOLLOBP</code>. Dopo aver impostato a blank questi parametri la chiusura verr\u00e0 effettuata correttamente senza causare l'uscita del programma.</p>"},{"location":"old-docs/posware42/posware42-general-overview.html#posware-restituisce-un-errore-di-tipo-systemaccessviolationexception","title":"Posware restituisce un errore di tipo System.AccessViolationException","text":"<p>Qualora si utilizzino stampanti o moduli esterni con librerie non native .NET, il nuovo runtime 4.8 pu\u00f2 mostrare questo errore.  Per risolvere il problema \u00e8 necessario modificare nel file Posware.exe.config, da false a true, la stringa:</p> <p>Prima:  <code>&lt;NetFx40_LegacySecurityPolicy enabled=\"false\"/&gt;</code>  Dopo:  <code>&lt;NetFx40_LegacySecurityPolicy enabled=\"true\"/&gt;</code></p>"},{"location":"posware-modules/main-module/fatturazione-elettronica.html","title":"Fatturazione elettronica","text":"<p>Prima revisione documento: 18 luglio 2023 Ultima revisione documento: 21 maggio 2025</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#glossario","title":"Glossario","text":"<ul> <li>WebApp: applicazione web che permette di accedere ed utilizzare le funzionalit\u00e0 dello StoreServer;</li> <li>PoswareModule: plug-in dello StoreServer dedicato alla gestione del PPC;</li> <li>SdI: acronimo di Sistema di Interscambio. Gestito dall'Agenzia delle Entrate, \u00e8 un sistema informatico in grado di ricevere e inoltrare le fatture ed effettuare controlli sui file ricevuti;</li> <li>Cedente: l'azienda che genera ed emette la fattura, anche chiamato a volte Fornitore;</li> <li>Fornitore: si intende sempre il Cedente, i termini sono intercambiabili ed usati entrambi nel documento per riferirsi alla stessa cosa;</li> <li>Cliente o Cessionario: il soggetto giuridico o persona fisica che riceve la fattura. Di fatto \u00e8 il cliente che ha effettuato l'acquisto;</li> <li>PA: acronimo di Pubblica Amministrazione;</li> <li>AdE: acronimo di Agenzia delle Entrate;</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#cenni-preliminari","title":"Cenni preliminari","text":"<p>Il modulo offre all'utente la possibilit\u00e0 di:</p> <ul> <li>Emettere fatture elettroniche a partire dai documenti commerciali - vendite da scontrino fiscale;</li> <li>Stornare le fatture emesse attraverso l'emissione di note di credito;</li> <li>Visualizzare e ricercare le fatture e le note di credito emesse;</li> <li>Gestire le anagrafiche di fatturazione - l'archivio dei clienti di fatturazione;</li> <li>Personalizzare le informazioni riguardanti il cedente.</li> </ul> <p>Licenza d'uso richiesta</p> <p>Le funzioni descritte si trovano nella sezione Fattura elettronica della WebApp dello StoreServer, raggiungibile dalla sidebar di sinistra solo ed esclusivamente se si \u00e8 acquistata ed attivata la licenza del relativo modulo.</p> <p>Se si desidera utilizzare le varie funzionalit\u00e0 della fattura elettronica \u00e8 obbligatorio attivarne la licenza. Per farlo consultare il paragrafo relativo della documentazione.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#vincoli-ed-esclusioni","title":"Vincoli ed esclusioni","text":"<p>Il modulo permette di emettere unicamente Fatture immediate e Note di credito derivanti da esse. Non \u00e8 possibile emettere Fatture differite. Il modulo non supporta documenti commerciale di vendita emessi con ventilazione IVA. \u00c8 supportato solo il regime IVA certa.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#versioni-software","title":"Versioni software","text":"<p>\u00c8 richiesta la versione v. <code>4.3.x</code> di Posware Frontend.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#requisiti-hardware","title":"Requisiti hardware","text":"<p>\u00c8 possibile usare questo modulo solo con stampanti RT. L'emissione di fatture elettroniche a partire da Server RT non \u00e8 supportata.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#installazione","title":"Installazione","text":"<p>Il modulo \u00e8 incluso out-of-the-box nello StoreServer, non necessita di alcuna installazione aggiuntiva. \u00c8 necessario l'acquisto di una licenza dedicata per poter usare la funzionalit\u00e0.  In presenza di licenza, all'avvio dello StoreServer il modulo sar\u00e0 automaticamente abilitato. In caso contrario, dopo l'inserimento della licenza, riavviare lo StoreServer.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#funzionalita","title":"Funzionalit\u00e0","text":"","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#come-accedere-al-modulo","title":"Come accedere al modulo","text":"<p>All'apertura della WebApp verr\u00e0 mostrata la Dashboard generale dello StoreServer.\u00c8 possibile accedere funzionalit\u00e0 della fatturazione elettronica tramite la sidebar di sinistra: nella sezione MODULI, \u00e8 presente la voce Fattura elettronica.</p> <p>Cliccando su questa si aprir\u00e0 il men\u00f9 sottostante e appariranno le seguenti voci:</p> <ul> <li>Dashboard</li> <li>Clienti</li> <li>Impostazioni</li> </ul> <p></p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#dashboard","title":"Dashboard","text":"<p>Questa schermata rappresenta per l'utente uno sguardo veloce e d'insieme a tutto ci\u00f2 che serve per poter gestire in maniera semplificata la fatturazione elettronica. \u00c8 stata concepita in modo tale che sia:</p> <ul> <li>semplice: fornisce in breve i dettagli pi\u00f9 importanti, come le fatture pi\u00f9 recenti emesse;</li> <li>veloce: si hanno a portata di click tutte le principali funzioni, come quella per generare una fattura o quella per creare un nuovo cliente in anagrafica.</li> </ul> <p>A seguire una schermata di esempio:</p> <p></p> <p>Da questa schermata \u00e8 possibile usare le funzionalit\u00e0 di:</p> <ul> <li>Generazione fatture elettroniche</li> <li>Consultazione dei documenti recenti emessi</li> <li>Rigenerazione dei documenti emessi</li> <li>Storno delle fatture (generazione delle note di credito)</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#verifica-automatica-delle-informazioni-anagrafiche-del-fornitorecedente","title":"Verifica automatica delle informazioni anagrafiche del Fornitore/Cedente","text":"<p>Accedendo alla Dashboard, verr\u00e0 effettuato un controllo delle informazioni del fornitore (cedente) memorizzate nel database.</p> <p>Per poter utilizzare correttamente il modulo ed emettere delle fatture \u00e8 obbligatorio impostare correttamente i dati fiscali del punto di vendita.</p> <p>In presenza di errori o difformit\u00e0 del dato presente, si verr\u00e0 dirottati sulla schermata di editing dei dati del fornitore (cedente).</p> <p>Un avviso in alto indicher\u00e0 che sono stati riscontrati errori:</p> <p></p> <p>Controllo ad ogni accesso</p> <p>Il controllo integrato delle informazioni del cedente viene effettuato ad ogni accesso per garantire la conformit\u00e0 del dato che verr\u00e0 usato per generare le fatture elettroniche e ridurre eventuali rifiuti da parte dell'AdE/Sdi</p> <p>Finch\u00e8 i dati non risulteranno inseriti e formalmente corretti, il software continuer\u00e0 a dirottare l'utente su questa schermata.</p> <p>Per ulteriori approfondimenti consultare la sezione dedicata alla personalizzazione dei dati del cedente.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#generazione-fatture-elettroniche","title":"Generazione fatture elettroniche","text":"<p>Una fattura elettronica pu\u00f2 essere generata a partire da un documento commerciale - scontrino fiscale - emesso da una stampante RT.</p> <p>Server RT non supportati</p> <p>Non \u00e8 attualmente possibile emettere fatture con questo modulo se \u00e8 utilizzato un Server RT.</p> <p>\u00c8 garantita la compatibilit\u00e0 solo con le stampanti RT.</p> <p>Per generare una fattura elettronica \u00e8 necessario porre l'attenzione alla sezione Task veloci della Dashboard.</p> <p></p> <p>Cliccando sul primo pulsante (Nuova fattura) si acceder\u00e0 ad una nuova schermata: il wizard di creazione di una nuova fattura.</p> <p>Verifica dati anagrafici del cedente (punto di vendita che emette la fattura)</p> <p>La verifica dei dati del fornitore viene effettuata anche quando si tenta di generare una nuova fattura. Qualora i dati non risultassero validi si verr\u00e0 reindirizzati alla pagina di editing del cedente / fornitore.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#ricerca-transazionescontrino","title":"Ricerca transazione/scontrino","text":"<p>Il primo step necessario \u00e8 reperire i dati della transazione da fatturare.</p> <p></p> <p>\u00c8 possibile reperire i dati di transazione in due modi:</p> <ul> <li>via barcode: sar\u00e0 necessario scansionare o digitare il barcode associato allo scontrino;</li> <li>inserendo i dati manualmente: sar\u00e0 necessario inserire gli estremi della transazione, quali:<ul> <li>data</li> <li>numero del terminale cassa</li> <li>numero della transazione, o in alternativa</li> <li>numero dello scontrino</li> </ul> </li> </ul> <p>Inserimento del numero della transazione e del numero dello scontrino</p> <p>I campi <code>Numero transazione</code> e <code>Numero scontrino</code> sono pensati per essere indicati come alternativa l'uno dell'altro. </p> <p>Qualora si possedessero entrambi, \u00e8 consigliabile inserire solo il numero della transazione per evitare di incorrere in eventuali errori di coerenza tra i due dati in caso di trascrittura errata.</p> <p>I metodi di ricerca sono tra loro mutuamente esclusivi. Selezionandone uno si esclude automaticamente l'altro. Se ricerchi per barcode, non puoi ricercare usando gli estremi della transazione.</p> <p></p> <p></p> <p>Dopo l'inserimento dei dati, premere su Continua per procedere allo step successivo.</p> <p>Nel caso in cui la transazione non venisse trovata, verr\u00e0 mostrato il seguente messaggio di errore:</p> <p></p> <p>Procedere con il controllo dei dati inseriti e riprovare cliccando su Continua.</p> <p>Ricezione dei dati</p> <p>Se la transazione non viene trovata e sei assolutamente sicuro che i dati siano corretti, \u00e8 possibile che lo scontrino ancora non \u00e8 stato inviato dalle casse allo StoreServer</p> <p>Attendere fino ad 1 minuto dopo che la cassa ha terminato le operazioni di vendita e risulta in stand-by.</p> <p>Dopo l'attesa provare ancora a ricercare la transazione.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#seleziona-la-tipologia-del-cliente-a-cui-fatturare","title":"Seleziona la tipologia del cliente a cui fatturare","text":"<p>In questa schermata saranno presenti tre pulsanti:</p> <ol> <li>Partita IVA</li> <li>Pubblica amministrazione</li> <li>Privato / No-Profit</li> </ol> <p></p> <p>La scelta di una delle tre opzioni presentate in questo step influenzer\u00e0 la selezione del cliente nello step successivo:</p> <ul> <li>Selezionando il primo pulsante il cliente destinario della fattura, verr\u00e0 ricercato esclusivamente tra i soggetti giuridici in possesso di una partita IVA</li> <li>Selezionando il secondo verr\u00e0 ricercato esclusivamente tra gli enti della Pubblica Amministrazione</li> <li>Scegliendo il terzo la ricerca verr\u00e0 effettuata tra i clienti persone fisiche (che non hanno partita IVA).</li> </ul> <p>Dopo la scelta, proseguire allo step successivo cliccando su Continua.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#scelta-del-cliente","title":"Scelta del cliente","text":"<p>In questa schermata \u00e8 presente una barra di ricerca in cui \u00e8 possibile digitare un testo di ricerca.In base al testo di ricerca, la ricerca verr\u00e0 effettuata sulla denominazione del cliente, sul codice della card fidelity, sulla partita IVA o sul codice fiscale.</p> <p>\u00c8 anche possibile digitare direttamente il codice identificativo del cliente, rappresentato da un numero, che \u00e8 possibile trovare nel titolo della scheda anagrafica di esso.</p> <p></p> <p>Dopo aver scritto nella barra, premendo il pulsante Cerca o <code>Invio</code> dalla tastiera, verranno ricercati i clienti nell'anagrafica.In caso ne venga trovato qualcuno che soddisfi i criteri di ricerca, sotto alla barra comparirebbe una tabella contenente delle brevi descrizioni dei clienti recuperati. </p> <p></p> <p>Per procedere avanti, selezionare un cliente dalla tabella e cliccare su Continua.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#dettagli-fattura","title":"Dettagli fattura","text":"<p>Questo step \u00e8 opzionale e viene mostrato solo se la tipologia del cliente necessita di ulteriori informazioni per la fatturazione.</p> <p>Se il cliente \u00e8 una Pubblica Amministrazione, sar\u00e0 necessario inserire le informazioni relative al contratto, alle gare d'appalto o altro necessario per fatturare a questa tipologia di cliente.</p> <p>Il valore predefinito dell'esigibilit\u00e0 IVA per tutti i casi d'uso \u00e8 sempre IMMEDIATA. In caso di cliente Pubblica Amministrazione, sar\u00e0 invece attivo lo Split Payment come previsto da normativa vigente.</p> <p>Per ulteriori approfondimenti si rimanda alla sezione dedicata.</p> <p>Esigibilit\u00e0 IVA differita</p> <p>Il modulo non supporta l'esigibilit\u00e0 IVA differita e non \u00e8 possibile emettere in qualit\u00e0 di cedente / fornitore, fatture secondo i principi di IVA per cassa ai propri clienti.</p> <p></p> <ul> <li>Split payment: lo split payment \u00e8 applicabile solamente ai documenti gestionali non fiscali.</li> </ul> <p>In questa schermata sono presenti anche dei campi che danno la possibilit\u00e0 all'utente di inserire i dati che riguardano l'ordine d'acquisto e il contratto come ID, codice CIG e codice CUP. \u00c8 obbligatorio inserire almeno uno tra ordine d'acquisto e contratto.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#finalizzazione-ed-emissione-fattura","title":"Finalizzazione ed emissione fattura","text":"<p>In questo punto \u00e8 possibile confermare o selezionare la data di operazione della fattura.</p> <p>Il modulo emette unicamente Fatture Immediate, per cui la data dell'operazione equivale tassativamente alla data di emissione del documento commerciale di vendita - scontrino .</p> <p>Come eccezione a questo vincolo, qualora non fossero gi\u00e0 state emesse fatture in una data successiva, \u00e8 possibile emettere una fattura per un documento commerciale emesso fino ad 11 giorni dopo l'emissione dello scontrino, rispettando il mese di liquidazione IVA. </p> <p>Vincoli sulla data di operazione della fattura elettronica</p> <p>La data di operazione non pu\u00f2: - essere inferiore alla data dell'ultima fattura generata, qualora vi fossero altre fatture precedentemente emesse - non potr\u00e0 essere inferiore alla data di emissione del documento commerciale di vendita - La data di operazione non pu\u00f2 essere superiore alla data attuale. - rispettare i vincoli di liquidazione IVA (vedi paragrafo pi\u00f9 in basso)</p> <p>L'app selezioner\u00e0 automaticamente la data pi\u00f9 appropriata.</p> <p>Limite di emissione di 11 giorni</p> <p>Un documento ha tempo fino a 12 giorni dalla data di operazione per essere ricevuto dall'Agenzia delle Entrate. Il limite \u00e8 imposto dall'Agenzia delle Entrate stessa. Tuttavia il software non permette di andare oltre gli 11 giorni per avere 1 giorno di tempo per la consegna verso lo Sdi (che rappresenta l'emissione effettiva della fattura).</p> <p>Ci\u00f2 non significa automaticamente che si possa sempre emettere una fattura per un documento commerciale fino ad 11 giorni dopo la stampa dello scontrino.</p> <p>Questa restrizione si unisce ad altri vincoli imposti quali: </p> <ul> <li>Rispettare la liquidazione IVA del mese</li> <li>La presenza di fatture di un altri documenti emesse prima di quello che si sta tentando di fatturare</li> </ul> <p>Il software selezioner\u00e0 automaticamente sempre la data di operazione corretta e non permetter\u00e0 di selezionarne una errata al fine di evitare scarti da parte dello Sdi.</p> <p>Ulteriori info sul mese di liquidazione IVA</p> <p>Se il mese di liquidazione IVA corrente non corrisponde al mese di liquidazione dell'emissione del documento commerciale, sar\u00e0 possibile scegliere come data di operazione l'ultimo giorno del mese di liquidazione IVA della data di emissione dello scontrino. In altre parole non \u00e8 possibile fatturare con data di Marzo un documento commerciale di vendita emesso a Febbraio.</p> <p>In tal caso la data di operazione che potr\u00e0 essere scelta non potr\u00e0 superare l'ultimo giorno del mese di Febbraio, fermo restando sempre il vincolo degli 11 giorni massimi rispetto alla data di emissione del documento commerciale di vendita.</p> <p></p> <p>Una volta scelta la data di operazione, sar\u00e0 possibile cliccare sul pulsante Genera fattura.</p> <p>Se durante la generazione della fattura si dovessero riscontrare degli errori verrebbe mostrata una finestra pop-up simile a questa:</p>  ![generazione fattura - step 5 - modal di errore - validazione][image_ref_m99jw6h6]  <p>Gli errori in questione sono tutti errori che contravvengono le regole sintattiche e di forma descritte nella sezione che approfondisce la struttura del file XML di una fattura.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#riepilogo-delle-fattura-emessa","title":"Riepilogo delle fattura emessa","text":"<p>In questa schermata verranno riepilogati i dati del documento appena generato se la creazione della fattura \u00e8 andata a buon fine.</p> <p></p> <p>Dopo la creazione della fattura, \u00e8 possibile cliccare su Nuova fattura per poter cominciare il processo di generazione di una nuova fattura elettronica oppure ritornare alla Dashboard per consultare la lista dei documenti emessi di recente, in cui sar\u00e0 presente anche la fattura appena generata.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#consultazione-dei-documenti-recenti-emessi","title":"Consultazione dei documenti recenti emessi","text":"<p>I documenti che sono stati generati di recente possono essere consultati nel relativo componente all'interno della Dashboard.</p> <p></p> <p>Se presenti, vengono visualizzati gli ultimi 10 documenti che sono stati creati.</p> <p>Di ognuno vengono indicati in breve:</p> <ul> <li>il tipo</li> <li>il numero</li> <li>la data di operazione</li> <li>il cliente committente</li> <li>la partita IVA del committente</li> </ul> <p>Cliccando sul numero di riferimento della fattura si aprir\u00e0 una finestra pop-up con tutte le informazioni dettagliate riguardanti il documento selezionato.</p> <p></p> <p>In assenza di documenti emessi di recente, viene mostrato il messaggio \"Non sono presenti documenti da visualizzare\".</p> <p>Oltre la consultazione, \u00e8 possibile effettuare delle ricerche per visualizzare documenti specifici.Cliccando sul pulsante Ricerca in alto a destra verr\u00e0 aperta una finestra pop-up dedicata:</p> <p></p> <p>Selezionando la prima opzione - Via informazioni del documento - appariranno due campi:</p> <ul> <li>Numero documento</li> <li>Data operazione</li> </ul> <p>In questo caso possiamo decidere se usare questi due campi singolarmente o insieme.</p> <p>Esempi di ricerca Via informazioni del documento</p> <p>A scanso di equivoci, vengono riportati di seguito tre esempi di ricerca Via informazioni del documento:</p> <ul> <li>In Numero documento inserisco il numero \"3\" e clicco su Conferma  mi verranno mostrate le fatture 3/A, 3/B, 3/FDG e le note di credito 3/A, 3/D, 3/VCF</li> <li>In Data operazione inserisco \"23/04/2022\"  mi vengono mostrati tutti i documenti generati in quel giorno</li> <li>In Numero documento inserisco il numero \"8\" e in Data operazione inserisco il \"27/03/2023\"  mi vengono mostrati tutti i documenti generati in quel giorno con il numero 8 come numero identificativo</li> </ul> <p>Selezionando la seconda opzione (Via estremi della transazione), invece, sar\u00e0 possibile cercare i documenti utilizzando gli estremi della transazione a cui fanno riferimento (come nel primo step dello wizard per la generazione della fattura elettronica).</p> <p>In questo caso i campi presenti vanno compilati tutti e tre per poter effettuare la ricerca.</p> <p>Esempio di ricerca Via estremi della transazione</p> <p>Nel database sono presenti una fattura generata a partire dalla transazione numero 23 della cassa 2 del 12/05/2023 e la relativa nota di credito. Per ricercarle entrambe inserisco in Data transazione \"12/05/2023\", in Numero cassa inserisco \"2\" e in Numero transazione \"23\".</p> <p>C'\u00e8 anche la possibilit\u00e0 di utilizzare anche tutte e due le opzioni di ricerca insieme. </p> <p>Effettuando la ricerca si noter\u00e0 che il sottotitolo del componente avr\u00e0 cambiato la dicitura da \"Vengono visualizzati gli ultimi 10 documenti emessi\" a \"Vengono visualizzati i risultati per la ricerca\" e sar\u00e0 apparso anche un tag. Questo tag conterr\u00e0 le informazioni sui filtri di ricerca applicati.</p> <p>\u00c8 possibile resettare la ricerca e tornare alla visualizzazione degli ultimi 10 documenti creati pi\u00f9 recentemente cliccando sulla <code>X</code> contenuta nel tag.</p> <p></p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#rigenerazione-dei-documenti-emessi","title":"Rigenerazione dei documenti emessi","text":"<p>Nel caso in cui alcune informazioni inserite in una fattura elettronica o in una nota di credito subiscano aggiornamenti o correzioni, oppure nel caso in cui il file XML del documento venga erroneamente cancellato o risulti danneggiato, \u00e8 possibile rigenerare il documento in questione.</p> <p>In riferimento al paragrafo precedente, si sar\u00e0 notato che all'estrema destra di ogni documento \u00e8 presente un pulsante. Premendolo si aprir\u00e0 un men\u00f9 con le voci:</p> <ul> <li>Rigenera documento</li> <li>Genera nota credito</li> </ul> <p>Quest'ultimo risulter\u00e0 inattivo se il documento selezionato \u00e8 una nota di credito.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#rigenerazione-di-una-nota-di-credito","title":"Rigenerazione di una Nota di credito","text":"<p>Cliccando su Rigenera documento, dopo aver aperto il men\u00f9 selezionando una nota di credito, la rigenerazione verr\u00e0 direttamente avviata.</p> <p>Se la procedura avr\u00e0 successo verr\u00e0 comunicato all'utente tramite una finestra pop-up.Nel messaggio all'interno di questa finestra verr\u00e0 inoltre indicato anche il percorso di destinazione del file XML appena rigenerato.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#rigenerazione-di-una-fattura","title":"Rigenerazione di una Fattura","text":"<p>Cliccando su Rigenera documento, dopo aver aperto il men\u00f9 selezionando una fattura, prima di avviare la rigenerazione verr\u00e0 controllato se esistono dei documenti collegati ad essa. Se non esistessero la rigenerazione si avvier\u00e0 direttamente come nel caso della nota di credito. In caso contrario, apparir\u00e0 una finestra pop-up con la seguente richiesta e tre possibili opzioni di scelta:</p> <p></p> <ul> <li>Annulla: chiude la finestra pop-up e non ha alcun effetto</li> <li>No: avvia la rigenerazione unicamente per la fattura selezionata</li> <li>S\u00ec: avvia la rigenerazione per la fattura selezionata e per tutte le fatture a essa collegate</li> </ul> <p>Se l'operazione dovesse aver successo, si aprirebbe la finestra pop-up che conferma l'avvenuta rigenerazione del documento, o dei documenti se pi\u00f9 di uno.</p> <p>Anche in questo caso, nel messaggio verr\u00e0 indicato il percorso di destinazione del file XML appena rigenerato, per\u00f2 unicamente per la fattura selezionata all'inizio e non quindi per gli eventuali documenti collegati.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#storno-di-una-fattura","title":"Storno di una fattura","text":"<p>Puoi stornare una fattura gi\u00e0 emessa generando una nota di credito collegata alla fattura stessa.</p> <p>Per farlo, accedi alla sezione di consultazione dei documenti emessi, come descritto in precedenza.</p> <p>Nella lista dei documenti, clicca sul pulsante accanto alla fattura per visualizzare il men\u00f9 delle opzioni. Seleziona Genera nota di credito dal men\u00f9 a discesa. A questo punto si aprir\u00e0 una finestra pop-up:</p> <p></p> <p>In questa finestra avrai due opzioni:</p> <ul> <li>Annulla: chiude la finestra senza fare nulla.</li> <li>Conferma: avvia la generazione della nota di credito.</li> </ul> <p>Se l'operazione va a buon fine, riceverai una notifica in un'altra finestra pop-up, dove troverai il percorso del file XML generato e il codice identificativo della nota di credito.</p> <p>Vincoli e scenari supportati</p> <p>Questa funzionalit\u00e0 \u00e8 prevista solo per le fatture elettroniche.</p> <p>Non \u00e8 possibile annullare una nota di credito gi\u00e0 emessa.</p> <p>Se per errore hai emesso una nota di credito per una fattura, puoi creare una nuova fattura partendo dallo stesso documento commerciale di vendita (lo scontrino).</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#impostazioni-personalizzate","title":"Impostazioni personalizzate","text":"<p>Per attivare e rendere fruibile la funzionalit\u00e0 di fatturazione elettronica \u00e8 necessario che alla base vi siano memorizzati dei dati coerenti, utili e pronti per essere usati.A tal fine \u00e8 possibile accedere alla schermata delle impostazioni selezionando Impostazioni dalla sidebar a sinistra della WebApp:</p> <p></p> <p>Come succede per la Dashboard, anche qui si ha la schermata suddivisa in diversi componenti, ognuno con uno scopo diverso.</p> <p></p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#personalizzare-i-dati-di-fatturazione-del-punto-di-vendita-fornitore-cedente","title":"Personalizzare i dati di fatturazione del punto di vendita / fornitore / cedente","text":"<p>Da questa sezione \u00e8 possibile inserire e personalizzare i dati di fatturazione del punto di vendita / fornitore / cedente.</p> <p>I dati editabili sono:</p> <ul> <li>Dati anagrafici:<ul> <li>Ragione sociale (obbligatorio): la stringa che la valorizza pu\u00f2 contenere qualsiasi carattere, e la lunghezza massima \u00e8 di 255 caratteri.</li> <li>Regime fiscale (obbligatorio): i valori possibili per il regime fiscale sono tutti elencati nel men\u00f9 a tendina che \u00e8 presente nella schermata. Di ognuno \u00e8 indicato codice e breve descrizione, per alcuni \u00e8 indicato anche l'articolo legislativo che ne regola il comportamento.</li> <li>Partita IVA (obbligatorio): l'unico tipo di partita IVA accettata da questa applicazione \u00e8 quella italiana. Perci\u00f2 il valore inserito dovr\u00e0 sempre essere caratterizzato dal suffisso IT seguito da 11 cifre.</li> <li>Codice fiscale: questo campo non \u00e8 obbligatorio, tuttavia \u00e8 fortemente consigliato valorizzarlo, perch\u00e9 serve per fornire un elemento aggiuntivo di identificazione del soggetto cedente/prestatore, spesso richiesto per il pagamento. Il valore deve essere una stringa numerica della lunghezza di 11 caratteri.</li> </ul> </li> <li>Indirizzo: rappresenta la sede legale dell'azienda fornitrice. \u00c8 composta dai seguenti campi, tutti obbligatori:<ul> <li>Citt\u00e0 (obbligatorio): questo campo pu\u00f2 contenere una stringa con qualsiasi carattere e lunga non pi\u00f9 di 60.</li> <li>Provincia (obbligatorio): contiene la sigla della provincia che contiene il comune descritto sul campo precedente, quindi la stringa contenuta in questo campo deve essere costituita da 2 lettere. Non ha importanza se le 2 lettere siano maiuscole o minuscole, il sistema le convertir\u00e0 sempre in maiuscolo.</li> <li>CAP (obbligatorio): il formato accettato del valore del CAP prevede che la stringa contenga 5 cifre.</li> <li>Indirizzo (obbligatorio): non sono presenti particolari validatori per questo campo, tuttavia la stringa non pu\u00f2 superare i 255 caratteri.</li> <li>Numero civico (obbligatorio): pu\u00f2 essere valorizzato con una stringa contenente qualsiasi tipo di carattere e lunga al massimo 50.</li> </ul> </li> <li>Iscrizione REA: repertorio delle notizie economiche ed amministrative, \u00e8 possibile scegliere se inserirlo o meno cliccando sulla voce Inserisci iscrizione REA. Attivandola si aprir\u00e0 la sezione contenente i campi da valorizzare:<ul> <li>Numero REA (obbligatorio): deve essere composto da 6 cifre.</li> <li>Ufficio REA (obbligatorio): contiene il codice della provincia che ha assegnato il numero REA, quindi la stringa contenuta in questo campo deve essere costituita da 2 lettere. Non ha importanza se le 2 lettere siano maiuscole o minuscole, il sistema le convertir\u00e0 sempre in maiuscolo.</li> <li>Capitale sociale: \u00e8 valorizzabile con un numero composto da massimo 13 cifre di cui 2 decimali.</li> <li>Socio unico: nel caso di societ\u00e0 di capitali, \u00e8 possibile indicare se trattasi di \"socio unico\". Tuttavia \u00e8 anche possibile non indicare nulla lasciando il men\u00f9 a tendina con la voce Scegli... selezionata.</li> <li>In liquidazione (obbligatorio): con questa voce \u00e8 possibile indicare se la societ\u00e0 \u00e8 in liquidazione o meno.</li> </ul> </li> <li>Contatti (in questa sezione nessun campo \u00e8 obbligatorio):<ul> <li>Telefono: qui possono essere inseriti 12 caratteri di qualsiasi tipo.</li> <li>Email: in questo campo \u00e8 possibile indicare un indirizzo mail di contatto con l'azienda cedente. Deve essere nel formato mail standard.</li> <li>PEC: in questo campo \u00e8 possibile indicare un indirizzo di posta elettronica certificata. Deve essere nel formato mail standard.</li> </ul> </li> </ul> <p>A seguito della modifica, \u00e8 possibile cliccare su Salva per salvare i dati. Da quel momento in poi tutte le fattura saranno emessi con i dati di fatturazione inseriti</p> <p>Campi obbligatori</p> <p>Finch\u00e9 tutti i campi non saranno compilati in modo corretto, il tasto Salva non sar\u00e0 attivo per impedire che vengano memorizzati dei dati con errori sintattici o formali. In assenza di errori il tasto si attiver\u00e0 automaticamente per permetterti di salvare.</p> <p>Le fatture emesse in precedenza non vengono aggiornate</p> <p>Qualora avessi gi\u00e0 emesso delle fatture con dati anagrafici precedenti, non saranno modificate in alcun modo per usare i nuovi dati inseriti. Se \u00e8 tua intenzione correggere fatture emesse con dati anagrafici errati, dopo aver salvato i nuovi dati, puoi Rigenerare la fattura/nota di credito. Per farlo consulta il paragrafo Rigenerazione di una Fattura,</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#opzione-usa-dati-aziendali-differenti-per-la-generazione-delle-fatture-elettroniche","title":"Opzione \"Usa dati aziendali differenti per la generazione delle fatture elettroniche\"","text":"<p>Se attivi questa opzione, potrai utilizzare dei dati aziendali alternativi, da usare esclusivamente per la fatturazione elettronica, senza modificare quelli gi\u00e0 memorizzati per il punto vendita che potrebbero essere usati in altre procedure.</p> <p>Attivando l'opzione si pu\u00f2 notare che i campi della schermata si svuotano e in alto a destra appare il pulsante Ricopia i dati del punto vendita.  \u00c8 ora possibile inserire dati aziendali di fatturazione differenti, senza alterare quelli del punto di vendita.</p> <p>Cliccando sul pulsante Ricopia i dati del punto vendita, i dati aziendali del punto di vendita vengono ricopiati nei vari campi, cos\u00ec da poter modificare solo quelli di cui si necessita specificare un valore differente mantenendo gli altri invariati.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#specificare-un-percorso-di-destinazione-per-il-file-xml-dei-documenti-elettronici","title":"Specificare un percorso di destinazione per il file XML dei documenti elettronici","text":"<p>\u00c8 possibile specificare un percorso a scelta dove verranno salvati i file .XML dei documenti elettronici emessi, sia fatture che note di credito.</p> <p>\u00c8 consigliabile eseguire questa operazione prima di aver emesso dei documenti.</p> <p>Il percorso pu\u00f2 essere digitato nella casella della sezione Percorso di destinazione dei file Xml ed applicato cliccando sul pulsante Salva.</p> <p>L'impostazione si applica solo ai nuovi documenti</p> <p>Se si dovesse variare il persorso di destinazione dopo che alcuni documento sono gi\u00e0 stati emessi, quest'ultimi non verranno automaticamente spostati al nuovo percorso.</p> <p>Qualora fosse necessario, si dovr\u00e0 provvedere autonomamente a spostare i file dal vecchio al nuovo percoso. In alternativa \u00e8 possibile rigenerare i documenti: i file rigenerati saranno salvati nel nuovo percorso.</p> <p>Il percorso di destinazione deve obbligatoriamente rispettare i seguenti criteri: - deve poter essere accessibile in lettura/scrittura dallo StoreServer - deve essere una cartella locale. Cartelle remote, drive esterni, unit\u00e0 di rete collegate e altre tecnologie assimilabili non sono supportate.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#specificare-un-sezionale-per-i-documenti-emessi","title":"Specificare un sezionale per i documenti emessi","text":"<p>\u00c8 possibile emettere i documenti fatture e nota di credito usando un sezionale / registro specifico. Per farlo \u00e8 necessario digitare il sezionale nell'apposito campo e salvare.</p> <p>Sezionale condiviso</p> <p>NOTA BENE: Il sezionale \u00e8 unico e condiviso tra le varie tipologie di documenti.  Verr\u00e0 usato per emettere sia le fatture che le note di credito. Esempio: Se specifichi un sezionale A, tutte le fatture e le note di credito verranno emesse con il numero 1/A, 2/A ecc...</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#modificare-il-sezionale","title":"Modificare il sezionale","text":"<p>Se viene impostato un sezionale e si vuole successivamente modificarlo o rimuoverlo, \u00e8 possibile farlo solo a queste condizioni:</p> <ol> <li>Non \u00e8 stato emesso in precedenza nessun documento nell'anno solare corrente.</li> <li>Non \u00e8 possibile cambiare il valore del sezionale (esempio cambiare da A a B) se per quell'anno solare un sezionale era presente e dei documenti sono gi\u00e0 stati emessi / movimentati.</li> <li>Tra anni diversi \u00e8 possibile poter modificare il sezionale - o semplicemente rimuoverlo -, sempre a condizione che per l'anno in oggetto non vi siano documenti gi\u00e0 emessi / movimentati nel momento in cui si sta tentando di apportare la modifica.</li> <li>Se il sezionale non era presente e si vuole inserirlo, sar\u00e0 possibile farlo se e solo se in quell'anno corrente non \u00e8 ancora presente alcun documento movimentato.</li> <li>La condizione di immutabilit\u00e0 del sezionale una volta movimentati i documenti rimane sempre valida anche se sono stati emessi annulli o note di credito per le fatture emesse. In breve se si hanno la fattura 1/A e la nota di credito 1/A (che la annulla) non sar\u00e0 comunque possibile cambiare il sezionale, nonostante apparentemente non ci siano progressivi movimentati, perch\u00e9 di fatto \u00e8 presente una movimentazione fiscale.</li> </ol>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#specificare-progressivi-di-partenza-per-i-documenti-emessi","title":"Specificare progressivi di partenza per i documenti emessi","text":"<p>In uno scenario di migrazione da un altro software di fatturazione, \u00e8 possibile che si debba iniziare ad emettere i documenti con una numerazione che non parte da 1.</p> <p>Per specificare un numero di partenza diverso, \u00e8 possibile usare la sezione Progressivo documenti ed inserire un numero di partenza. Il progressivo pu\u00f2 essere specificato indifferentemente sia per le fatture che le note di credito (o soltanto uno di essi).</p> <p>Una volta emesso il primo documento, non sar\u00e0 pi\u00f9 possibile modificare manualmente il progressivo.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#ulteriori-approfondimenti","title":"Ulteriori approfondimenti","text":"","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#descrizione-del-file-xml-della-fattura-elettronica","title":"Descrizione del file XML della fattura elettronica","text":"<p>Il file XML che si ottiene durante la creazione della fattura elettronica \u00e8 caratterizzato da una struttura che \u00e8 possibile suddividere in:</p> <ul> <li>Header</li> <li>Body</li> </ul> <p>In questo file saranno contenute le informazioni minime e necessarie per l'accettazione della fattura da parte dell'SdI.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#header","title":"Header","text":"<p>Contiene le informazioni riguardanti il cedente, il cessionario e il canale di trasmissione della fattura. I campi principali di questa sezione sono:</p> <ul> <li> <p>DatiTrasmissione (obbligatorio): i nodi all'interno di questo contenitore identificano in modo univoco il soggetto che trasmette ed il formato di trasmissione. Inoltre, \u00e8 possibile indicare il canale utilizzato dal destinatario della fattura (CodiceDestinatario  o  PECDestinatario). Quando il cliente \u00e8 una PA il campo  CodiceDestinatario  diventa obbligatorio.</p> <ul> <li>IdTrasmittente (obbligatorio): corrisponde all'identificativo del soggetto che trasmette la fattura. Nel caso di soggetti italiani corrisponde al codice fiscale preceduto da IT. A far data del 19/07/2023, il soggetto trasmittente verr\u00e0 in ogni caso considerato situato in Italia.</li> <li>ProgressivoInvio (obbligatorio): rappresenta il progressivo dell'invio effettuato dal soggetto che trasmette. Esso deve essere assegnato dal soggetto che trasmette il documento, secondo sue proprie regole. Per approfondimenti sulla gestione del numero progressivo di invio, consultare la relativa sezione.</li> <li> <p>FormatoTrasmissione (obbligatorio): identifica il formato e la versione del documento trasmesso. I possibili valori sono:</p> <ul> <li><code>PR12</code>: identifica le fatture verso privati. La versione del modello di fattura \u00e8 la 12.</li> <li><code>PA12</code>: identifica le fatture verso le PA. La versione del modello di fattura \u00e8 la 12.</li> </ul> </li> <li> <p>CodiceDestinatario (obbligatorio): identifica l'eventuale canale di trasmissione usato dal destinatario. Per i privati \u00e8 costituito da 7 caratteri alfanumerici, invece per le PA 6. Nel nostro caso non \u00e8 obbligatorio, anzi \u00e8 sconsigliato indicare il codice destinatario per i privati. Per le PA invece \u00e8 sempre obbligatorio.</p> </li> <li>PECDestinatario: la PEC a cui si fa riferimento in questo campo, non \u00e8 semplicemente la PEC del cliente, ma deve essere la PEC che il cliente indica specificatamente per ricevere le fatture elettroniche. Questo campo non \u00e8 obbligatorio.</li> </ul> </li> <li> <p>CedentePrestatore (obbligatiorio): \u00e8 il contenitore di diversi nodi dove vengono specificati i dati relativi al fornitore (cedente/prestatore), ovvero i dati fiscali ed i recapiti. Il cedente verr\u00e0 considerato sempre come azienda e verr\u00e0 quindi esclusa l'ipotesi che possa essere una persona fisica.  </p> <ul> <li> <p>DatiAnagrafici (obbligatorio):</p> <ul> <li>IdFiscaleIVA (obbligatorio): si tratta della partita IVA dell'azienda.</li> <li> <p>Anagrafica (obbligatorio):</p> <ul> <li>Denominazione (in alternativa a  Nome e  Cognome)  </li> <li>Nome (in alternativa a  Denominazione  insieme a  Cognome)</li> <li>Cognome (in alternativa a  Denominazione  insieme a  Nome) </li> </ul> </li> <li> <p>RegimeFiscale (obbligatorio): si valorizza mediante un apposito codice <code>RF</code>.</p> </li> </ul> </li> <li> <p>Sede (obbligatorio): nei figli di questo nodo \u00e8 necessario valorizzare l'indirizzo del fornitore. Per le societ\u00e0 l'indirizzo deve riportare la sede legale, mentre per le ditte individuali va specificato il domicilio fiscale.</p> </li> <li> <p>IscrizioneREA: nei figli di questo nodo vi \u00e8 la possibilit\u00e0 di inserire i riferimenti dell'iscrizione al REA (repertorio delle notizie economiche ed amministrative). </p> <p>Obbligo di iscrizione al REA</p> <p>Per tutti i soggetti iscritti al Registro imprese \u00e8 obbligatoria l'iscrizione al REA, la quale deve essere indicata necessariamente in tutti gli atti e corrispondenza della societ\u00e0, quindi anche nella fattura elettronica (articolo 2250, comma 1, del codice civile).</p> <p>Non sono obbligati all'iscrizione REA:</p> <ul> <li>Il libero professionista la cui professione \u00e8 regolamentata da uno specifico albo (avvocati, notai, commercialisti, ingegneri, architetti, ecc...).</li> <li>Le associazioni, fondazioni, comitati e altri enti non societari che esercitano un\u2019attivit\u00e0 commerciale o agricola, ma per i quali l\u2019esercizio d\u2019impresa non sia l\u2019attivit\u00e0 esclusiva o prevalente. Generalmente nel nome della ditta viene riportata tale tipologia (associazione, fondazione, ecc...).</li> <li>Le imprese con sede principale al di fuori del territorio nazionale che aprano un\u2019unit\u00e0 locale in Italia.</li> </ul> </li> <li> <p>Contatti: contenitore dei nodi volti a specificare i contatti del fornitore (telefono, email).</p> </li> </ul> </li> <li> <p>CessionarioCommittente (obbligatorio): contenitore di diversi nodi dove vengono rappresentati i dati relativi al cliente (cessionario/committente), ovvero i dati fiscali ed i recapiti.</p> <ul> <li> <p>DatiAnagrafici (obbligatorio): contenitore di nodi dove vengono espressi i dati fiscali del cliente (cedente/prestatore) e quelli anagrafici:  </p> <ul> <li>IdFiscaleIVA</li> <li>CodiceFiscale</li> </ul> <p>Vincoli sul nodo DatiAnagrafici</p> <p>Almeno uno tra  CodiceFiscale  e  IdFiscaleIVA  deve essere valorizzato per non incorrere in un errore di scarto da parte del SdI.Se vengono valorizzati entrambi verr\u00e0 effettuato un controllo di coerenza tra i due, quindi \u00e8 preferibile valorizzarne uno solo. </p> <p>A far data del 19/07/2023 nella funzionalit\u00e0 descritta non \u00e8 possibile inserire sia codice fiscale che partita IVA del cessionario.</p> <ul> <li>Anagrafica (obbligatorio): contiene gli stessi figli che sono presenti nel contenitore omonimo del cedente.</li> </ul> </li> <li> <p>Sede (obbligatorio): per le societ\u00e0 l'indirizzo deve riportare la sede legale, mentre per le ditte individuali e i lavoratori autonomi va specificato il domicilio fiscale.</p> </li> </ul> </li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#body","title":"Body","text":"<p>Pu\u00f2 contenere i dati relativi a una o pi\u00f9 fatture. A far data del 19/07/2023, ogni documento generato da questo applicativo conterr\u00e0 le informazioni riguardanti un unico scontrino. </p> <p>I campi principali di questa sezione sono:</p> <ul> <li> <p>DatiGenerali (obbligatorio): nei figli di questo nodo, si trovano informazioni generali sui dati identificativi del documento e i riferimenti dello stesso.</p> <ul> <li> <p>DatiGeneraliDocumento (obbligatorio): in questo nodo \u00e8 necessario specificare alcuni dati identificativi del documento ed altre informazioni generali.</p> <ul> <li>TipoDocumento (obbligatorio): indica il tipo di documento contenuto nell'XML tramite specifico codice, ad esempio se \u00e8 una fattura (<code>TD01</code>) o una nota di credito (<code>TD04</code>).</li> <li>Data (obbligatorio): si riferisce alla data del documento che, nel caso di una fattura immediata, coincide con la data dell'operazione.</li> <li>Numero (obbligatorio): si rimanda la spiegazione al paragrafo Gestione della numerazione di un documento. </li> <li>Divisa (obbligatorio): codice di tre caratteri in formato <code>ISO 4217 alpha-3:2001</code> per identificare la valuta da utilizzare per indicare gli importi. In questa funzionalit\u00e0 sar\u00e0 sempre indicata come <code>EUR</code>.</li> <li>ImportoTotaleDocumento: dovrebbe sempre coincidere con le somme di DatiBeniServizi\\DatiRiepilogo\\ImponibileImporto + DatiBeniServizi\\DatiRiepilogo\\Imposta, ad eccezione del caso in cui il nodo DatiBeniServizi\\DatiRiepilogo\\Natura viene valorizzato con codici <code>N2.1</code> o <code>N2.2</code>. In questo caso DatiBeniServizi\\DatiRiepilogo\\ImponibileImporto pu\u00f2 non essere sommato.</li> <li>Arrotondamento: \u00e8 un arrotondamento pi\u00f9 che altro destinato a far coincidere l'importo della fattura con quello relativo al pagamento (nodo DatiPagamento\\DettaglioPagamento\\ImportoPagamento).</li> <li>Art73: vedi paragrafo Gestione della numerazione di un documento.</li> </ul> </li> <li> <p>DatiOrdineAcquisto: nei figli di questo nodo si possono inserire vari riferimenti che riguardano l'ordine di acquisto del cliente. Se \u00e8 necessario effettuare la fattura alla PA, verranno richiesti dalla UI esplicitamente durante il workflow i campi:</p> <ul> <li>IdDocumento (obbligatorio): identificativo del documento attraverso il quale \u00e8 maturato l'ordine di acquisto.</li> <li>CodiceCUP: acronimo per Codice Unitario Progetto. Caratterizza ogni progetto di investimento pubblico, quindi da utilizzare nel caso il cliente sia una PA.</li> <li>CodiceCIG: acronimo per Codice Identificativo della Gara. Va utilizzato quando il cliente \u00e8 una PA.</li> </ul> <p>Se il cliente finale che richiede la fattura non possiede un ordine di acquisto, viene supportata la possibilit\u00e0 di imputare i dati del contratto. Vedi paragrafo seguente.</p> </li> <li> <p>DatiContratto: nei figli di questo nodo si possono specificare i riferimenti ad un'eventuale contratto che ha maturato la fornitura. Se \u00e8 necessario effettuare la fattura alla PA, verranno richiesti dalla UI esplicitamente durante la procedura di generazione i campi:</p> <ul> <li>IdDocumento (obbligatorio): identificativo del contratto attraverso il quale si \u00e8 perfezionata la fornitura.</li> <li>CodiceCUP: acronimo per Codice Unitario Progetto. Caratterizza ogni progetto di investimento pubblico, quindi da utilizzare nel caso il cliente sia una PA.</li> <li>CodiceCIG: acronimo per Codice Identificativo della Gara. Va utilizzato quando il cliente \u00e8 una PA.</li> </ul> <p>Se il cliente ha sia i dati del contratto che quelli dell'ordine di acquisto, pu\u00f2 inserirli tutti.</p> <p>Il codice CIG e CUP possono anche essere uguali in entrambi i casi (sia per l'ID Contratto che per l'ID Documento di Acquisto).Se il cliente inserisce SOLO CIG e CUP (oppure uno dei due) dovr\u00e0 per forza indicare o un ID Contratto oppure un ID Documento di Acquisto.</p> <p>Non sono supportati altri tipi di dati per CIG/CUP.</p> </li> <li> <p>DatiFattureCollegate: nei figli di questo nodo si potranno specificare durante la generazione di una nota di credito i riferimenti alla fattura da annullare. </p> <ul> <li>IdDocumento (obbligatorio): identificativo della fattura da annullare. \u00c8 costituito da numero progressivo + suffisso.</li> <li>Data: \u00e8 la data di operazione della fattura da annullare.</li> </ul> </li> </ul> </li> <li> <p>DatiBeniServizi (obbligatorio): nei figli di questo nodo vengono inseriti i dati che identificano natura, qualit\u00e0, quantit\u00e0 dei servizi o beni ceduti.</p> <ul> <li> <p>DettaglioLinee (obbligatorio): corrisponde ad una riga della fattura dove vengono descritti e valorizzati uno o pi\u00f9 prodotti/servizi contenuti nello scontrino in questione. I dati che \u00e8 possibile inserire sono:</p> <ul> <li>NumeroLinea (obbligatorio): numero della linea corrispondente dello scontrino.</li> <li>CodiceArticolo: il codice articolo \u00e8 utile al cliente per identificare meglio il bene o servizio. Questo nodo conterr\u00e0 quindi il barcode dell'articolo.</li> <li>Descrizione (obbligatorio): contiene una breve descrizione dell'articolo. </li> <li>Quantita: quantit\u00e0 di prodotto.</li> <li>UnitaMisura: unit\u00e0 di misura del prodotto (<code>PZ</code>, <code>KG</code>, <code>LT</code>).</li> <li>PrezzoUnitario (obbligatorio): si intende il prezzo unitario del prodotto al netto dell'IVA. </li> <li>ScontoMaggiorazione: eventuale sconto o maggiorazione da calcolare sul prezzo unitario senza IVA </li> <li>PrezzoTotale (obbligatorio): \u00e8 il prezzo totale della riga, calcolato dal prezzo unitario per le quantit\u00e0 e sottratti eventuali sconti.  </li> <li>AliquotaIVA (obbligatorio): aliquota IVA in percentuale da applicare al bene o servizio.  </li> <li>Natura: se l'aliquota IVA non \u00e8 valorizzata o \u00e8 uguale a zero, va qui indicata, tramite appropriato codice, la motivazione.</li> <li>AltriDatiGestionali: nei discendenti di questo nodo si possono aggiungere ulteriori elementi da riferirsi alla linea di dettaglio del prodotto o servizio. Se la fattura generata viene creata a partire da una transazione fiscale, allora verranno inseriti in questo nodo dei dati che descrivono tipo, codice identificativo e data della transazione in questione.</li> </ul> </li> <li> <p>DatiRiepilogo (obbligatorio): contenitore di diversi nodi che riepilogano gruppi di righe di dettaglio con la stessa aliquota IVA, natura ed esigibilit\u00e0. Questo nodo \u00e8 ripetibile per supportare pi\u00f9 aliquote IVA distinte. I dati che si possono inserire sono:</p> <ul> <li>AliquotaIVA (obbligatorio): aliquota IVA in percentuale.</li> <li>Natura: se l'aliquota IVA non \u00e8 valorizzata o \u00e8 uguale a zero, va qui indicata, tramite appropriato codice, la motivazione.</li> <li>Arrotondamento: eventuale arrotondamento applicato sul raggruppamento delle righe di dettaglio per il fine di riportarle arrotondate al centesimo di Euro.  </li> <li>ImponibileImporto (obbligatorio): viene formulato sommando i valori dei prezzi totali delle righe con la stessa aliquota IVA e il valore del nodo soprastante Arrotondamento.</li> <li>Imposta (obbligatorio): IVA calcolata sulla somma dei prezzi delle linee a cui questo nodo fa riferimento.</li> <li>EsigibilitaIVA: tramite relativo codice si specifica il regime di esigibilit\u00e0 IVA (differita o immediata) o la modalit\u00e0 di versamento dell'imposta (scissione pagamenti). Di default l'esigibilit\u00e0 \u00e8 di tipo immediato.</li> <li>RiferimentoNormativo: deve essere riportata la norma di riferimento nei casi in cui il nodo Natura \u00e8 valorizzato.  </li> </ul> </li> </ul> </li> <li> <p>DatiPagamento: nei figli di questo nodo sono descritte le condizioni di pagamento per la fornitura in oggetto.</p> <ul> <li>CondizioniPagamento (obbligatorio): tramite relativo codice che inizia con <code>TP</code> viene specificato se il pagamento \u00e8 a rate, o in un'unica soluzione, oppure \u00e8 anticipato. Essendo la fattura generata a partire da uno scontrino, il pagamento sar\u00e0 in genere in unica soluzione. A far data del 20/07/2023 viene contemplato solo quest'ultimo caso e il valore \u00e8 <code>TP02</code>.</li> <li> <p>DettaglioPagamento (obbligatorio):</p> <ul> <li>ModalitaPagamento (obbligatorio): tramite relativo codice che inizia con <code>MP</code> viene espressa la modalit\u00e0 del pagamento.</li> <li>ImportoPagamento (obbligatorio): importo di cui si richiede il pagamento.</li> </ul> </li> </ul> </li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#ricezione-della-fattura-da-parte-del-cliente","title":"Ricezione della fattura da parte del cliente","text":"<ul> <li> <p>Aziende/Associazioni o liberi professionisti - con partita IVA:</p> <p>In questo caso se il cliente comunica una PEC (Header DatiTrasmissione PECDestinatario) o un codice destinatario (Header DatiTrasmissione CodiceDestinatario) ricever\u00e0 direttamente la fattura.In caso contrario o se il SdI dovesse comunicare che la fattura non \u00e8 stata recapitata tramite l\u2019apposita ricevuta di \u201cimpossibilit\u00e0 di recapito\u201d, il fornitore sar\u00e0 tenuto ad avvisare il cliente che la fattura \u00e8 stata depositata nel cassetto fiscale o a recapitare in formato analogico o digitale la fattura.</p> </li> <li> <p>Associazioni o consumatori - senza partita IVA:</p> <p>In questo caso il fornitore sar\u00e0 tenuto ad avvisare il cliente che la fattura \u00e8 stata depositata nel cassetto fiscale o a recapitare in formato analogico o digitale la fattura.</p> </li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#impostazione-dellesigibilita-delliva","title":"Impostazione dell'esigibilit\u00e0 dell'IVA","text":"<p>In tutti i casi d'uso l'esigibilit\u00e0 dell'IVA \u00e8 di default immediata.Tuttavia, nelle fatture fatte verso le PA, l'esigibilit\u00e0 dell'IVA \u00e8 split payment (scissione dei pagamenti).</p> <p>La fatturazione alla P.A. con esigibilit\u00e0 IVA split payment invece, si pu\u00f2 applicare solo a fatture di documenti commerciali di vendita pagati con il metodo di pagamento \"Non riscosso segue fattura\" </p> <p>Reverse charge non possibile verso la P.A.</p> <p>Nelle fatture emesse con IVA split payment, nessun articolo all'interno del documento commerciale di vendita - scontrino - pu\u00f2 avere l'IVA reverse charge (natura IVA N6).</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#troubleshooting-per-i-tecnici","title":"Troubleshooting per i tecnici","text":"","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#errori-nella-validazione-del-documento-generato","title":"Errori nella validazione del documento generato","text":"<p>Durante la generazione di un documento elettronico \u00e8 possibile incappare in alcuni errori di validazione che non permettono di procedere.Questi errori sono caratterizzati da un codice di errore e un messaggio che ne descrive brevemente il significato.</p> <p>\u00c8 possibile visualizzare questi errori nel file di log dello StoreServer oppure nelle risposte con status code 500, che si ricevono dallo StoreServer durante la compilazione del wizard per la generazione di una fattura elettronica o cliccando su Genera nota di credito.</p> Codice errore Significato Risoluzione 1 La transazione che \u00e8 stata selezionata per la compilazione del documento elettronico non esiste. Verificare che gli estremi inseriti per la ricerca della transazione siano corretti. 18 In qualche modo \u00e8 successo che \u00e8 stato applicato lo split payment per la generazione di una fattura verso privati. In questo caso non pu\u00f2 essere applicato. Ripetere la generazione della fattura. 19 La transazione selezionata per la fatturazione non risulta fatturabile. Le ragioni possono essere molteplici. Verificare le cause dell'errore nell'avviso di errore che si aprir\u00e0. 20 Il pagamento differito dell'IVA da parte del committente non pu\u00f2 avvenire se al momento dell'emissione dello scontrino il pagamento scelto non \u00e8 di tipo RT pagamento \"Non riscosso\" + Segue fattura e il cessionario selezionato non \u00e8 una Pubblica Amministrazione. 21 Lo split payment non pu\u00f2 essere applicato, in quanto si applica solo a fatture che non nascono da documento commerciale RT, ma solo da documento gestionale (cfr. Impostazione dell'esigibilit\u00e0 dell'IVA). 22 Questo errore si manifesta quando la fattura che include la transazione selezionata \u00e8 gi\u00e0 stata generata e non \u00e8 annullata da nessuna nota di credito successiva. Valutare se \u00e8 il caso di generare prima una nota di credito per annullare la fattura gi\u00e0 esistente. 23 Nel messaggio di errore \u00e8 inclusa la lista di tutti i possibili errori di validazione del documento dopo che \u00e8 stato generato. Per capire come compilare correttamente una fattura elettronica si rimanda alla sezione di approfondimento che descrive il contenuto del file XML. 24 La data di operazione selezionata per la generazione del documento \u00e8 successiva alla data odierna. Il wizard di creazione della fattura elettronica impedisce a priori questo tipo di errore, quindi se dovesse verificarsi vorrebbe dire che l'orologio del client e quello del server non sono sincronizzati. \u00c8 necessario innanzitutto verificare che la data dello StoreServer sia corretta e in caso contrario correggerla. Dopodich\u00e9 si dovr\u00e0 fare in modo, se gi\u00e0 non lo fosse, di sincronizzare anche il client. 25 La data di operazione non risulta essere stata definita in fase di generazione. 26 Questo errore pu\u00f2 verificarsi per due motivi: 1) la data di operazione impostata \u00e8 precedente all'1 gennaio dell'anno corrente; 2) la data di operazione \u00e8 precedente alla data di operazione dell'ultimo documento generato. Per capire meglio questo secondo punto leggere qui. 27 L'ID del cliente selezionato per la generazione della fattura non \u00e8 stato trovato in memoria. Questo errore potrebbe avvenire se capitasse che i dati riguardanti il cliente selezionato vengano modificati o eliminati da qualcun altro mentre si sta compilando il wizard per la creazione della fattura o se sono stati eliminati o modificati prima di generare una nota di credito. 28 I dati del fornitore non sono stati impostati o sono stati eliminati durante la generazione del documento. 29 Durante la generazione di una nota di credito la fattura selezionata per l'annullamento non \u00e8 stata trovata. 30 Durante la generazione di una nota di credito gli estremi della transazione memorizzati nella fattura selezionata non corrispondono ad una transazione che risulti essere stata fatturata. Verificare la correttezza dei dati della fattura selezionata. 31 Non \u00e8 possibile annullare la fattura selezionata, poich\u00e9 questa non \u00e8 stata generata nell'anno corrente. 32 Durante la rigenerazione di un documento questo non \u00e8 stato trovato in memoria. 33 La transazione indicata per la fatturazione non pu\u00f2 essere utilizzata, perch\u00e9 \u00e8 stata generata con una versione precedente di Posware. 34 Durante la generazione o rigenerazione di un qualsiasi documento elettronico non \u00e8 stato possibile salvarlo nel database. Riprovare la procedura dall'inizio. 35 Si \u00e8 verificato un errore non codificato durante la costruzione del documento. 351 Durante la generazione o rigenerazione di un documento non \u00e8 stato trovato in memoria il codice IVA di uno dei prodotti, quindi la generazione si \u00e8 interrotta. 352 Durante la generazione di un documento elettronico per cui \u00e8 stato selezionato lo split payment, alcuni prodotti presenti nella transazione selezionata hanno IVA in reverse charge. In questo caso non \u00e8 possibile applicare la separazione dei pagamenti.","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#approfondimenti-sullerrore-26","title":"Approfondimenti sull'errore 26","text":"<p>Per capire al meglio questo errore c'\u00e8 da fare una precisazione sulla generazione della fattura.</p> <p>Nell'interfaccia utente \u00e8 possibile selezionare la data di operazione, ma non l'orario.L'orario viene impostato dallo StoreServer settando quello attuale. </p> <p>Esempi nella selezione della data di operazione</p> <p>Se la data e l'orario attuali sono 12/07/2022, 14:32:45 e dall'interfaccia seleziono 02/07/2022, la data e l'orario che il sistema imposter\u00e0 per la fattura saranno 02/07/2022, 14:32:45.</p> <p>Quindi potrebbe capitare che ci verifichino degli errori di questo tipo: se la data di operazione dell'ultima fattura \u00e8 23/06/2023, 15:32:56 e la data attuale \u00e8 01/07/2023, 10:12:23, generando una fattura e selezionando la data del 23/06/2023 verrebbe impostata la data 23/06/2023, 10:12:23 che risulterebbe essere precedente alla data di operazione dell'ultimo documento generato.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#errori-nella-validazione-del-cedente-durante-il-salvataggio","title":"Errori nella validazione del cedente durante il salvataggio","text":"<p>Nelle impostazioni \u00e8 possibile inserire o modificare le informazioni riguardanti il cedente/fornitore. </p> <p>Perci\u00f2, nella chiamata di salvataggio del cedente nel database, potrebbe capitare di incappare in una serie di errori dovuti all'inserimento di dati difformi dalle regole descritte in precedenza.</p> <p>Questi errori possono essere:</p> <ul> <li>Ragione sociale non indicata</li> <li>Partita IVA nel formato sbagliato (quello esatto \u00e8 <code>IT</code> + 11 cifre) o assente</li> <li>Codice fiscale nel formato sbagliato (quello esatto ha 11 cifre)</li> <li>Regime fiscale non indicato</li> <li>Indirizzo non indicato</li> <li>Numero civico non indicato</li> <li>Provincia non indicata o nel formato sbagliato (quello esatto ha 2 lettere)</li> <li>CAP non indicato o nel formato sbagliato (quello esatto ha 5 cifre)</li> <li>Citt\u00e0 non indicata</li> <li> <p>Quando presente la registrazione REA:</p> <ul> <li>Numero REA non indicato o nel formato sbagliato (quello esatto ha 6 cifre)</li> <li>Ufficio REA non indicato o nel formato sbagliato (quello esatto ha 2 lettere)</li> <li>L'informazione che descrive il fatto che l'azienda \u00e8 in liquidazione o meno che non \u00e8 indicata</li> <li>Capitale sociale che non rispetta la precisione (13) o la scala (2)</li> </ul> </li> <li> <p>Email nel formato sbagliato</p> </li> <li>PEC nel formato sbagliato</li> <li>Numero di telefono pi\u00f9 lungo di 12 caratteri</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#gestione-del-numero-progressivo-di-invio","title":"Gestione del numero progressivo di invio","text":"<p>Nel nostro caso, il numero progressivo di invio verr\u00e0 valorizzato utilizzando i dati che identificano il documento, ovvero:</p> <ol> <li>l'anno fiscale in cui viene generata la fattura: viene sempre valorizzato con l'anno corrente. Vengono usate le ultime due cifre significative (Esempio: 2023  23);</li> <li>il codice che definisce il tipo di documento: nel nostro caso le fatture verso privati sono identificate dal numero 0, le fatture verso PA dal numero 1 e  le note di credito dal numero 2. Per la composizione del progressivo sono state riservate a questo campo due cifre (Esempio: fattura (privati)  00, fattura (PA)  01, nota credito  02);</li> <li>il numero progressivo associato al documento: a questo campo sono state riservate 6 cifre.</li> </ol> <p>La chiave in chiaro sar\u00e0 composta cos\u00ec: anno fiscale (2) | tipo documento (2) | numero fattura (6). Costituita da 10 cifre decimali, verr\u00e0 poi convertita in una stringa esadecimale. </p> <p>Esempio di numero progressivo di invio</p> <p>In caso di fattura elettronica verso privati (codice tipo 0) numero 2345 dell'anno 2022 si avr\u00e0 come chiave in chiaro del numero progressivo di invio 22|00|002345, che verr\u00e0 poi convertita in esadecimale come 83215F29.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#gestione-della-numerazione-di-un-documento","title":"Gestione della numerazione di un documento","text":"<p>Ogni documento ha un identificativo composto da un numero progressivo e un eventuale sezionale (Esempio: 1/ABC, 3/B, 56/DF).Ogni progressivo e sezionale sono legati sempre all'anno solare di creazione dei documenti.</p> <p>Note e specifiche sul sezionale</p> <p>A far data del 24/04/2024, per la versione <code>1.0</code> dello StoreServer, il sezionale \u00e8 liberamente imputabile dall'operatore con caratteri alfanumerici di lunghezza massima pari a 5 .</p> <p>I caratteri inseriti verranno sempre convertiti in maiuscolo.</p> <p>\u00c8 considerato prassi e pratica consolidata l'uso del maiuscolo nelle soluzioni fiscali di mercato e riportato nella nostra soluzione by design.</p> <p>Una volta impostato un sezionale, per l'anno in corso, non sar\u00e0 pi\u00f9 possibile rimuoverlo o modificarlo se quel sezionale \u00e8 gi\u00e0 stato movimentato da un documento (fattura o nota di credito).</p> <p>Le note di credito e le fatture hanno numerazioni tra di loro differenti, ma condividono lo stesso sezionale. Questo perch\u00e9 l'AdE differenzia le numerazioni dei documenti anche in base al campo tipo documento della fattura elettronica (che sar\u00e0 <code>TD01</code> per le fatture e <code>TD04</code> per le note credito).</p> <p>Note sull'identificativo del documento</p> <p>Se viene impostato un sezionale nelle impostazioni del modulo fattura elettronica, tale sezionale viene condiviso da tutte le numerazioni di tutti i tipi di documento.</p> <p>Assumendo il sezionale 'A', si avr\u00e0 quindi:</p> <ul> <li>Numerazione fatture: 1/A , 2/A, 3/A ecc... </li> <li>Numerazione note di credito: 1/A, 2/A, 3/A ecc...</li> </ul> <p>Non sar\u00e0 possibile 1/B oppure semplicemente 1, 2, 3, ecc...</p> <p>La regola di identificazione univoca ha valenza nell\u2019ambito dell\u2019anno solare (per esempio 2022), passato il quale le numerazioni dei documenti verranno \u201cresettate\u201d e si ricomincia da 1.</p> <p>Avendo scelto di usare una numerazione diversa per tipologia di documento + anno solare, ci\u00f2 pu\u00f2 comportare che lo stesso numero sia presente pi\u00f9 volte nello stesso anno solare (Esempio: fattura 1 del 2023 e nota credito 1 del 2023).</p> <p>\u00c8 quindi requisito mandatorio valorizzare nel file XML del documento elettronico, il nodo DatiGenerali DatiGeneraliDocumenti Art73 a <code>SI</code>.In caso contrario ci saranno degli scarti da parte del SdI.</p> <p>Meccanismi della generazione di un nuovo progressivo</p> <p>Per l'anno corrente ed il tipo documento, viene preso l'ultimo numero emesso a parit\u00e0 di sezionale:  </p> <ul> <li>Se questo numero \u00e8 presente, il progressivo da usare \u00e8 l'ultimo progressivo del documento emesso + 1</li> <li>Se non \u00e8 presente, il progressivo da usare \u00e8 pari a 1. </li> </ul> <p>Il progressivo pari a zero non \u00e8 mai ammesso.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#verifica-della-correttezza-dei-dati-di-un-documento","title":"Verifica della correttezza dei dati di un documento","text":"<p>Quando un documento viene generato o rigenerato, viene salvato un record nella tabella <code>einvoice</code> del database dello StoreServer.Le informazioni presenti in questo record sono:</p> <ul> <li>Numero, suffisso, anno fiscale e tipo del documento.</li> <li>Contenuto del file XML del documento in formato JSON: all'interno \u00e8 presente anche un codice hash che garantisce l'integrit\u00e0 del JSON stesso.</li> <li>Data di operazione: la stessa informazione \u00e8 contenuta anche nel file XML (FatturaElettronicaBody DatiGenerali DatiGeneraliDocumento Data).</li> <li>Data di creazione e data di aggiornamento del record: questi dati sono generati automaticamente dal database al momento appunto della creazione e dell'aggiornamento del dato.</li> <li>Estremi di riferimento della transazione inclusa (ID della cassa, ID della transazione, ID del punto vendita, data della transazione): \u00e8 possibile quindi verificare tramite questi se i dati della transazione collegata sono presenti nella tabella <code>log</code>.</li> <li>ID del cliente: conoscendo questo dato \u00e8 possibile verificare che le informazioni riguardanti il cliente incluse nel file XML (vedi il contenuto in formato JSON presente in questo record) siano coerenti con quelle che \u00e8 possibile vedere dalla tabella <code>billing_customers</code>.</li> <li>Nome del file XML generato.</li> <li>Estremi di riferimento di un documento collegato, qualora il documento nel record sia una nota di credito.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#faq","title":"F.A.Q.","text":"","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-non-posso-applicare-lo-split-payment-alla-fattura-che-sto-generando","title":"Perch\u00e9 non posso applicare lo split payment alla fattura che sto generando?","text":"<p>Come descritto nella relativa sezione, lo split payment si pu\u00f2 applicare solo a fatture che non nascono da documento commerciale RT, ma solo da documento gestionale.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-non-posso-applicare-lesigibilita-differita-delliva","title":"Perch\u00e9 non posso applicare l'esigibilit\u00e0 differita dell'IVA?","text":"<p>L'esigibilit\u00e0 dell'IVA pu\u00f2 essere impostata a differita se al momento dell'emissione dello scontrino il pagamento scelto \u00e8 di tipo RT pagamento \"Non riscosso\" + Segue fattura.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-la-data-di-operazione-che-ho-selezionato-tra-le-disponibili-non-e-valida","title":"Perch\u00e9 la data di operazione che ho selezionato tra le disponibili non \u00e8 valida?","text":"<p>Pu\u00f2 capitare che durante la generazione di una nuova fattura, selezionando la data minore tra le disponibili, la chiamata torni con un errore. </p> <p>Questo errore \u00e8 dato dal fatto che l'orario della data di operazione impostato dallo StoreServer \u00e8 basato sull'orario della chiamata, quindi \u00e8 possibile che si generi una fattura - anche se con stessa data - con orario precedente a quello dell'ultimo documento generato. </p> <p>Si pu\u00f2 trovare un esempio e la spiegazione dettagliata di questo errore in questo paragrafo.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-si-e-verificato-un-problema-di-comunicazione-con-il-server-controlla-la-connessione-e-riprova","title":"Perch\u00e9 appare il messaggio di errore \"Si \u00e8 verificato un problema di comunicazione con il server. Controlla la connessione e riprova.\"?","text":"<p>Quando viene visualizzato questo messaggio vuol dire che la WebApp per qualche ragione non riesce a comunicare con lo StoreServer.</p> <p>Per capire nello specifico quale potrebbe essere la ragione \u00e8 necessario verificare che lo StoreServer sia attivo e funzionante e che la WebApp possa comunicare con esso.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-si-e-verificato-un-problema-non-identificato-riprova-piu-tardi","title":"Perch\u00e9 appare il messaggio di errore \"Si \u00e8 verificato un problema non identificato. Riprova pi\u00f9 tardi.\"?","text":"<p>Questo \u00e8 un messaggio di default di errore, che viene notificato qualora si verificasse un errore non identificato durante la chiamata che \u00e8 stata fatta allo StoreServer.</p> <p>Per capire di che errore si tratta \u00e8 necessario consultare il file di log.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#generazione-di-una-fattura-elettronica","title":"Generazione di una fattura elettronica","text":"","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#step-1-ricerca-e-validazione-di-uno-scontrino","title":"Step 1 - Ricerca e validazione di uno scontrino","text":"","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-la-transazione-selezionata-e-gia-stata-fatturata","title":"Perch\u00e9 appare il messaggio di errore \"La transazione selezionata \u00e8 gi\u00e0 stata fatturata.\"?","text":"<ul> <li>Causa:  Di tutti i documenti generati a partire dalla transazione in questione, l'ultimo in termini di data di operazione che \u00e8 stato generato \u00e8 una fattura elettronica. Ricordiamo che la fattura elettronica in questa sede pu\u00f2 essere effettuata unicamente per la totalit\u00e0 dello scontrino, quindi se risulta che l'ultimo documento \u00e8 una fattura vuol dire che essa \u00e8 stata generata per la transazione, completa di ogni prodotto, contenuta in essa. </li> <li> <p>Soluzione: </p> <ul> <li>Controllare che gli estremi inseriti siano corretti e riprovare.</li> <li>Stornare l'ultima fattura generando una nota di credito (\u00e8 possibile eseguire questa operazione seguendo le indicazioni descritte qui) e riprovare a generare la fattura elettronica.</li> </ul> </li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-la-transazione-selezionata-non-risulta-fatturabile","title":"Perch\u00e9 appare il messaggio di errore \"La transazione selezionata non risulta fatturabile.\"?","text":"<ul> <li> <p>Causa: La transazione selezionata per la generazione della fattura risulta:</p> <ul> <li>una nota di credito</li> <li>sospesa</li> <li>non completata con successo - lo scontrino \u00e8 stato annullato</li> <li>essere l'annullo di una transazione precedente</li> <li>un'operazione di prelievo</li> <li>un'operazione di fondo cassa o deposito generico</li> </ul> <p>Inoltre, in alternativa, potrebbe anche esserci stato un errore durante la battuta dello scontrino.</p> </li> <li> <p>Soluzione: Si consiglia di verificare la correttezza dello scontrino in questione. Nel caso qualcosa non fosse corretto \u00e8 necessario annullarlo e ripetere la battuta.</p> </li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-non-e-stata-trovata-nessuna-transazione-corrispondente-ai-dati-inseriti","title":"Perch\u00e9 appare il messaggio di errore \"Non \u00e8 stata trovata nessuna transazione corrispondente ai dati inseriti.\"?","text":"<ul> <li>Causa: Con gli estremi della transazione inseriti nel wizard non si riesce a trovare riscontro nel database. </li> <li>Soluzione: Verificare che gli estremi inseriti siano esatti e nel caso fossero errati ripetere l'operazione correggendo i dati inseriti.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-non-e-possibile-verificare-la-transazione-indicata-a-causa-di-un-errore-non-specificato","title":"Perch\u00e9 appare il messaggio di errore \"Non \u00e8 possibile verificare la transazione indicata a causa di un errore non specificato.\"?","text":"<ul> <li>Causa: Durante l'operazione di ricerca da parte dello StoreServer si solleva un'eccezione non codificata. Questo errore non \u00e8 dovuto alla validazione dei dati inseriti o generati, ma ad una qualche operazione interna al server.</li> <li>Soluzione: \u00c8 necessario controllare i file di log dello StoreServer per capire la natura dell'errore.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#step-5-finalizzazione","title":"Step 5 - Finalizzazione","text":"","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-la-transazione-selezionata-non-risulta-fatturabile_1","title":"Perch\u00e9 appare il messaggio di errore \"La transazione selezionata non risulta fatturabile.\"?","text":"<ul> <li> <p>Causa: La transazione selezionata per la generazione della fattura risulta al momento della generazione:</p> <ul> <li>una nota di credito</li> <li>sospesa</li> <li>non completata con successo - lo scontrino \u00e8 stato annullato</li> <li>essere l'annullo di una transazione precedente</li> <li>un'operazione di prelievo</li> <li>un'operazione di fondo cassa o deposito generico</li> </ul> <p>Premettendo che allo step 1 di questo wizard c'\u00e8 la stessa operazione di validazione, l'unica cosa che pu\u00f2 essere successa a questo punto \u00e8 che i dati riguardanti la transazione sono stati modificati da qualche agente esterno mentre l'utente si trovava ad inserire le informazioni tra lo step 2 e lo step 5.</p> </li> <li> <p>Soluzione: Verificare la correttezza dei dati presenti nel database e riprovare l'operazione.</p> </li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-il-pagamento-differito-non-puo-essere-applicato","title":"Perch\u00e9 appare il messaggio di errore \"Il pagamento differito non pu\u00f2 essere applicato.\"?","text":"<ul> <li>Causa: il pagamento selezionato al momento della battuta dello scontrino non \u00e8 del tipo RT  \"Non riscosso\" + Segue fattura. Di conseguenza l'esigibilit\u00e0 differita dell'IVA non \u00e8 applicabile alla fattura che si sta tentando di generare.</li> <li>Soluzione: tornare allo step 4 e deselezionare l'esigibilit\u00e0 differita e riprovare. Si ricorda che in tutti i casi d'uso l'esigibilit\u00e0 dell'IVA \u00e8 sempre di default IMMEDIATA (nessuna opzione selezionata).</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-lo-split-payment-non-puo-essere-applicato-ad-un-documento-fiscale","title":"Perch\u00e9 appare il messaggio di errore \"Lo split payment non pu\u00f2 essere applicato ad un documento fiscale.\"?","text":"<ul> <li>Causa: lo split payment non pu\u00f2 essere applicato, in quanto si applica solo a fatture che non nascono da documento commerciale RT ma solo da documento gestionale (cfr. Impostazione dell'esigibilit\u00e0 dell'IVA).</li> <li>Soluzione: tornare allo step 4 e deselezionare lo split payment e riprovare.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-la-transazione-selezionata-e-gia-stata-fatturata_1","title":"Perch\u00e9 appare il messaggio di errore \"La transazione selezionata \u00e8 gi\u00e0 stata fatturata.\"?","text":"<ul> <li>Causa: la transazione selezionata per la generazione della fattura risulta al momento della generazione gi\u00e0  utilizzata per effettuare una fatturazione elettronica. Premettendo che allo step 1 di questo wizard c'\u00e8 la stessa operazione di validazione, l'unica cosa che pu\u00f2 essere successa a questo punto \u00e8 che la transazione selezionata \u00e8 stata fatturata elettronicamente da qualcun altro mentre l'utente si trovava ad inserire informazioni tra lo step 2 e lo step 5.</li> <li>Soluzione: verificare la presenza di una fattura elettronica generata a partire dalla transazione che si \u00e8 cercato di fatturare. Valutare se \u00e8 il caso di fare lo storno e se necessario ripetere la fatturazione.  Si ricorda che non \u00e8 possibile eliminare le fatture generate, ma solo stornarle generando una nota di credito.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-sono-stati-riscontrati-uno-o-piu-errori-nella-generazione-della-fattura","title":"Perch\u00e9 appare il messaggio di errore \"Sono stati riscontrati uno o pi\u00f9 errori nella generazione della fattura.\"?","text":"<ul> <li>Causa: sono stati riscontrati degli errori di validazione e di forma - sintassi - nella fattura elettronica che \u00e8 stata generata.</li> <li>Soluzione: leggere i dettagli contenuti nella finestra pop-up di errore per capire di quali errori si tratta.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-la-data-di-operazione-della-fattura-non-puo-essere-successiva-alla-data-odierna","title":"Perch\u00e9 appare il messaggio di errore \"La data di operazione della fattura non pu\u00f2 essere successiva alla data odierna.\"?","text":"<ul> <li>Causa: la data di operazione selezionata nello step 5 dello wizard \u00e8 successiva a quella attuale. Per esempio \u00e8 il 04/08/2023 e viene selezionato lo 05/08/2023. Questo pu\u00f2 succedere se l'orologio del dispositivo in cui viene aperta la WebApp non \u00e8 sincronizzato con quello dello StoreServer.</li> <li>Soluzione: <ol> <li>verificare che la data dello StoreServer sia corretta e che sia impostata la giusta TimeZone;</li> <li>correggere qualora ci fossero errori;</li> <li>verificare l'orario del client e sincronizzarlo con il server;</li> <li>riprovare a generare la fattura.</li> </ol> </li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-e-necessario-indicare-una-data-di-operazione-valida","title":"Perch\u00e9 appare il messaggio di errore \"\u00c8 necessario indicare una data di operazione valida.\"?","text":"<ul> <li>Causa: la generazione della fattura \u00e8 stata avviata senza che sia stata indicata una data di operazione.  Ci\u00f2 non dovrebbe essere possibile usando lo wizard della WebApp.</li> <li>Soluzione: riprovare la generazione della fattura assicurandosi di indicare una data di operazione che sia valida.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-la-data-di-operazione-deve-essere-successiva-o-contemporanea-rispetto-la-data-dellultimo-documento-emesso-o-della-transazione-selezionata-per-la-fatturazione","title":"Perch\u00e9 appare il messaggio di errore \"La data di operazione deve essere successiva o contemporanea rispetto la data dell'ultimo documento emesso o della transazione selezionata per la fatturazione.\"?","text":"<ul> <li>Causa: la data di operazione indicata \u00e8 precedente a quella dell'ultimo documento emesso o della transazione che \u00e8 stata selezionata nello step 1.</li> <li>Soluzione: indicare una data successiva a quelle descritte.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-il-cessionario-selezionato-non-e-stato-trovato","title":"Perch\u00e9 appare il messaggio di errore \"Il cessionario selezionato non \u00e8 stato trovato.\"?","text":"<ul> <li>Causa: i dati del cessionario al momento dell'avvio della generazione della fattura non sono stati trovati nel database.</li> <li>Soluzione: riavviare la WebApp e riprovare l'operazione.  All'apertura della Dashboard della fatturazione elettronica verr\u00e0 verificato dalla WebApp stessa la presenza e correttezza dei dati del cessionario. Se non dovesse avere esito positivo questo controllo, verr\u00e0 mostrata a schermo la schermata di editing del cessionario. </li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-i-dati-del-punto-vendita-non-sono-stati-trovati-o-non-sono-corretti","title":"Perch\u00e9 appare il messaggio di errore \"I dati del punto vendita non sono stati trovati o non sono corretti.\"?","text":"<ul> <li>Causa: i dati del cedente - punto vendita - al momento dell'avvio della generazione della fattura non sono stati trovati nel database.</li> <li>Soluzione: riavviare la WebApp e riprovare l'operazione.  All'apertura della Dashboard della fatturazione elettronica verr\u00e0 verificato dalla WebApp stessa la presenza e correttezza dei dati del cedente - punto vendita. Se non dovesse avere esito positivo questo controllo, verr\u00e0 mostrata a schermo un'apposita schermata di editing. </li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-non-e-stato-possibile-generare-la-fattura","title":"Perch\u00e9 appare il messaggio di errore \"Non \u00e8 stato possibile generare la fattura.\"?","text":"<ul> <li>Causa: questo \u00e8 un messaggio generico di errore che risulterebbe qualora si verificasse un errore di validazione durante la generazione della fattura elettronica.</li> <li>Soluzione: per capire di che errore si tratta \u00e8 necessario consultare il file di log.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-si-e-verificato-un-errore-nel-server-non-e-stato-possibile-generare-la-fattura","title":"Perch\u00e9 appare il messaggio di errore \"Si \u00e8 verificato un errore nel server. Non \u00e8 stato possibile generare la fattura\"?","text":"<ul> <li>Causa: questo \u00e8 un messaggio generico di errore che risulterebbe qualora si verificasse un errore non identificato durante la generazione della fattura elettronica.</li> <li>Soluzione: per capire di che errore si tratta \u00e8 necessario consultare il file di log.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#generazione-nota-credito","title":"Generazione nota credito","text":"","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-sono-stati-riscontrati-uno-o-piu-errori-nella-generazione-della-nota-di-credito","title":"Perch\u00e9 appare il messaggio di errore \"Sono stati riscontrati uno o pi\u00f9 errori nella generazione della nota di credito.\"?","text":"<ul> <li>Causa: pu\u00f2 essere dovuto al fatto che i dati utilizzati per generare la fattura selezionata per la generazione della nota di credito sono corrotti o sono stati modificati. </li> <li>Soluzione: occorre controllare il file di log dello StoreServer per avere dettagli su questi errori di validazione.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-la-fattura-selezionata-per-lo-storno-non-e-stata-trovata","title":"Perch\u00e9 appare il messaggio di errore \"La fattura selezionata per lo storno, non \u00e8 stata trovata.\"?","text":"<ul> <li>Causa: la fattura selezionata dalla UI non viene trovata nel database.  I motivi per cui potrebbe sembrare che la fattura non esiste pi\u00f9 sono:<ul> <li>la fattura \u00e8 stata eliminata da un agente esterno dal database;</li> <li>i dati contenuti nel database si sono corrotti.</li> </ul> </li> <li>Soluzione: verificare la coerenza dei dati contenuti nel database.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-la-fattura-selezionata-non-puo-essere-stornata","title":"Perch\u00e9 appare il messaggio di errore \"La fattura selezionata non pu\u00f2 essere stornata.\"?","text":"<ul> <li>Causa: i motivi per cui una fattura non pu\u00f2 essere pi\u00f9 stornata sono principalmente 2: <ol> <li>la fattura \u00e8 gi\u00e0 stata stornata.</li> <li>la fattura selezionata non esiste pi\u00f9 nel database: se questo dovesse avvenire vorrebbe dire che il database \u00e8 stato corrotto o manipolato da un agente esterno allo StoreServer. </li> </ol> </li> <li>Soluzione: verificare la presenza della fattura elettronica all'interno del database dello StoreServer.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-la-fattura-selezionata-per-lo-storno-non-e-dellanno-fiscale-corrente-lo-storno-non-e-effettuabile","title":"Perch\u00e9 appare il messaggio di errore \"La fattura selezionata per lo storno non \u00e8 dell'anno fiscale corrente. Lo storno non \u00e8 effettuabile.\"?","text":"<ul> <li>Causa: si \u00e8 cercato di generare una nota credito di una fattura che \u00e8 stata emessa in un anno fiscale diverso da quello corrente.</li> <li>Soluzione: non c'\u00e8 soluzione, semplicemente non \u00e8 possibile stornare una fattura che faccia parte di un anno fiscale passato.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-non-e-stato-possibile-generare-la-nota-di-credito","title":"Perch\u00e9 appare il messaggio di errore \"Non \u00e8 stato possibile generare la nota di credito.\"?","text":"<ul> <li>Causa: questo \u00e8 un messaggio generico di errore che risulterebbe qualora si verificasse un errore di validazione della nota di credito non codificato.</li> <li>Soluzione: per capire di che errore si tratta \u00e8 necessario consultare il file di log.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-si-e-verificato-un-errore-nel-server-non-e-stato-possibile-generare-la-nota-di-credito","title":"Perch\u00e9 appare il messaggio di errore \"Si \u00e8 verificato un errore nel server. Non \u00e8 stato possibile generare la nota di credito.\"?","text":"<ul> <li>Causa: questo \u00e8 un messaggio generico di errore che risulterebbe qualora si verificasse un errore non identificato durante la generazione della nota di credito.</li> <li>Soluzione: per capire di che errore si tratta \u00e8 necessario consultare il file di log.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#rigenerazione-documento","title":"Rigenerazione documento","text":"","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-la-transazione-contenuta-nel-documento-selezionato-non-e-stata-trovata-in-memoria","title":"Perch\u00e9 appare il messaggio di errore \"La transazione contenuta nel documento selezionato non \u00e8 stata trovata in memoria.\"?","text":"<ul> <li>Causa: per qualche ragione con gli estremi della transazione contenuti nel documento selezionato non si riesce a trovare riscontro nel database.  Le ragioni potrebbero essere:<ol> <li>gli estremi (e quindi i dati della fattura elettronica di partenza memorizzati nel database) sono stati corrotti in qualche maniera,</li> <li>la transazione in questione non \u00e8 pi\u00f9 presente nel database. </li> </ol> </li> <li>Soluzione: verificare la coerenza dei dati contenuti nel database.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-la-transazione-contenuta-nel-documento-non-risulta-fatturabile","title":"Perch\u00e9 appare il messaggio di errore \"La transazione contenuta nel documento non risulta fatturabile.\"?","text":"<ul> <li> <p>Causa: gli estremi contenuti nel documento che si sta cercando di rigenerare puntano ad una transazione che:</p> <ul> <li>\u00e8 una nota di credito;</li> <li>\u00e8 stata sospesa;</li> <li>non \u00e8 stata completata con successo - lo scontrino \u00e8 stato annullato;</li> <li>\u00e8 l'annullo di una transazione precedente;</li> <li>\u00e8 un operazione di prelievo;</li> <li>\u00e8 un operazione di fondo cassa o deposito generico.</li> </ul> <p>Probabilmente i dati nel database si sono corrotti o sono stati modificati. - Soluzione: verificare la coerenza dei dati contenuti nel database.</p> </li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-il-pagamento-differito-non-puo-essere-applicato-in-questo-documento-la-rigenerazione-non-puo-essere-effettuata-controllare-la-correttezza-dei-dati-contenuti-in-questo-documento","title":"Perch\u00e9 appare il messaggio di errore \"Il pagamento differito non pu\u00f2 essere applicato in questo documento. La rigenerazione non pu\u00f2 essere effettuata. Controllare la correttezza dei dati contenuti in questo documento.\"?","text":"<ul> <li>Causa: per qualche ragione risulta che il pagamento dello scontrino usato per la fattura  non \u00e8 del tipo RT \u201cNon riscosso\u201d + Segue fattura. Questo evento non dovrebbe mai accadere.  </li> <li>Soluzione: analizzare i dati contenuti nella fattura selezionata e verificare che la transazione contenuta non sia del tipo descritto.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-lo-split-payment-non-puo-essere-applicato-ad-un-documento-fiscale-la-rigenerazione-non-puo-essere-effettuata-controllare-la-correttezza-dei-dati-contenuti-in-questo-documento","title":"Perch\u00e9 appare il messaggio di errore \"Lo split payment non pu\u00f2 essere applicato ad un documento fiscale. La rigenerazione non pu\u00f2 essere effettuata. Controllare la correttezza dei dati contenuti in questo documento.\"?","text":"<ul> <li>Causa: per qualche ragione risulta che lo split payment \u00e8 stato applicato alla fattura anche s e documento commerciale RT ma solo da documento gestionale (cfr. Impostazione dell\u2019esigibilit\u00e0 dell\u2019IVA).  </li> <li>Soluzione: analizzare i dati contenuti nella fattura selezionata e verificare che la transazione contenuta non sia del tipo descritto.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-sono-stati-riscontrati-uno-o-piu-errori-di-validazione-del-documento-rigenerato-la-rigenerazione-e-stata-annullata","title":"Perch\u00e9 appare il messaggio di errore \"Sono stati riscontrati uno o pi\u00f9 errori di validazione del documento rigenerato. La rigenerazione \u00e8 stata annullata.\"?","text":"<ul> <li>Causa: il documento rigenerato presenta degli errori di forma che possono essere dovuti al fatto che alcuni dati contenuti in esso sono stati modificati prima della rigenerazione.</li> <li>Soluzione: leggere il file di log dello StoreServer per conoscere i dettagli dell'errore.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-la-data-di-operazione-del-documento-non-e-valida","title":"Perch\u00e9 appare il messaggio di errore \"La data di operazione del documento non \u00e8 valida.\"?","text":"<ul> <li>Causa: il messaggio vuole dire che la data di operazione che \u00e8 stata memorizzata \u00e8 successiva alla data odierna oppure non \u00e8 presente.</li> <li>Soluzione: verificare la coerenza dei dati riguardanti il documento selezionato per la rigenerazione.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-il-cliente-destinatario-del-documento-selezionato-non-e-stato-trovato-in-memoria","title":"Perch\u00e9 appare il messaggio di errore \"Il cliente destinatario del documento selezionato non \u00e8 stato trovato in memoria.\"?","text":"<ul> <li>Causa: con l'ID del cliente memorizzato nel documento selezionato non \u00e8 stato trovato riscontro nel database. Il motivo principale per cui pu\u00f2 succedere questa cosa \u00e8 che l'anagrafica del cliente \u00e8 stata modificata o eliminata.</li> <li>Soluzione: verificare l'esistenza dell'anagrafica del cliente nel database e se \u00e8 stato modificato.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-i-dati-del-cedente-non-sono-stati-trovati-o-non-sono-corretti","title":"Perch\u00e9 appare il messaggio di errore \"I dati del cedente non sono stati trovati o non sono corretti.\"?","text":"<ul> <li>Causa: i dati del cedente - punto vendita - al momento dell'avvio della rigenerazione della fattura non sono stati trovati nel database.</li> <li>Soluzione: riavviare la WebApp e riprovare l'operazione.  All'apertura della Dashboard della fatturazione elettronica verr\u00e0 verificato dalla WebApp stessa la presenza e correttezza dei dati del cedente - punto vendita. Se non dovesse avere esito positivo questo controllo, verr\u00e0 mostrata a schermo un'apposita schermata di editing. </li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-la-fattura-stornata-nella-nota-di-credito-selezionata-per-la-rigenerazione-non-e-stata-trovata","title":"Perch\u00e9 appare il messaggio di errore \"La fattura stornata nella nota di credito selezionata per la rigenerazione non \u00e8 stata trovata.\"?","text":"<ul> <li>Causa: la nota di credito contiene al suo interno i dati riguardanti la fattura che storna. Se a partire da questi dati di riferimento la fattura non viene trovata, le cause possono essere:<ul> <li>la fattura \u00e8 stata eliminata;</li> <li>il record nel database riguardante la nota di credito \u00e8 stato modificato.</li> </ul> </li> <li>Soluzione: verificare la correttezza della nota di credito memorizzata nel database.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-il-documento-selezionato-non-e-stato-trovato","title":"Perch\u00e9 appare il messaggio di errore \"Il documento selezionato non \u00e8 stato trovato.\"?","text":"<ul> <li>Causa: il documento selezionato non \u00e8 stato trovato nel database. Il motivo per cui possa succedere una cosa del genere \u00e8 che il record del docuemnto \u00e8 stato eliminato.</li> <li>Soluzione: verificare l'effettiva esistenza del documento nel database.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/fatturazione-elettronica.html#perche-appare-il-messaggio-di-errore-non-e-stato-possibile-rigenerare-il-documento-selezionato","title":"Perch\u00e9 appare il messaggio di errore \"Non \u00e8 stato possibile rigenerare il documento selezionato.\"?","text":"<ul> <li>Causa: questo \u00e8 un messaggio generico di errore che risulterebbe qualora si verificasse un errore di validazione del documento rigenerato non codificato.</li> <li>Soluzione: per capire di che errore si tratta \u00e8 necessario consultare il file di log.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html","title":"Posware Price Checker (PPC)","text":"<p>Prima revisione documento: 4 novembre 2022 Ultima revisione documento: 21 maggio 2025</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#glossario","title":"Glossario","text":"<ul> <li>adb: Android Debug Bridge, tool compreso all'interno del software SDK (Software Develompent Kit) e usato per mettere in comunicazione un dispositivo Android ed un computer;</li> <li>apk: acronimo di Android Application Package, si tratta dell'estensione di file che sono di fatto archivi contenenti le risorse necessarie al funzionamento delle app;</li> <li>WebApp: applicazione web che offre la possibilit\u00e0 di gestire in modo centralizzato le funzionalit\u00e0 disponibili nello StoreServer;</li> <li>modalit\u00e0 kiosk: modalit\u00e0 grazie alla quale viene limitato l'accesso alle funzionalit\u00e0 di un dispositivo da parte di un utente che non abbia permessi di amministrazione;</li> <li>PPC: Posware Price Checker;</li> <li>PPCModule: plug-in dello StoreServer dedicato alla gestione del PPC;</li> <li>PPCUpdater: app che si occupa degli aggiornamenti del PPC;</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#cenni-preliminari","title":"Cenni preliminari","text":"<p>A far data del 22/04/2024, la presente app offre all'utente la possibilit\u00e0 di scansionare o cercare il codice a barre di un prodotto e di consultarne il prezzo calcolato tenendo conto anche delle eventuali promozioni attive. L'app fa riferimento al modulo PPCModule che \u00e8 un plug-in dello StoreServer. La gestione dei dispositivi e delle impostazioni dell'app avviene tramite la sezione PoswarePriceChecker della WebApp. Lo scaricamento e l'installazione degli aggiornamenti sono gestiti dall'app di supporto PPCUpdater. Il PPCUpdater funge anche da launcher predefinito.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#versioni-software","title":"Versioni software","text":"<p>La versione minima del Posware StoreServer richiesta \u00e8 la v. <code>1.0</code> per Windows 10/11. La versione minima del PPCModule richiesta \u00e8 la v. <code>1.0</code>. La versione minima del PPCUpdater richiesta \u00e8 la v. <code>1.0</code>.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#dispositivi-supportati","title":"Dispositivi supportati","text":"<p>A far data del 04/11/2022, il PPC \u00e8 compatibile esclusivamente con i dispositivi con scanner integrati Zebra CC600 (versione Android: <code>10</code>).</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#installazione-e-configurazione","title":"Installazione e configurazione","text":"<p>L'installazione \u00e8 prevista:</p> <ol> <li>Lato server (PPCModule) -&gt; Il modulo \u00e8 incluso nell'installazione standard, non sono necessarie operazioni per l'installazione</li> <li>Lato client (PPCUpdater e PPC)</li> </ol> <p>Le istruzioni sono da seguire passo passo nello stesso ordine di come sono state redatte. </p> <p>Per installare e configurare il PPC e il PPCUpdater sul dispositivo bisogna procedere seguendo questi passi:</p> <ol> <li>Configurazione rete</li> <li>Configurazione scanner</li> <li>Installazione dei pacchetti apk (PPC e PPCUpdater)</li> <li>Configurazione della modalit\u00e0 kiosk</li> </ol>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#prerequisiti","title":"Prerequisiti","text":"<p>Prima di effettuare l'installazione e la successiva configurazione del dispositivo \u00e8 necessario:</p> <ul> <li>assicurarsi che lo StoreServer sia attivo, funzionante e con il PPCModule caricato;</li> <li>avere nel dispositivo le impostazioni da sviluppatore sbloccate e il debug USB attivo (da non disattivare mai): per una guida all'attivazione andare qui;</li> <li>collegare il dispositivo con un cavo USB ad un PC su cui sia installato l'Android Debug Bridge (adb): per l'installazione fare riferimento alla guida ufficiale qui.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#configurazione-rete","title":"Configurazione rete","text":"<p>Per fare in modo che StoreServer e dispositivo comunichino correttamente \u00e8 necessario collegarli sulla stessa rete logica. \u00c8 necessario:</p> <ol> <li>conoscere la rete su cui il server \u00e8 configurato;</li> <li>accedere alle impostazioni WiFi di Android;</li> <li>selezionare la WiFi che comunica con la rete dello StoreServer;</li> <li>inserire la password;</li> <li>aprire le <code>Opzioni avanzate</code>;</li> <li>selezionare alla voce <code>Impostazioni IP</code> l'opzione <code>Statico</code>;</li> <li>inserire nel campo <code>Indirizzo IP</code> un indirizzo libero nella rete;</li> <li>premere <code>CONNETTI</code>.</li> </ol>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#configurazione-scanner-zebra-cc600","title":"Configurazione scanner Zebra CC600","text":"<p>Per configurare lo scanner nel dispositivo Zebra CC600 \u00e8 sufficiente importare nell'app DataWedge il file <code>dwprofile_PPC.db</code> (\u00e8 presente nella cartella che contiene questa guida). Per l'importazione \u00e8 necessario effettuare i seguenti passi:</p> <ol> <li>caricare <code>dwprofile_PPC.db</code> nel dispositivo;</li> <li>aprire DataWedge;</li> <li>cliccare in alto a destra il pulsante con tre pallini;</li> <li>selezionare <code>Impostazioni</code>;</li> <li>cliccare su <code>Importa profilo</code>;</li> <li>cercare e selezionare <code>dwprofile_PPC.db</code> nel men\u00f9 appena aperto (tenendo presente che il pulsante <code>.</code> rimanda alla root del file system e <code>..</code> far\u00e0 risalire di un passo la gerarchia delle directory).</li> </ol>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#installazione-dei-pacchetti-apk-ppc-e-ppcupdater","title":"Installazione dei pacchetti apk (PPC e PPCUpdater)","text":"<p>Per installare il PPC e il PPCUpdater procedere con i passi qui di seguito:</p> <ol> <li>caricare i file <code>PriceChecker_&lt;nome versione&gt;+yyyyMMddHHmmss.apk</code> e <code>PPCUpdater_&lt;nome versione&gt;+yyyyMMddHHmmss.apk</code> nel dispositivo;</li> <li>aprire l'app File e cercare i file appena caricati;</li> <li>cliccare sui file e procedere con le installazioni di entrambi gli apk (non aprire subito le app appena installate);</li> <li>tornando alla home ti verr\u00e0 chiesto quale app utilizzare come Home: seleziona <code>PPCUpdater</code> sotto Utilizza un'app diversa;</li> <li>premi di nuovo il tasto Home e stavolta premi su Sempre, in modo da far diventare il PPCUpdater la Home predefinita di sistema (se i passi 4 e 5 non dovessero verificarsi procedere con la procedura manuale dell'impostazione del launcher predefinito dalla schermata dei settings di sistema di Android);</li> <li>clicca su Avvia Posware Price Checker;</li> <li>accetta la richiesta di accesso alla posizione del dispositivo da parte del PPC. Qualora si negasse alcune funzionalit\u00e0 come il rilevamento dell'SSID potrebbero non funzionare.</li> </ol> <p>A questo punto la schermata si presenter\u00e0 cos\u00ec:</p> <p></p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#configurazione-modalita-kiosk","title":"Configurazione modalit\u00e0 kiosk","text":"<p>La configurazione della modalit\u00e0 kiosk richiede l'utilizzo dell'Android Debug Bridge. Per l'attivazione seguire gli step qui sotto:</p> <ol> <li>aprire il prompt dei comandi del PC;</li> <li>digitare il seguente comando: <code>adb shell dpm set-device-owner com.posware.ppcupdater/com.posware.ppcupdater.AdminReceiver</code>.</li> </ol> <p>\u00c8 possibile verificare che la modalit\u00e0 kiosk \u00e8 stata attivata con successo osservando che il tasto <code>Home</code>(cerchio) e il tasto <code>Overview</code>(quadrato) della barra di navigazione di sistema (\u00e8 possibile farla apparire scorrendo il dito dal fondo dello schermo in alto) sono scomparsi e che non \u00e8 pi\u00f9 possibile aprire il menu a tendina di Android. </p> <p>N.B. \u00e8 possibile disattivare la modalit\u00e0 kiosk solamente effettuando un factory reset.* Guida alla procedura di factory reset*** per i dispositivi supportati:</p> <ul> <li>Zebra CC600</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#registrazione-del-ppc","title":"Registrazione del PPC","text":"<p>Per la registrazione del PPC \u00e8 richiesto che la visibilit\u00e0 di rete sia attiva. Se il PPC non \u00e8 mai stato registrato, la visibilit\u00e0 di rete si attiver\u00e0 fin da subito all'apertura dell'app. Fintanto che l'app rimarr\u00e0 aperta e non registrata, la visibilit\u00e0 rimarr\u00e0 attiva. Quando il dispositivo \u00e8 visibile in rete il simbolo del WiFi in alto a destra nella schermata del PPC si trasforma in uno spinner: </p> <p></p> <p>Per la registrazione procedere con i seguenti passi:</p> <ol> <li>assicurarsi che la visibilit\u00e0 dal PPC sia attiva (vedi immagine precedente);</li> <li>aprire il browser e accedere alla WebApp:</li> <li> <p>nel men\u00f9 principale della WebApp cliccare <code>Posware Price Checker</code> e successivamente <code>Dashboard</code>:</p> <p></p> </li> <li> <p>cliccare il pulsante <code>+ Registra device</code> presente in alto a destra nel widget dedicato ai dispositivi:</p> <p></p> </li> <li> <p>attendere che, nell'elenco dei dispositivi rilevati presente nella modal che si sar\u00e0 appena aperta, appaia il serial del dispositivo di cui si desidera la registrazione:</p> <p></p> </li> <li> <p>cliccare sul seriale del dispositivo di cui si desidera la registrazione (per capire quale sia il seriale corretto \u00e8 possibile consultare la schermata di info del PPC nel dispositivo stesso):</p> <p></p> </li> <li> <p>compilare i campi <code>Descrizione</code> e <code>Tag</code>(opzionale):</p> <p></p> </li> <li> <p>cliccare su <code>AVANTI</code>;</p> </li> <li> <p>se tutto \u00e8 andato a buon fine apparir\u00e0 la seguente schermata: </p> <p></p> </li> <li> <p>premere su <code>CHIUDI</code> per tornare alla dashboard (ora sulla lista dei dispositivi apparir\u00e0 quello appena registrato). Per registrare un altro dispositivo e ripetere i passi ripartendo dal 5, premere <code>REGISTRA UN ALTRO DEVICE</code>.</p> </li> </ol> <p>A questo punto partir\u00e0 la sincronizzazione periodica dei settings con quelli registrati nel server e il PPC sar\u00e0 pronto per essere utilizzato.La schermata principale si presenter\u00e0 cos\u00ec:</p> <p></p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#funzionalita-ppc","title":"Funzionalit\u00e0 PPC","text":"<p>Il PPC presenta le seguenti funzionalit\u00e0:</p> <ul> <li>Rilevamento prezzi (\u00e8 l'unica funzionalit\u00e0 aperta al pubblico);</li> <li>Accesso ai settings del PPC;</li> <li>Accesso alle impostazioni di sistema;</li> <li>Visualizzazione delle info riguardanti il dispositivo;</li> <li>Attivazione della visibilit\u00e0 di rete;</li> <li>Registrazione manuale del dispositivo;</li> <li>Sincronizzazione forzata dei settings;</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#rilevamento-prezzi","title":"Rilevamento prezzi","text":"<p>Il rilevamento prezzi \u00e8 la funzione principale del PPC. Con questa funzionalit\u00e0 il consumatore \u00e8 in grado di calcolare il prezzo finale di un prodotto tenendo conto delle promozioni attive. I prodotti rilevabili possono essere fondamentalmente di tre tipi (per identificare i tipi di prodotti si far\u00e0 riferimento alle tabelle <code>art_agg</code> e <code>articoli</code> dello StoreServer, in particolare al campo <code>Bpeso</code> della seconda):</p> <ul> <li>non a peso (Bpeso = false): sono prodotti che vengono venduti al pezzo e la cui unit\u00e0 di misura non consente decimali. Praticamente sar\u00e0 PZ;</li> <li>a peso (Bpeso = true): sono i prodotti che hanno unit\u00e0 di misura che consente decimali (KG, LT ecc) nel cui barcode nelle ultime 5 cifre \u00e8 contenuto il prezzo senza promozioni calcolate;</li> <li>a peso (Bpeso = peso): sono i prodotti che hanno unit\u00e0 di misura che consente decimali (KG, LT ecc) nel cui barcode nelle ultime 5 cifre \u00e8 contenuta la misura della quantit\u00e0;</li> </ul> <p>Se <code>Bpeso</code> non \u00e8 valorizzato e il campo <code>um</code> \u00e8 uguale a \"PZ\", assumiamo che il valore di <code>Bpeso</code> sia \"false\" (quindi prodotto non a peso).</p> <p>Una volta trovato un prodotto i prezzi che verranno mostrati saranno i seguenti:</p> <p></p> <p>A far data del 04/11/2022, per i prodotti non a peso, sono contemplati i seguenti prezzi mostrati al consumatore: </p> <ul> <li>Prezzo di listino: il prezzo di listino del prodotto in assenza di promozioni (in presenza di promo attive verr\u00e0 mostrato barrato, altrimenti esso non verr\u00e0 mostrato affatto);</li> <li>Prezzo finale: prezzo del prodotto calcolato tenendo conto delle promozioni attive. \u00c8 il prezzo che il consumatore pagher\u00e0 in cassa (sempre mostrato);</li> <li>Prezzo equivalente: prezzo al litro/al kg/al pz, rispetto al prezzo di listino (promo assenti) o scontato (promo attive), come da norma di legge.</li> </ul> <p>A far data del 04/11/2022, per i prodotti a peso, sono contemplati i seguenti prezzi mostrati al consumatore:</p> <ul> <li>Prezzo di listino: il prezzo di listino del prodotto al litro/al kg calcolato tenendo conto delle promo attive;</li> <li>Prezzo finale: prezzo effettivo del prodotto che il cliente pagher\u00e0 in cassa, basato sul barcode (sempre mostrato);</li> <li>Prezzo equivalente: non \u00e8 mai mostrato;</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#visualizzazione-del-prezzo-equivalente","title":"Visualizzazione del prezzo equivalente","text":"<p>Per far si che il prezzo equivalente dei prodotti non a peso venga visualizzato correttamente \u00e8 necessario popolare i seguenti campi della tabella <code>art_agg</code> del database dello StoreServer:</p> <ul> <li><code>PriceCheckerProductWeight</code>: in questo campo va registrata la quantit\u00e0 di prodotto contenuta in un articolo;</li> <li><code>PriceCheckerProductUM</code>: in questo campo va registrata l'unit\u00e0 di misura che identifica il contenuto dell'articolo.</li> </ul> <p>Se questi due campi non vengono compilati il prezzo equivalente non verr\u00e0 visualizzato, ma gli altri prezzi si.</p> <p>Oltre ad essere regolata dalle condizioni sopracitate, la visualizzazione del prezzo equivalente pu\u00f2 essere disattivata nelle impostazioni del PPCModule nella WebApp.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scansionericerca-manuale-dei-codici-a-barre","title":"Scansione/ricerca manuale dei codici a barre","text":"<p>Il meccanismo di scansione prevede che un codice a barre venga passato davanti allo scanner presente sul dispositivo. \u00c8 possibile scansionare un codice a partire da qualsiasi schermata del PPC.</p> <p>Qualora non sia possibile scannerizzare il codice a barre (es. il codice \u00e8 rovinato e illeggibile) si ha la possibilit\u00e0 di ricercarlo manualmente. Per avere accesso alla ricerca manuale \u00e8 necessario cliccare sul pulsante in basso a destra <code>Non riesci a scansionare il prodotto?</code>:</p> <p></p> <p>Si aprir\u00e0 la seguente schermata:</p> <p></p> <p>Qui, utilizzando la tastiera numerica appena apparsa, sar\u00e0 possibile inserire manualmente il codice a barre di cui effettuare la ricerca.</p> <p>Gli esiti della ricerca, avvenuta sia per scansione che manualmente, saranno sempre gli stessi:</p> <ul> <li> <p>In caso di prodotto trovato:</p> <p></p> </li> <li> <p>In caso di prodotto non trovato:</p> <p></p> </li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scenari-supportati","title":"Scenari supportati","text":"<p>Il rilevamento dei prezzi supporta diversi scenari che dipendono dal tipo di prodotto e dal tipo di promozioni attive per il prodotto. Per poter spiegare i vari scenari ci siamo avvalsi dell'uso di alcuni esempi esplicativi.</p> <p>Il supporto alle promozioni \u00e8 limitato alle promo lineari (LQ, NP, S, B) con flag fidelity/non fidelity/esclusi fidelity, data/ora (con indicazione dei giorni della settimana in cui \u00e8 attiva)</p> <p>Sono escluse: - promozioni a soglia - condizione a soglia minima di spesa - il supporto al calcolo delle quantit\u00e0 e/o valori con condizioni di minimo/massima/ogni ed il passo</p> <p>nei vari scenari in basso, inserire un \"tips\" su come eventualmente codificare le promo degli scenari a peso supportati (fare scattare one shot tramite min v1) in modo da non far incorrere gli utenti nell'errore che noi stessi abbiamo fatto specificando il passo che effettuerebbe lo sconto per ogni grammo</p> <p>nello scenario 16, dove mischiamo gli altri tipi di effetti (B,S) con LQ, bisogna trovare una forma di comunicazione per far capire che sono supportate le promo combinate con LQ solo se non computano lo stesso valore di sconto (cosa che capita proprio nell'esempio dove sia la LQ che la B o S producevano sempre 10 centesimi di sconto). Questa eccezione potrebbe essere raggirata impostando un valore in minV1 a 0,01 cent e far cos\u00ec diventare la promo da incondizionata a condizionata. La trasformazione dovrebbe disattivare il meccanismo di rilevazione \"promo migliore\" e far scattare sempre la LQ se il prezzo specificato in effetto non \u00e8 raggiunto</p> <p>in generale il comportamento con LQ va approfondito prima di dichiararne la compatibilit\u00e0 con le promo composte / combinate da price checker</p> <p>dobbiamo inserire che non sono supportate le promozioni su pagamento, promozioni AI, promozioni reparto, promo che restituiscono gadget</p> <p>non ufficializziamo il supporto alle promo TTTT finch\u00e8 non sar\u00e0 stato smarcato in posware lo scenario 17 il cui comportamento sembra anomalo nella versione 4.3</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scenario-1","title":"Scenario 1","text":"<p>Questo scenario contempla la visualizzazione di un prezzo senza promozioni attive di un prodotto \"normale\" (non a peso). Nella visualizzazione del prezzo se il prodotto non \u00e8 a peso e non sono presenti promozioni attive il prezzo di listino corrisponder\u00e0 con il prezzo finale.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#esempio","title":"Esempio:","text":"<p>Si consideri come prodotto \"non a peso\" una bottiglietta d'acqua da 0.33 \u20ac. Il prezzo finale mostrato sar\u00e0 di 0.33 \u20ac, con prezzo equivalente 0.66 \u20ac/ LT.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scenario-2-promozione-a-valore-effetto-b-di-01","title":"Scenario 2 - Promozione a valore effetto B di 0.1 \u20ac","text":"<p>Questo scenario contempla la visualizzazione del prezzo in promozione e il prezzo di listino del prodotto non a peso.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#esempio_1","title":"Esempio:","text":"<p>Si consideri come prodotto \"non a peso\" un succo di frutta da 0.7 litri a 1.03 \u20ac. Il prezzo finale mostrato sar\u00e0 di 0.93 \u20ac, con prezzo equivalente a 1.33 \u20ac/LT (0.7 litri a pezzo) e prezzo di listino barrato a 1.03 \u20ac.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scenario-3-promozione-taglio-prezzo-effetto-lq-a-060","title":"Scenario 3 - Promozione taglio prezzo effetto LQ a 0.60 \u20ac","text":"<p>Questo scenario contempla la visualizzazione del prezzo in promozione e un prezzo di listino del prodotto non a peso.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#esempio_2","title":"Esempio:","text":"<p>Si consideri come prodotto \"non a peso\" un succo di frutta da 0.5 litri a 0.75 \u20ac. Il prezzo finale mostrato sar\u00e0 di 0.60 \u20ac, con prezzo equivalente a 1.20 \u20ac/LT (0.5 litri a pezzo) e prezzo di listino barrato a 0.75 \u20ac.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scenario-4-promozione-percentuale-tipo-effetto-s-a-10","title":"Scenario 4 - Promozione % percentuale tipo effetto S a 10%","text":"<p>Questo scenario contempla la visualizzazione del prezzo in promozione e un prezzo di listino del prodotto non a peso.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#esempio_3","title":"Esempio:","text":"<p>Si consideri come prodotto \"non a peso\" un succo di frutta da 0.25 litri a 2.49 \u20ac. Il prezzo finale mostrato sar\u00e0 di 2.24 \u20ac, con prezzo equivalente a 8.96 \u20ac/LT (0.25 litri a pezzo) e prezzo di listino barrato a 2.49 \u20ac.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scenario-5-prodotto-a-peso-bpeso-true","title":"Scenario 5 - Prodotto a peso - bpeso = true","text":"<p>Questo scenario contempla la visualizzazione di un prezzo normale (senza offerte) di un prodotto a peso (per Bpeso = true). Nella visualizzazione del prezzo se il prodotto \u00e8 a peso e non sono presenti promozioni attive il prezzo di listino corrisponder\u00e0 con il prezzo proporzionale di listino. Il prezzo finale sar\u00e0 il prezzo ottenuto dalle cifre dalla 8 alla 12 del barcode fornito.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#esempio_4","title":"Esempio:","text":"<p>Si consideri come prodotto a peso del pane da 2.40 \u20ac al chilo (Barcode: XXXXXXXX01340 -&gt; 1.34 \u20ac). Il prezzo finale mostrato sar\u00e0 di 1.34\u20ac con prezzo di listino a 2.40 \u20ac/KG. Il prezzo equivalente non sar\u00e0 mostrato.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scenario-6-prodotto-a-peso-bpeso-true-promozione-a-valore-effetto-b-di-01","title":"Scenario 6 - Prodotto a peso - bpeso = true - Promozione a valore effetto B di 0.1\u20ac","text":"<p>Questo scenario contempla la visualizzazione di un prezzo in promozione di un prodotto a peso (per Bpeso = true).</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#esempio_5","title":"Esempio:","text":"<p>Si consideri come prodotto a peso della pasta di mandorle da 13 \u20ac al chilo (Barcode: XXXXXXXX08220 -&gt; 8.22\u20ac). Il prezzo finale mostrato sar\u00e0 di 8.12\u20ac con prezzo di listino a 12.84 \u20ac/KG. Il prezzo equivalente non sar\u00e0 mostrato.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scenario-7-prodotto-a-peso-bpeso-true-promozione-taglio-prezzo-effetto-lq-a-200","title":"Scenario 7 - Prodotto a peso - bpeso = true - Promozione taglio prezzo effetto LQ a 2.00\u20ac","text":"<p>Questo scenario contempla la visualizzazione di un prezzo in promozione di un prodotto a peso (per Bpeso = true).</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#esempio_6","title":"Esempio:","text":"<p>Si consideri come prodotto a peso del radicchio da 2.49 \u20ac al chilo (Barcode: XXXXXXXX03460 -&gt; 3.46\u20ac). Il prezzo finale mostrato sar\u00e0 di 2.78\u20ac con prezzo di listino a 2.00\u20ac/KG. Il prezzo equivalente non sar\u00e0 mostrato.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scenario-8-prodotto-a-peso-bpeso-true-promozione-percentuale-tipo-effetto-s-a-10","title":"Scenario 8 - Prodotto a peso - bpeso = true - Promozione % percentuale tipo effetto S a 10%","text":"<p>Questo scenario contempla la visualizzazione di un prezzo in promozione di un prodotto a peso (per Bpeso = true).</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#esempio_7","title":"Esempio:","text":"<p>Si consideri come prodotto a peso una focaccia da 7 \u20ac al chilo (Barcode: XXXXXXXX03520 -&gt; 3.52\u20ac). Il prezzo finale mostrato sar\u00e0 di 3.17 \u20ac con prezzo di listino a 6.30 \u20ac/KG. Il prezzo equivalente non sar\u00e0 mostrato.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scenario-9-prodotto-a-peso-bpeso-true-um-pz-promozione-nuovo-prezzo-tipo-effetto-np-a-200","title":"Scenario 9 - Prodotto a peso - bpeso = true (UM != PZ) - Promozione nuovo prezzo tipo effetto NP a 2.00\u20ac","text":"<p>Lo scenario contempla la visualizzazione di un prezzo in promozione di un prodotto a peso (per Bpeso = true e UM != PZ).</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#esempio_8","title":"Esempio:","text":"<p>Si consideri come prodotto a peso dei panini al latte da 2.30 \u20ac al chilo (Barcode: XXXXXXXX03320 -&gt; 3.32\u20ac).  Il prezzo finale mostrato sar\u00e0 di 3.32\u20ac con prezzo di listino a 2.00 \u20ac/KG. Il prezzo equivalente non sar\u00e0 mostrato.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scenario-10-prodotto-a-peso-bpeso-peso","title":"Scenario 10 - Prodotto a peso - bpeso = peso","text":"<p>Lo scenario contempla la visualizzazione di un prezzo normale (senza offerte) di un prodotto a peso (per Bpeso = peso). Nella visualizzazione del prezzo se il prodotto \u00e8 a peso e non sono presenti promozioni attive il prezzo di listino corrisponder\u00e0 con il prezzo proporzionale di listino. Il prezzo finale sar\u00e0 il prezzo calcolato moltiplicando la quantit\u00e0 ottenuta dalle cifre dalla 8 alla 12 del barcode fornito e il prezzo proporzionale di listino.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#esempio_9","title":"Esempio:","text":"<p>Si consideri come prodotto a peso dell'agnello da 13.9 \u20ac al chilo (Barcode: XXXXXXXX12100 -&gt; 1.21 kg). Il prezzo finale mostrato sar\u00e0 di 16.82 \u20ac con prezzo di listino a 13.9 \u20ac/KG. Il prezzo equivalente non sar\u00e0 mostrato.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scenario-11-prodotto-a-peso-bpeso-peso-promozione-a-valore-effetto-b-di-01","title":"Scenario 11 - Prodotto a peso - bpeso = peso - Promozione a valore effetto B di 0.1\u20ac","text":"<p>Questo scenario contempla la visualizzazione di un prezzo in promozione di un prodotto a peso (per Bpeso = peso).</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#esempio_10","title":"Esempio:","text":"<p>Si consideri come prodotto a peso del pollo da 5.79 \u20ac al chilo (Barcode: XXXXXXXX07400 -&gt; 0.74 kg). Il prezzo finale mostrato sar\u00e0 di 4.18 \u20ac con prezzo di listino a 5.65 \u20ac/KG. Il prezzo equivalente non sar\u00e0 mostrato.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scenario-12-prodotto-a-peso-bpeso-peso-promozione-taglio-prezzo-effetto-lq-a-200","title":"Scenario 12 - Prodotto a peso - bpeso = peso - Promozione taglio prezzo effetto LQ a 2.00\u20ac","text":"<p>Questo scenario contempla la visualizzazione di un prezzo in promozione di un prodotto a peso (per Bpeso = peso).</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#esempio_11","title":"Esempio:","text":"<p>Si consideri come prodotto a peso delle mele da 1.49 \u20ac al chilo (Barcode: XXXXXXXX31100 -&gt; 3.11 kg). Il prezzo finale mostrato sar\u00e0 di 4.04\u20ac con prezzo di listino a 2.00 \u20ac/KG. Il prezzo equivalente non sar\u00e0 mostrato.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scenario-13-prodotto-a-peso-bpeso-peso-promozione-percentuale-tipo-effetto-s-a-10","title":"Scenario 13 - Prodotto a peso - bpeso = peso - Promozione % percentuale tipo effetto S a 10%","text":"<p>Questo scenario contempla la visualizzazione di un prezzo in promozione di un prodotto a peso (per Bpeso = peso).</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#esempio_12","title":"Esempio:","text":"<p>Si consideri come prodotto a peso dei cardi da 1.39 \u20ac al chilo (Barcode: XXXXXXXX08200 -&gt; 0.82 kg). Il prezzo finale mostrato sar\u00e0 di 1.03 \u20ac con prezzo di listino a 1.26 \u20ac/KG. Il prezzo equivalente non sar\u00e0 mostrato.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scenario-14-prodotto-a-peso-bpeso-peso-promozione-nuovo-prezzo-tipo-effetto-np-a-319","title":"Scenario 14 - Prodotto a peso - bpeso = peso - Promozione nuovo prezzo tipo effetto NP a 3.19\u20ac","text":"<p>Questo scenario contempla la visualizzazione di un prezzo in promozione di un prodotto a peso (per Bpeso = peso).</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#esempio_13","title":"Esempio:","text":"<p>Si consideri come prodotto a peso delle pucce da 3.50 \u20ac al chilo (Barcode: XXXXXXXX05400 -&gt; 0.54 kg). Il prezzo finale mostrato sar\u00e0 di 1.72 \u20ac con prezzo di listino a 3.19 \u20ac/KG. Il prezzo equivalente non sar\u00e0 mostrato.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scenario-15-promozioni-multiple","title":"Scenario 15 - Promozioni multiple","text":"<p>Questo scenario contempla la combinazione degli scenari precedenti: per un prodotto sono attive pi\u00f9 promozioni che devono essere calcolate una dopo l'altra in ordine ascendente di priorit\u00e0. Qualora la priorit\u00e0 di due o pi\u00f9 promozioni sia la stessa, il risultato non \u00e8 garantito.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#esempio_14","title":"Esempio:","text":"<p>Si consideri un prodotto \"non a peso\" a 3.98 \u20ac al pezzo.  Promozioni attive:</p> <ul> <li>promozione a valore a 0.15\u20ac;</li> <li>promozione percentuale al 5%;</li> <li>promozione taglio prezzo a 3.20\u20ac.</li> </ul> <p>Il prezzo finale mostrato sar\u00e0 di 2.89 \u20ac con prezzo equivalente a 6.37 \u20ac/KG (0.454 kg a pezzo) e prezzo di listino non scontato a 3.98\u20ac.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scenario-16-presenza-di-promozioni-non-attive-al-momento-del-rilevamento-prezzo","title":"Scenario 16 - Presenza di promozioni non attive al momento del rilevamento prezzo","text":"<p>Come nel precedente scenario sono presenti pi\u00f9 promozioni per un solo prodotto, ma con orari e date di attivazione diversi tra loro. Quindi pu\u00f2 capitare che se la rilevazione del prezzo viene fatta in due momenti diversi il prezzo risultante sia diverso, perch\u00e9 calcolato in base alle promo attive in quel momento.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#esempio_15","title":"Esempio:","text":"<p>Si consideri un prodotto \"non a peso\" a 0.70 \u20ac al pezzo.  Promozioni attive:</p> <ul> <li>promozione a valore a 0.10\u20ac attiva dalle 12.00 alle 23.59;</li> <li>promozione percentuale al 5% attiva dalle 12.00 alle 23.59;</li> <li>promozione taglio prezzo a 0.56\u20ac attiva dalle 12.00 alle 23.59;</li> <li>promozione a valore a 0.13\u20ac attiva dalle 00.00 alle 11.59;</li> <li>promozione percentuale al 5% attiva dalle 00.00 alle 11.59;</li> <li>promozione taglio prezzo a 0.50\u20ac attiva dalle 00.00 alle 11.59.</li> </ul> <p>Durante una rilevazione fatta tra mezzanotte e mezzogiorno: il prezzo finale mostrato sar\u00e0 di 0.34 \u20ac con prezzo equivalente a 0.68 \u20ac/KG (0.5 kg a pezzo) e prezzo di listino barrato a 0.70\u20ac. Durante una rilevazione fatta tra mezzogiorno e mezzanotte: il prezzo finale mostrato sar\u00e0 di 0.43 \u20ac con prezzo equivalente a 0.86 \u20ac/KG (0.5 kg a pezzo) e prezzo di listino barrato a 0.70 \u20ac.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scenario-17-promozioni-riservate-ai-clienti-fidelity","title":"Scenario 17 - Promozioni riservate ai clienti fidelity","text":"<p>Questo scenario contempla la presenza di promozioni (comprendendo tutti i casi elencati precedentemente) attive per tutti gli utenti, per i soli utenti non fidelity o per i soli utenti fidelity. Durante una prima rilevazione il prezzo calcolato non considera le promozioni del tipo fidelity. Se queste ultime fossero presenti apparir\u00e0 in basso una schermata con la seguente domanda: <code>Sei in possesso di una customer card?</code>. Premendo <code>NO</code> la schermata si chiuder\u00e0 semplicemente. Premendo <code>SI</code> il prezzo verr\u00e0 ricalcolato tenendo conto delle promozioni di tipo fidelity.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#esempio_16","title":"Esempio:","text":"<p>Si consideri un prodotto \"non a peso\" a 52.00 \u20ac al pezzo.  Promozioni attive:</p> <ul> <li>promozione a valore a 5.00\u20ac attiva dalle 12.00 alle 23.59 per tutti gli utenti;</li> <li>promozione percentuale all'8% attiva dalle 12.00 alle 23.59 per i soli utenti fidelity;</li> <li>promozione taglio prezzo a 48.20\u20ac attiva dalle 12.00 alle 23.59 per i soli utenti non fidelity;</li> <li>promozione a valore a 6.10\u20ac attiva dalle 00.00 alle 11.59 per i soli utenti fidelity;</li> <li>promozione percentuale al 10% attiva dalle 00.00 alle 11.59 per i soli utenti fidelity;</li> <li>promozione taglio prezzo a 42.59\u20ac attiva dalle 00.00 alle 11.59 per i soli utenti non fidelity.</li> </ul> <p>Durante una rilevazione fatta tra mezzanotte e mezzogiorno senza confermare il possesso di una customer card: il prezzo finale mostrato sar\u00e0 di 42.59 \u20ac con prezzo equivalente a 56.79 \u20ac/LT (0.75 l a pezzo) e prezzo di listino barrato a 52.00 \u20ac. Durante una rilevazione fatta tra mezzanotte e mezzogiorno confermando il possesso di una customer card: il prezzo finale mostrato sar\u00e0 di 40.70 \u20ac con prezzo equivalente a 54.27 \u20ac/LT (0.75 l a pezzo) e prezzo di listino barrato a 52.00 \u20ac. Durante una rilevazione fatta tra mezzogiorno e mezzanotte senza confermare il possesso di una customer card: il prezzo finale mostrato sar\u00e0 di 43.20 \u20ac con prezzo equivalente a 57.60 \u20ac/LT (0.75 l a pezzo) e prezzo di listino barrato a 52.00 \u20ac. Durante una rilevazione fatta tra mezzogiorno e mezzanotte confermando il possesso di una customer card: il prezzo finale mostrato sar\u00e0 di 42.84 \u20ac con prezzo equivalente a 57.12 \u20ac/LT (0.75 l a pezzo) e prezzo di listino barrato a 52.00 \u20ac. </p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#scenario-18-promozioni-multiple-con-medesima-priorita","title":"Scenario 18 - Promozioni multiple con medesima priorit\u00e0","text":"<p>In questo scenario per un prodotto sono attive pi\u00f9 promozioni che devono essere calcolate una dopo l'altra. La priorit\u00e0 e il tipo (se ad articolo o a reparto) delle promozioni sono gli stessi, quindi le promo verranno ordinate in base al codice (campo <code>codPromo</code> della tabella <code>promozioni</code>).</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#esempio_17","title":"Esempio:","text":"<p>Si consideri un prodotto \"non a peso\" a 2.35 \u20ac al pezzo.  Promozioni attive:</p> <ul> <li>promozione taglio prezzo a 1.30\u20ac con codice <code>promo1</code>;</li> <li>promozione percentuale al 5% con codice <code>promo2</code>;</li> <li>promozione a valore a 0.10\u20ac con codice <code>promo3</code>;</li> </ul> <p>Il prezzo finale mostrato sar\u00e0 di 1.13 \u20ac con prezzo equivalente a 3.77 \u20ac/KG (0.3 kg a pezzo) e prezzo di listino non scontato a 2.35\u20ac.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#accesso-ai-settings-del-ppc","title":"Accesso ai settings del PPC","text":"<p>Le funzionalit\u00e0 riservate agli utenti amministratori sono nascoste.  Per potervi accedere occorre seguire gli step qui di seguito:</p> <ol> <li> <p>cliccare 4 volte consecutive nell'angolo in alto a destra a fianco del simbolo del WiFi:</p> <p></p> </li> <li> <p>a questo punto \u00e8 necessario inserire le credenziali per l'accesso:</p> <p></p> <p>Per effettuare l'accesso alle funzionalit\u00e0 di amministratore \u00e8 possibile utilizzare le credenziali di un operatore di Posware Frontend, con permessi di amministratore e abilitato alla gestione del PPC. Altrimenti esistono delle credenziali universali (modificabili nella WebApp):</p> <ul> <li>Username: PPCAdmin;</li> <li>Password (da qui in poi nota come Master password): PPCPassword.</li> </ul> </li> <li> <p>cliccare su <code>Accedi</code>;</p> </li> <li> <p>a questo punto avremo effettuato l'accesso ai settings del PPC.</p> </li> </ol> <p></p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#accesso-alle-impostazioni-di-sistema","title":"Accesso alle impostazioni di sistema","text":"<p>\u00c8 possibile accedere alle impostazioni di sistema premendo il pulsante Vai ai settings di Android nella schermata delle impostazioni del PPC.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#visualizzazione-info-dispositivi","title":"Visualizzazione info dispositivi","text":"<p>\u00c8 possibile per l'utente amministratore visualizzare una schermata che riepiloghi tutte le informazioni riguardanti il dispositivo e il PPC. Tale schermata \u00e8 accessibile in due modi:</p> <ol> <li>cliccando 4 volte sull'icona del WiFi, anche mentre \u00e8 visibile lo spinner (seguire quindi gli step 2 e 3 descritti sopra);</li> <li>cliccando una volta sull'icona del WiFi dopo che l'accesso ai settings \u00e8 gi\u00e0 stato effettuato.</li> </ol> <p>La schermata contenente le informazioni del dispositivo si presenter\u00e0 cos\u00ec:</p> <p></p> <p>Le informazioni contenute nella finestra pop-up riguardano:</p> <ul> <li>Versione Android: si tratta della versione di Android installata nel dispositivo;</li> <li>Versione PriceChecker: indica il numero di versione del pacchetto apk del PPC attualmente installato ed in uso;</li> <li>Risoluzione schermo: </li> <li>Numero seriale: \u00e8 il numero di serie del dispositivo.</li> <li>Etichetta: l'etichetta viene assegnata dall'utente al momento della registrazione con lo StoreServer;</li> <li>Data di registrazione: data e ora in cui viene effettuata la registrazione con il server;</li> <li>Indirizzo IP device: indica l'indirizzo IP del dispositivo relativo alla rete a cui \u00e8 connesso;</li> <li>Indirizzo IP server: indirizzo IP del server. Pu\u00f2 essere ottenuto solo dopo la registrazione;</li> <li>Raggiungibilit\u00e0 server: indica se il server \u00e8 raggiungibile o meno.</li> <li>Tipo connessione: indica il tipo di rete a cui \u00e8 connesso il PPC o se non \u00e8 connesso:<ul> <li>Non connesso</li> <li>WiFi: in questo caso vengono visualizzati i campi SSID e potenza segnale, altrimenti no;</li> <li>Ethernet: il dispositivo \u00e8 connesso tramite cavo di rete;</li> </ul> </li> <li>SSID WiFi: (questo campo \u00e8 visibile solo nel caso in cui il dispositivo sia connesso tramite WiFi) nome della rete WiFi a cui \u00e8 collegato il dispositivo;</li> <li>Potenza segnale WiFi: (questo campo \u00e8 visibile solo nel caso in cui il dispositivo sia connesso tramite WiFi) potenza del segnale della connessione WiFi.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#attivazione-visibilita-di-rete","title":"Attivazione visibilit\u00e0 di rete","text":"<p>L'utente amministratore ha la possibilit\u00e0 di attivare manualmente la visibilit\u00e0 di rete cliccando il pulsante <code>Attiva visibilit\u00e0 device in rete</code> nei settings. Una volta attivata l'icona del WiFi diventer\u00e0 uno spinner e il pulsante <code>Attiva visibilit\u00e0 device in rete</code> verr\u00e0 disattivato. La visibilit\u00e0 di rete, in caso di dispositivo in attesa di registrazione, si sar\u00e0 gi\u00e0 attivata all'avvio dell'app e continuer\u00e0 ad essere in funzione fintanto che non sar\u00e0 registrato.  In caso di dispositivo gi\u00e0 registrato, una volta attivata manualmente, la visibilit\u00e0 rester\u00e0 attiva per 5 minuti.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#registrazione-manuale-dispositivi","title":"Registrazione manuale dispositivi","text":"<p>Se ci fossero dei problemi nella registrazione automatica, \u00e8 possibile tentare di registrare il PPC manualmente. Una volta effettuato l'accesso ai settings seguire i passi:</p> <ol> <li>cliccare su <code>Registrazione manuale</code>;</li> <li>compilare i campi inserendo indirizzo IP e porta del server e un'etichetta che identifichi il dispositivo;</li> <li>cliccare su <code>Registra</code>.</li> </ol> <p>Se tutto \u00e8 andato a buon fine a questo punto la registrazione sar\u00e0 stata effettuata. La descrizione del dispositivo che ritroveremo registrata nell'elenco nella WebApp corrisponder\u00e0 al numero seriale del dispositivo.  </p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#sincronizzazione-forzata-dei-settings","title":"Sincronizzazione forzata dei settings","text":"<p>Dal momento in cui il dispositivo viene registrato, le impostazioni vengono sincronizzate periodicamente ogni ora. Qualora si voglia forzare la sincronizzazione per non dover aspettare, \u00e8 possibile:</p> <ol> <li>andare sui settings del PPC;</li> <li>cliccare su <code>Sincronizza le impostazioni</code>.</li> </ol> <p>Cos\u00ec facendo le impostazioni verranno scaricate immediatamente dallo StoreServer. Il timer che scandisce la periodicit\u00e0 delle sincronizzazioni ripartir\u00e0 da questo momento. Ogni volta che la sincronizzazione viene effettuata, in alto a sinistra dell'icona del WiFi, apparir\u00e0 per pochi secondi un'icona:</p> Sincronizzazione avvenuta con successo Sincronizzazione fallita","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#funzionalita-ppcmodule","title":"Funzionalit\u00e0 PPCModule","text":"<p>Lato WebApp, il PPCModule offre la possibilit\u00e0 di:</p> <ul> <li>gestire le impostazioni dei dispositivi;</li> <li>gestire i singoli dispositivi (registrazione, eliminazione e aggiornamento);</li> <li>gestire l'abilitazione degli operatori di Posware Frontend.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#gestione-impostazioni","title":"Gestione impostazioni","text":"<p>La schermata delle impostazioni del PPC nella WebApp si presentano cos\u00ec:</p> <p></p> <p>In questa schermata \u00e8 possibile:</p> <ul> <li>inserire un logo da caricare in tutti i PPC installati e registrati. Questo logo verr\u00e0 mostrato in alto a sinistra della schermata del PPC al posto del logo di default <code>POSWARE</code>. Per ripristinare il default \u00e8 sufficiente eliminare il logo da questa schermata. Il file caricato dovr\u00e0 essere dei formati jpg, png o bmp e non dovr\u00e0 superare i 500Kb di grandezza;</li> <li>abilitare/disabilitare la visualizzazione del prezzo equivalente del prodotto;</li> <li>modificare la Master password;</li> <li>modificare il valore dei timeout (vedi sotto) che regolano il PPC.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#timeout","title":"Timeout","text":"<p>I timeout che scandiscono le azioni nel PPC sono:</p> <ol> <li>Dopo la scansione di un prodotto rilevato: si tratta del tempo che intercorre tra la comparsa della schermata del prodotto rilevato e il ritorno alla schermata principale;</li> <li>Dopo la scansione di un prodotto non rilevato: si tratta del tempo che intercorre tra la comparsa della schermata del prodotto non rilevato e il ritorno alla schermata principale;</li> <li>Dopo un inserimento manuale interrotto: si tratta del tempo che intercorre tra l'apertura della schermata di inserimento manuale (campo di inserimento del codice vuoto) e il ritorno alla schermata principale;</li> <li>Dopo l'accesso alla schermata di Stato Device, Impostazioni, Login: si tratta del tempo che intercorre tra l'apertura della schermata che mostra le informazioni del dispositivo, della schermata delle impostazioni o della schermata di login e il ritorno alla schermata principale;</li> <li>Dopo l'ultima digitazione in inserimento manuale: dopo aver digitato l'ultima cifra nella schermata di inserimento manuale del codice (campo di inserimento del codice pieno), parte questo timeout, dopo il quale viene effettuata automaticamente la ricerca.</li> </ol> <p>Ogni volta che l'utente tocca lo schermo, se le condizioni sopra descritte non variano, il timeout in questione si resetta. Per esempio si consideri di essere giunti nella schermata di un prodotto rilevato (si attiva il timeout \"Dopo la scansione di un prodotto rilevato\"). Si consideri che il timeout in questo caso sia di 7 secondi. Se l'utente tocca lo schermo in qualsiasi punto evitando di toccare pulsanti che cambino la schermata, prima che il tempo scada, il countdown dei 7 secondi ricomincia da capo. Quindi se per caso si volesse rimanere pi\u00f9 tempo su una schermata che altrimenti tornerebbe automaticamente alla principale, non si deve far altro che toccare lo schermo.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#gestione-dispositivi","title":"Gestione dispositivi","text":"<p>Per quel che riguarda i dispositivi sono attuabili le seguenti operazioni:</p> <ul> <li>registrazione;</li> <li>eliminazione;</li> <li>aggiornamento.</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#registrazione","title":"Registrazione","text":"<p>Per la registrazione del dispositivo tramite WebApp fare riferimento a questa sezione della guida.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#eliminazione","title":"Eliminazione","text":"<p>Eliminando un dispositivo non si impedir\u00e0 al PPC di funzionare correttamente, ma non si aggiorner\u00e0.  Per eliminare un dispositivo registrato \u00e8 necessario:</p> <ol> <li> <p>cliccare sul pulsante con i tre pallini a fianco del dispositivo che si desidera eliminare;</p> <p></p> </li> <li> <p>a questo punto si sar\u00e0 aperto un men\u00f9. Cliccare su <code>Elimina device</code>;</p> <p></p> </li> <li> <p>alla domanda che verr\u00e0 mostrata rispondere cliccando su <code>Continua</code>.</p> <p></p> </li> </ol> <p>In questo modo si torner\u00e0 all'elenco che verr\u00e0 aggiornato togliendo il dispositivo che \u00e8 stato eliminato.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#aggiornamento","title":"Aggiornamento","text":"<p>Per poter aggiornare il PPC con una nuova versione dell'app occorre:</p> <ol> <li>inserire l'apk dell'aggiornamento nella cartella <code>wwwroot/PPC/Updates</code> contenuta nella directory che ospita l'eseguibile dello StoreServer (<code>Posware.Services.Dmo.exe</code>);</li> <li> <p>a questo punto nell'elenco dei dispositivi nella dashboard della WebApp, a fianco di quelli aggiornabili, apparir\u00e0 il seguente pulsante e il pulsante <code>Aggiorna app</code> sar\u00e0 attivo:</p> <p></p> </li> <li> <p>cliccare sul pulsante che \u00e8 apparso accanto al dispositivo che si desidera aggiornare o sul pulsante <code>Aggiorna app</code> nel men\u00f9;</p> </li> <li> <p>nella schermata di richiesta conferma troveremo un riepilogo della versione attuale del dispositivo e di quella che abbiamo caricato:</p> <p></p> <p>Premere quindi su <code>Aggiorna</code>;</p> </li> </ol> <p>A questo punto si avvier\u00e0 nel dispositivo designato la procedura di aggiornamento. Alla fine dell'operazione nella WebApp apparir\u00e0 una schermata con un messaggio che confermer\u00e0 che l'aggiornamento ha avuto successo.</p> <p>Il nome dell'apk deve avere il seguente formato: <code>PriceChecker_x.y.z(-xxxxx)+yyyyMMddHHmmss.apk</code></p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#gestione-operatori","title":"Gestione operatori","text":"<p>Gli operatori di Posware Frontend che la sezione del PPC della WebApp pu\u00f2 gestire sono quelli con i permessi di amministratore. Nella dashboard troveremo un elenco degli ID degli operatori sopracitati, con a fianco un toggle per determinare quali di loro avranno l'accesso alle impostazioni segrete del PPC.</p> <p></p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#troubleshooting-per-i-tecnici","title":"Troubleshooting per i tecnici","text":"","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#verifica-del-caricamento-del-plug-in-ppcmodule","title":"Verifica del caricamento del plug-in PPCModule","text":"<p>E' possibile verificare l'avvenuto caricamento del plug-in consultando i file di log dello StoreServer.</p> <p>Deve essere presente la riga:</p> <pre><code>`YYYY-MM-DD HH:mm:ss.ffff|Posware.Services.Dmo.Modules.Handlers.IModulesHandler|INFO|Successfully loaded module: Posware.Services.Dmo.PPCModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null`\n</code></pre> <p>In questo caso il plug-in \u00e8 stato rilevato e caricato.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#consultazione-dei-log","title":"Consultazione dei log","text":"<p>Per visualizzare i file di log del PPC \u00e8 necessario:</p> <ol> <li>accedere ai settings;</li> <li>premere il pulsante <code>Copia i log</code>;</li> <li>collegare il dispositivo al PC;</li> <li>utilizzare l'adb per scaricare i file di log che si troveranno in <code>sdcard/Download/PPCLogs_yyyyMMddHHmmss</code></li> </ol>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#errori-nel-rilevamento-prezzi","title":"Errori nel rilevamento prezzi","text":"<p>Nel caso in cui l'operazione di rilevamento del prezzo non vada a buon fine a causa di un errore, il messaggio riportato al cliente finale conterr\u00e0 un codice alla fine, es:</p> <p>Il prodotto non \u00e8 stato trovato, provare con un altro codice - 1</p> <p>Sono previsti i seguenti codici errore:</p> <pre><code>&lt;string name=\"product_not_found_message_no_connection_error\"&gt;Il prodotto non \u00e8 stato trovato.\\nProvare con un altro codice. - 11&lt;/string&gt;\n&lt;string name=\"product_not_found_message_no_network_connection_error\"&gt;Il prodotto non \u00e8 stato trovato.\\nProvare con un altro codice. - 10&lt;/string&gt;\n&lt;string name=\"product_not_found_message_generic_error\"&gt;Il prodotto non \u00e8 stato trovato.\\nProvare con un altro codice. - 2&lt;/string&gt;\n</code></pre> <ul> <li>Codice 1: \u00e8 necessario verificare se sono correttamente valorizzati con valori coerenti i campi <code>descrizione</code>, <code>um</code>, <code>iva</code> o <code>prezzo</code> del prodotto andando a consultare le tabelle <code>articoli</code> e/o <code>art_agg</code>:<ul> <li><code>descrizione</code>: \u00e8 necessario che non sia vuoto;</li> <li><code>um</code>: \u00e8 necessario che non sia vuoto e che il valore trovi riscontro in un record corrispondente della tabella <code>tabum</code>;</li> <li><code>iva</code>: \u00e8 necessario che non sia vuoto e che il valore trovi riscontro in un record corrispondente della tabella <code>codiva</code>;</li> <li><code>prezzo</code>: \u00e8 necessario che non sia vuoto e che il valore sia maggiore di zero.</li> </ul> </li> </ul> <p>\u00c8 possibile a questo proposito verificare nei file di log del PPC la presenza di una riga contenente il messaggio: <code>Invalid fields 'Descrizione', 'UM', 'Iva', 'Prezzo' of the product with barcode XXXXXXXXXXXXX</code></p> <ul> <li> <p>Codice 2: \u00e8 avvenuto un errore generico non gestito per cui \u00e8 necessario troubleshooting tramite i log: verificare la presenza di errori consultando i file di log del PPC.</p> </li> <li> <p>Codice 10: non \u00e8 presente una connessione di rete attiva.</p> </li> <li> <p>Codice 11: il server non risulta raggiungibile. Potrebbe essere che il server sia spento o potrebbe esserci un qualche problema di rete che non permette di raggiungere il server con la chiamata.</p> </li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#errori-nellaggiornamento","title":"Errori nell'aggiornamento","text":"<p>In caso di mancato aggiornamento le verifiche da poter effettuare sono:</p> <ol> <li>Verifica che la modalit\u00e0 kiosk sia attiva</li> <li>Verifica del canale di comunicazione verso il dispositivo</li> <li>Verifica della correttezza dell'apk</li> </ol>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#verifica-che-la-modalita-kiosk-sia-attiva","title":"Verifica che la modalit\u00e0 kiosk sia attiva","text":"<p>Per questa operazione si rimanda il lettore alla sezione di questa guida che ne parla.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#verifica-del-canale-di-comunicazione-verso-il-dispositivo","title":"Verifica del canale di comunicazione verso il dispositivo","text":"<p>Qualora il canale di comunicazione sia correttamente stato aperto, nel file di log deve essere presente la seguente riga:</p> <p><code>(yyyy-MM-dd HH:mm:ss) TRACE/NetworkServicesManager Update socket opened on port: 20230</code></p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#verifica-della-correttezza-dellapk","title":"Verifica della correttezza dell'apk","text":"<p>Il nome del file caricato nella cartella <code>wwwroot/PPC/Updates</code> non deve subire modifiche. La formattazione del nome file deve corrispondere alla seguente:</p> <p><code>PriceChecker_x.y.z(-xxxxxxx)+yyyyMMddHHmmss.apk</code>.</p> <p>In caso che l'apk sia corretto deve risultare che le sue dimensioni siano maggiori di 45 Mb. Sostituendo l'estensione <code>.apk</code> con <code>.zip</code> si deve comportare come fosse un normale archivio. Tramite utility quali 7-Zip, WinZip o WinRar \u00e8 anche possibile eseguire la verifica di integrit\u00e0 dell'archivio.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#mancata-sincronizzazione-delle-impostazioni","title":"Mancata sincronizzazione delle impostazioni","text":"<ol> <li>Verificare che il dispositivo sia stato correttamente registrato nella WebApp e che sia ancora presente nell'elenco dei dispositivi registrati (non deve essere stato eliminato). Qualora non sia registrato consultare questa sezione della guida.</li> <li>Verificare l'affidabilit\u00e0 dei collegamenti di rete.</li> <li>Verificare che il servizio Posware Store Server sia installato, attivo e raggiungibile sul server a cui fa riferimento il dispositivo Price Checker</li> <li>Verificare che il PPCModule sia installato sul Posware Store Server.</li> </ol>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#errori-nella-registrazione-da-webapp","title":"Errori nella registrazione da WebApp","text":"<p>In caso di mancata registrazione le verifiche da poter effettuare sono:</p> <ul> <li>Verifica della visibilit\u00e0 di rete</li> <li>Verifica che le chiamate al server siano andate a buon fine</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#verifica-della-visibilita-di-rete","title":"Verifica della visibilit\u00e0 di rete","text":"<p>Per verificare che la visibilit\u00e0 di rete sia stata correttamente attivata, controllare che:</p> <ol> <li>L'icona del WiFi in alto a destra deve essersi trasformata in uno spinner;</li> <li>Analizzando l'ultimo file di log creato dal PPC devono essere presenti le seguenti righe:<ul> <li><code>(yyyy-MM-dd HH:mm:ss) TRACE/NetworkServicesManager Registration socket opened on port: 20229</code></li> <li><code>(yyyy-MM-dd HH:mm:ss) INFO/NetworkServicesManager Service registered: posware-price-checker-xxxxxxxxxxxxxx</code></li> </ul> </li> <li>Il server e il dispositivo siano sulla stessa rete logica. L'indirizzo IP del dispositivo \u00e8 visibile nella schermata di stato del PPC. Qualora fossero su reti fisiche o logiche (subnet diversa ecc...) differenti, fare in modo che le due reti possano comunicare tra loro oppure cambiare gli indirizzi ip in modo che siano mutuamente raggiungibili.</li> </ol>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#verifica-che-le-chiamate-al-server-siano-andate-a-buon-fine","title":"Verifica che le chiamate al server siano andate a buon fine","text":"<p>In genere le risposte alle chiamate di questo tipo sono segnalate con un messaggio sul dispositivo. Per avere una visione pi\u00f9 dettagliata del problema \u00e8 possibile consultare il file di log. Le righe da controllare sono quelle successive a: </p> <pre><code>(yyyy-MM-dd HH:mm:ss) TRACE/NetworkManager  - Request: PUT - http://192.168.xxx.xxx:xxxx/api/ppc/mobiledevice/registration\n    - Body: {\"nameValuePairs\":{\"deviceID\":\"xxxxxxxxxxxxxxxxxxxxxx\",\"ipAddress\":\"192.168.xxx.xxx\",\"description\":\"xxxxxxxxxxxxxxxxx\",\"ppcVersion\":\"x.y.z-xxxxxxxx\"}}\n</code></pre> <p>Qualora non fosse possibile registrare il dispositivo tramite ricerca automatica dalla WebApp, procedere con la registrazione manuale dal dispositivo</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#errori-nel-caricamento-del-logo","title":"Errori nel caricamento del logo","text":"<p>In caso di mancato caricamento del logo le verifiche da poter effettuare sono:</p> <ul> <li>verifica che la sincronizzazione dei settings sia correttamente avvenuta</li> <li>verifica della correttezza del file caricato</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#verifica-che-la-sincronizzazione-dei-settings-sia-correttamente-avvenuta","title":"Verifica che la sincronizzazione dei settings sia correttamente avvenuta","text":"<p>Verificare che nel log siano presenti le seguenti righe:</p> <ul> <li><code>(yyyy-MM-dd HH:mm:ss) TRACE/NetworkManager  - Request: GET - http://192.168.xxx.xxx:xxxx/api/ppc/mobiledevice/sync/deviceID/xxxxxxxxxxxxxx/deviceIP/192.168.xxx.xxx/ppcVersion/x.y.z-xxxxxxx - Body: null</code></li> <li><code>(yyyy-MM-dd HH:mm:ss) TRACE/NetworkManager  - Request: GET - http://192.168.xxx.xxx:xxxx/PPC%5CLogo%5Cxxxxxxx-yyyyMMddHHmmss.(png | jpg | bmp)</code></li> <li><code>(yyyy-MM-dd HH:mm:ss) TRACE/MainViewModel Settings synchronization successful.</code></li> </ul> <p>Se l'ultima non \u00e8 presente, verificare la presenza di messaggi di errore successivi alla seconda.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#verifica-della-correttezza-del-file-caricato","title":"Verifica della correttezza del file caricato","text":"<p>Nei settings del PPC nella WebApp, in alto deve essere visualizzabile il logo che \u00e8 stato caricato, se cos\u00ec non fosse potrebbe essere corrotto il file. Verificare inoltre che dopo il salvataggio, il file caricato sia presente nella cartella dello StoreServer <code>wwwroot/PPC/Logo</code>. In caso contrario verificare i permessi di accesso al folder. Controllare che le dimensioni del file immagine siano coerenti con quanto riportato nella UI delle impostazioni della WebApp del Posware StoreServer.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#errori-nella-visualizzazione-del-prezzo-equivalente","title":"Errori nella visualizzazione del prezzo equivalente","text":"<p>In caso di mancato visualizzazione del prezzo equivalente le verifiche da poter effettuare sono:</p> <ul> <li>Verifica della abilitazione della visualizzazione del prezzo equivalente nei settings</li> <li>Verifica che ci siano le condizioni per cui possa essere visualizzato</li> </ul>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#verifica-della-abilitazione-della-visualizzazione-del-prezzo-equivalente-nei-settings","title":"Verifica della abilitazione della visualizzazione del prezzo equivalente nei settings","text":"<p>Nei settings del PPC nella WebApp, verificare che l'interruttore accanto a <code>Mostra il prezzo equivalente del prodotto</code> sia acceso.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/posware-price-checker.html#verifica-che-ci-siano-le-condizioni-per-cui-possa-essere-visualizzato","title":"Verifica che ci siano le condizioni per cui possa essere visualizzato","text":"<p>Le condizioni in cui il prezzo equivalente \u00e8 visibile sono descritte qui.</p>","tags":["Posware"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html","title":"Posware Module - Statistiche dettagliate","text":"<p>Prima revisione documento: 4 settembre 2023 Ultima revisione documento: 21 maggio 2025</p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#glossario","title":"Glossario","text":"<ul> <li>WebApp: applicazione web che offre la possibilit\u00e0 di gestire in modo centralizzato le funzionalit\u00e0 disponibili nello StoreServer;</li> <li>Selettore periodo: componente HTML che permette di scegliere un intervallo di date;</li> <li>Cliente Fidelity: cliente in possesso di una Fidelity Card;</li> </ul>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#cenni-preliminari","title":"Cenni preliminari","text":"<p>A far data del 04/09/2023, il presente plug-in offre all'utente la possibilit\u00e0 di:</p> <ul> <li>visualizzare le statistiche dettagliate delle varie categorie presenti in un preciso intervallo di date, scelto dall'utente stesso.</li> </ul> <p>La funzione descritta si trova nella sezione Statistiche dell'applicazione web WebApp dello StoreServer.</p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#versioni-software","title":"Versioni software","text":"<p>La versione minima dello StoreServer richiesta \u00e8 la v. <code>1.0</code> per Windows 10/11.  La versione minima del PoswareModule richiesta \u00e8 la v. <code>1.0</code>.</p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#installazione","title":"Installazione","text":"<p>Il plug-in \u00e8 incluso out-of-the-box nello StoreServer, non necessita di alcuna installazione aggiuntiva e all'avvio sar\u00e0 automaticamente rilevato e caricato.</p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#funzionalita","title":"Funzionalit\u00e0","text":"<p>All'apertura della WebApp verr\u00e0 mostrata la schermata principale. Nella side bar a sinistra troveremo la voce Statistiche.</p> <p></p> <p>Cliccando su questa si aprir\u00e0 il men\u00f9 sottostante. Appaiono le voci: </p> <ul> <li>Casse</li> <li>Operatori</li> <li>Reparti</li> <li>IVA</li> <li>Prospetto finanziario</li> <li>Fasce orarie</li> <li>Fasce scontrino</li> </ul> <p>Cliccando sulla voce di men\u00f9 interessata \u00e8 possibile accedere alla relativa statistica.</p> <p></p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#statistiche-relative-alle-casse","title":"Statistiche relative alle casse","text":"<p>Selezionando Casse si acceder\u00e0 alla seguente schermata:</p> <p></p> <p>Tale schermata \u00e8 composta da due sezioni principali sulla sinistra ed una colonna riepilogativa sulla destra. Nella prima sezione di sinistra, quella in alto, \u00e8 presente un selettore periodo, che permetter\u00e0 all'utente di scegliere l'intervallo di date su cui consultare le statistiche dettagliate relative alle casse. Cliccando su di esso, si aprir\u00e0 un men\u00f9 a tendina con le seguenti voci:</p> <ul> <li>Oggi</li> <li>Ieri</li> <li>Ultimi 7 giorni</li> <li>Ultimi 30 giorni</li> <li>Mese corrente</li> <li>Mese scorso</li> <li>Intervallo</li> </ul> <p>La voce Intervallo \u00e8 quella che permette all'utente di inserire un intervallo temporale specifico al di fuori di quelli preimpostati.</p> <p></p> <p>All'apertura di ogni statistica il selettore periodo, di default, sar\u00e0 impostato sulla data odierna e le situazioni che si potranno verificare sono due:</p> <ul> <li>Assenza di dati</li> <li>Presenza di dati</li> </ul> <p>Come \u00e8 possibile vedere dall'immagine soprastante, in assenza di dati, verranno mostrati due messaggi di alert che avvertono l'utente del fatto che non sono presenti dati nell'intervallo di date scelto. Uno si trover\u00e0 nella prima sezione di sinistra al posto della tabella principale dei dati, mentre il secondo sar\u00e0 posizionato all'interno della seconda sezione di sinistra, dove dovrebbe trovarsi il grafico dell'incidenza sull'incasso. Inoltre, la tabella dei dati di vendita totali avr\u00e0 tutti i valori impostati a zero.</p> <p>In presenza di dati, invece, nella prima sezione di sinistra l'utente potr\u00e0 consultare la tabella principale dei dati suddivisi per cassa nell'intervallo temporale scelto, che avr\u00e0 i seguenti campi:</p> <ul> <li>Cassa: indica l'ID della cassa a cui si riferiscono i dati della riga;</li> <li>N\u00b0 scontrini: il numero di scontrini complessivo della cassa considerata;</li> <li>Incasso: l'incasso complessivo della cassa considerata;</li> <li>N\u00b0 prodotti: il numero di prodotti complessivo della cassa considerata;</li> <li>Sconti: il totale degli sconti apportato dai prodotti venduti in promozione, sia diretti che ripartiti, della cassa considerata. Include tutti gli sconti, anche i manuali;</li> <li>Incasso Fidelity: l'incasso complessivo relativo alle transazioni associate ad una Fidelity Card della cassa considerata. Tramite il simbolo di info posizionato accanto ai valori dell'incasso Fidelity \u00e8 anche possibile vedere l'incidenza Fidelity sull'incasso della cassa considerata;</li> <li>N\u00b0 scontrini annullati: il numero di scontrini annullati complessivo della cassa considerata;</li> <li>\u20ac Scontrini annullati: il valore economico complessivo degli scontrini annullati della cassa considerata;</li> <li>N\u00b0 note credito: il numero di note di credito complessivo della cassa considerata;</li> <li>\u20ac Note credito: il valore economico complessivo delle note di credito della cassa considerata;</li> <li>N\u00b0 gadget: il numero di gadget complessivo della cassa considerata;</li> <li>Pagamenti utenze: il valore complessivo dei pagamenti di bollette, multe et simili effettuati alla cassa considerata;</li> <li>Carte servizi: il valore economico complessivo di tutti quei servizi come abbonamenti, gift cards, ricariche in cassa et simili fruiti alla cassa considerata;</li> <li>Tempo medio battuta: il tempo medio, in secondi, che intercorre durante lo scontrino in cassa, tra il passaggio di un prodotto e un altro della cassa considerata;</li> <li>Valore battuta media: il valore medio della singola battuta in uno scontrino della cassa considerata.</li> </ul> <p>Nella seconda sezione di sinistra, in presenza di dati, verr\u00e0 mostrato il grafico dell'incidenza per cassa sull'incasso, nel quale sono presenti, per ogni cassa, il suo incasso complessivo e la sua incidenza rispetto all'incasso totale del punto vendita in analisi, nell'intervallo temporale scelto. Questi due dati saranno raffigurati mediante delle colonne, tipiche dei grafici a barre. Inoltre, all'interno di tale grafico, viene rappresentato anche l'andamento del numero degli scontrini per cassa tramite una linea continua, tipica dei grafici a linee. L'utente, posizionandosi con il cursore del mouse sopra le colonne di una determinata cassa, potr\u00e0 vedere attraverso un riquadro di suggerimento i valori esatti di tutti e tre i suoi dati. </p> <p></p> <p>Infine, nella colonna di destra, in presenza di dati, l'utente potr\u00e0 visualizzare la tabella dei dati di vendita totali, con i dati effettivi nell'intervallo temporale scelto, che \u00e8 composta dai seguenti campi:</p> <ul> <li>Incasso:  l'incasso totale del punto vendita in analisi;</li> <li>N\u00b0 scontrini:  il numero totale di scontrini del punto vendita in analisi;</li> <li>Incasso scontrino medio: il valore medio dell'incasso del  singolo scontrino del punto vendita in analisi;</li> <li>N\u00b0 prodotti: il numero totale di prodotti del punto vendita in analisi;</li> <li>Sconti: il totale degli sconti apportato dai prodotti venduti in promozione, sia diretti che ripartiti, del punto vendita in analisi. Include tutti gli sconti, anche i manuali;</li> <li>Incasso Fidelity: l'incasso totale relativo alle transazioni associate ad una Fidelity Card del punto vendita in analisi;</li> <li>N\u00b0 scontrini Fidelity: il numero totale di scontrini relativo alle transazioni associate ad una Fidelity Card del punto vendita in analisi;</li> <li>Sconti Fidelity: il totale degli sconti presenti nelle transazioni associate ad una Fidelity Card del punto vendita in analisi. Comprende tutti gli sconti, anche i manuali;</li> <li>Punti Fidelity: il valore totale dei punti emessi ai clienti Fidelity del punto vendita in analisi;</li> <li>Incidenza Fidelity sull'incasso: l'incidenza in percentuale dell'incasso relativo alle transazioni associate ad una Fidelity Card del punto vendita in analisi;</li> <li>N\u00b0 scontrini annullati: il numero totale di scontrini annullati del punto vendita in analisi;</li> <li>N\u00b0 note credito: il numero totale di note di credito del punto vendita in analisi;</li> <li>N\u00b0 gadget: il numero totale di gadget del punto vendita in analisi;</li> <li>N\u00b0 coupon emessi: il numero totale di coupon emessi del punto vendita in analisi;</li> <li>Valore coupon emessi: il valore economico totale dei coupon emessi del punto vendita in analisi;</li> <li>N\u00b0 coupon redenti: il numero totale di coupon redenti del punto vendita in analisi;</li> <li>Valore coupon redenti: il valore economico totale dei coupon redenti del punto vendita in analisi;</li> <li>Pagamenti utenze: il valore totale dei pagamenti di bollette, multe et simili effettuati nel punto vendita in analisi;</li> <li>Carte servizi: il valore economico totale di tutti quei servizi come abbonamenti, gift cards, ricariche in cassa et simili fruiti nel punto vendita in analisi.</li> </ul> <p>Una caratteristica peculiare di questa schermata \u00e8 rappresentata dalle schede nella sezione di sinistra.  Quest'ultime fungono da scorciatoia veloce per cambiare tra:</p> <ul> <li>La visualizzazione delle statistiche dettagliate raggruppate per casse</li> <li>La visualizzazione delle statistiche dettagliate raggruppate per operatori.</li> </ul> <p>Ogni schermata include, inoltre, delle colonne con valori dedicati al tipo di raggruppamento - cassa o operatore - selezionato. Usando la scorciatoia tramite scheda, l'utente potr\u00e0 evitare di doversi spostare nel men\u00f9 principale della WebApp.</p> <p>Verr\u00e0 inoltre mantenuto l'intervallo temporale scelto nel selettore periodo.</p> <p></p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#visualizzazione-mobile","title":"Visualizzazione mobile","text":"<p>In caso di utilizzo di un dispositivo mobile, il funzionamento della schermata delle statistiche relative alle casse \u00e8 il medesimo illustrato in questo paragrafo. L'unica differenza consiste nella visualizzazione delle sezioni principali della schermata. Infatti si avranno le due sezioni principali nuovamente una sopra l'altra, che per\u00f2 in questo caso occuperanno l'intero schermo del dispositivo mobile. </p> <p></p> <p>Per quanto riguarda, invece, la colonna riepilogativa ci sono due visualizzazioni possibili:</p> <ul> <li>In caso di dispositivo mobile di piccola taglia, tale colonna non sar\u00e0 presente nella schermata, per\u00f2 sar\u00e0 presente nella prima sezione principale, quella in alto, un bottone Totali, che al click aprir\u00e0 una finestra pop-up con la tabella dei dati di vendita totali.</li> </ul> <p></p> <ul> <li>In caso di dispositivo mobile di taglia media, tale colonna sar\u00e0 presente nella schermata sotto le due sezioni principali.</li> </ul> <p></p> <p>NOTA BENE: In caso si utilizzi un dispositivo mobile per visualizzare le statistiche relative alle casse si raccomanda l'utente di usare il dispositivo in posizione orizzontale, cos\u00ec da poter visualizzare il grafico in modo ottimale.</p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#statistiche-relative-agli-operatori","title":"Statistiche relative agli operatori","text":"<p>Selezionando Operatori nel men\u00f9 Statistiche della side bar oppure cliccando la voce Operatore della scheda presente nella prima sezione di sinistra nella schermata delle statistiche dettagliate relative alle casse, apparir\u00e0 la seguente schermata:</p> <p></p> <p>Tale schermata \u00e8 composta da due sezioni principali sulla sinistra ed una colonna riepilogativa sulla destra. Nella prima sezione di sinistra, quella in alto, \u00e8 presente il selettore periodo, che permetter\u00e0 all'utente di scegliere l'intervallo di date su cui consultare le statistiche dettagliate relative agli operatori. Cliccando su di esso, si aprir\u00e0 un men\u00f9 a tendina con le voci:</p> <ul> <li>Oggi</li> <li>Ieri</li> <li>Ultimi 7 giorni</li> <li>Ultimi 30 giorni</li> <li>Mese corrente</li> <li>Mese scorso</li> <li>Intervallo</li> </ul> <p>La voce Intervallo \u00e8 quella che permette all'utente di inserire un intervallo temporale specifico al di fuori di quelli preimpostati.</p> <p></p> <p>All'apertura di ogni statistica il selettore periodo, di default, sar\u00e0 impostato sulla data odierna e le situazioni che si potranno verificare sono due:</p> <ul> <li>Assenza di dati</li> <li>Presenza di dati</li> </ul> <p>In assenza di dati verranno mostrati due messaggi di alert che avvertono l'utente del fatto che non sono presenti dati nell'intervallo di date scelto. Uno si trover\u00e0 nella prima sezione di sinistra, al posto della tabella principale dei dati, mentre il secondo sar\u00e0 posizionato all'interno della seconda sezione di sinistra, dove dovrebbe trovarsi il grafico dell'incidenza sull'incasso. Inoltre, la tabella dei dati di vendita totali avr\u00e0 tutti i valori impostati a zero.</p> <p>In presenza di dati, invece, nella prima sezione di sinistra, l'utente potr\u00e0 consultare la tabella principale dei dati suddivisi per operatore nell'intervallo temporale scelto, che avr\u00e0 i seguenti campi:</p> <ul> <li>Operatore: indica l'ID e il nome dell'operatore a cui si riferiscono i dati della riga;</li> <li>N\u00b0 scontrini: il numero di scontrini complessivo emesso dall'operatore considerato;</li> <li>Incasso: l'incasso complessivo fatturato dall'operatore considerato;</li> <li>N\u00b0 prodotti: il numero di prodotti complessivo battuti dall'operatore considerato;</li> <li>Sconti: il totale degli sconti apportato dai prodotti venduti in promozione, sia diretti che ripartiti, dell'operatore considerato. Include tutti gli sconti, anche i manuali;</li> <li>Incasso Fidelity: l'incasso complessivo relativo alle transazioni associate ad una Fidelity Card, fatturato dall'operatore considerato. Tramite il simbolo di info posizionato accanto ai valori dell'incasso Fidelity \u00e8 anche possibile vedere l'incidenza Fidelity sull'incasso dell'operatore considerato;</li> <li>N\u00b0 scontrini annullati: il numero di scontrini annullati complessivo emesso dall'operatore considerato;</li> <li>\u20ac Scontrini annullati: il valore economico complessivo degli scontrini annullati raggiunto dall'operatore considerato;</li> <li>N\u00b0 note credito: il numero di note di credito complessivo emesso dall'operatore considerato;</li> <li>\u20ac Note credito: il valore economico complessivo delle note di credito raggiunto dall'operatore considerato;</li> <li>N\u00b0 gadget: il numero di gadget complessivi distribuiti dall'operatore considerato;</li> <li>Pagamenti utenze: il valore complessivo dei pagamenti di bollette, multe et simili raggiunto dall'operatore considerato;</li> <li>Carte servizi: il valore economico complessivo di tutti quei servizi come abbonamenti, gift cards, ricariche in cassa et simili usufruiti presso l'operatore considerato;</li> <li>Tempo medio battuta: il tempo medio, in secondi, che intercorre durante lo scontrino in cassa, tra il passaggio di un prodotto e un altro da parte dell'operatore considerato;</li> <li>Valore battuta media: il valore medio della singola battuta in uno scontrino relativo all'operatore considerato.</li> </ul> <p>Nella seconda sezione di sinistra, sempre in presenza di dati, verr\u00e0 mostrato il grafico dell'incidenza per operatore sull'incasso, nel quale sono presenti, per ogni operatore, l'incasso complessivo che ha fatturato e la sua incidenza rispetto all'incasso totale del punto vendita in analisi, nell'intervallo temporale scelto. Questi due dati saranno raffigurati mediante delle colonne, tipiche dei grafici a barre. Inoltre, all'interno di tale grafico, viene rappresentato anche l'andamento del numero degli scontrini per operatore tramite una linea continua, tipica dei grafici a linee. L'utente, posizionandosi con il cursore del mouse sopra le colonne di un determinato operatore, potr\u00e0 vedere attraverso un riquadro di suggerimento i valori esatti di tutti e tre tali dati. </p> <p></p> <p>Infine, nella colonna di destra, in presenza di dati, l'utente potr\u00e0 visualizzare la tabella dei dati di vendita totali, con i dati effettivi, che \u00e8 la stessa della schermata delle statistiche dettagliate relative alle casse, visto che le due schermate condividono questo componente. Per tale motivo, si rimanda al paragrafo precedente per la spiegazione approfondita dei vari campi.</p> <p>Anche in questa schermata rimane presente la scheda nella prima sezione di sinistra, che permette di cambiare tra la schermata delle statistiche dettagliate relative agli operatori e quella delle statistiche dettagliate relative alle casse, con lo stesso identico funzionamento illustrato nel paragrafo precedente.</p> <p></p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#visualizzazione-mobile_1","title":"Visualizzazione mobile","text":"<p>In caso di utilizzo di un dispositivo mobile, il funzionamento della schermata delle statistiche relative agli operatori \u00e8 il medesimo illustrato in questo paragrafo. L'unica differenza consiste nella visualizzazione delle sezioni principali della schermata. Infatti si avranno le due sezioni principali nuovamente una sopra l'altra, che per\u00f2 in questo caso occuperanno l'intero schermo del dispositivo mobile. </p> <p></p> <p>Per quanto riguarda, invece, la colonna riepilogativa ci sono due visualizzazioni possibili:</p> <ul> <li>In caso di dispositivo mobile di piccola taglia, tale colonna non sar\u00e0 presente nella schermata, per\u00f2 sar\u00e0 presente nella prima sezione principale, quella in alto, un bottone Totali, che al click aprir\u00e0 una finestra pop-up con la tabella dei dati di vendita totali.</li> </ul> <p></p> <ul> <li>In caso di dispositivo mobile di taglia media, tale colonna sar\u00e0 presente nella schermata sotto le due sezioni principali.</li> </ul> <p></p> <p>NOTA BENE: In caso si utilizzi un dispositivo mobile per visualizzare le statistiche relative agli operatori si raccomanda l'utente di usare il dispositivo in posizione orizzontale, cos\u00ec da poter visualizzare il grafico in modo ottimale.</p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#statistiche-relative-ai-reparti","title":"Statistiche relative ai reparti","text":"<p>Selezionando Reparti si aprir\u00e0 la seguente schermata:  </p> <p></p> <p>Questa schermata \u00e8 composta da due sezioni principali sulla sinistra ed una colonna riepilogativa sulla destra.</p> <p>A differenza delle altre schermate, nella prima sezione di sinistra, quella in alto, \u00e8 presente un filtro che permette all'utente di cercare solo i dati di alcuni reparti, inserendo delle parole chiave al suo interno. In questa schermata, di conseguenza, il selettore periodo, che permette all'utente di scegliere l'intervallo di date su cui consultare le statistiche dettagliate relative ai reparti, \u00e8 situato alla sinistra di tale filtro, sempre all'interno della stessa sezione. Si precisa che tale comportamento \u00e8 voluto.</p> <p>Cliccando sul selettore periodo, si aprir\u00e0 il men\u00f9 a tendina con le seguenti voci:</p> <ul> <li>Oggi</li> <li>Ieri</li> <li>Ultimi 7 giorni</li> <li>Ultimi 30 giorni</li> <li>Mese corrente</li> <li>Mese scorso</li> <li>Intervallo</li> </ul> <p>La voce Intervallo \u00e8 quella che permette all'utente di inserire un intervallo temporale specifico al di fuori di quelli preimpostati.</p> <p></p> <p>All'apertura di ogni statistica il selettore periodo, di default, sar\u00e0 impostato sulla data odierna e le situazioni che si potranno verificare sono due:</p> <ul> <li>Assenza di dati</li> <li>Presenza di dati</li> </ul> <p>In assenza di dati verranno mostrati due messaggi di alert che avvertono l'utente del fatto che non sono presenti dati nell'intervallo di date scelto. Uno si trover\u00e0 nella prima sezione di sinistra, al posto della tabella principale dei dati, mentre il secondo sar\u00e0 posizionato all'interno della seconda sezione di sinistra, dove dovrebbe trovarsi il grafico dell'incidenza sull'incasso. Inoltre, la tabella dei dati di vendita totali avr\u00e0 tutti i valori impostati a zero.</p> <p>In presenza di dati, invece, nella prima sezione di sinistra l'utente potr\u00e0 visualizzare la tabella principale dei dati suddivisi per reparto nell'intervallo temporale scelto, che avr\u00e0 i seguenti campi:</p> <ul> <li>Reparto: indica l'ID e il nome del reparto a cui si riferiscono i dati della riga;</li> <li>N\u00b0 scontrini: il numero di scontrini complessivo del reparto considerato;</li> <li>Incasso: l'incasso complessivo del reparto considerato;</li> <li>Incasso Promo: l'incasso complessivo del reparto considerato relativo ai soli prodotti venduti in promozione;</li> <li>Sconti: il totale degli sconti apportato dai prodotti venduti in promozione, sia diretti che ripartiti, del reparto considerato. Include tutti gli sconti, anche i manuali;</li> <li>Incidenza Promo: l'incidenza in percentuale dell'incasso relativo ai soli prodotti venduti in promozione del reparto considerato;</li> <li>Incasso Fidelity: l'incasso complessivo relativo alle transazioni associate ad una Fidelity Card del reparto considerato;</li> <li>Sconti Fidelity: il totale degli sconti presenti nelle transazioni associate ad una Fidelity Card del reparto considerato. Comprende tutti gli sconti, anche i manuali.</li> <li>Incidenza Fidelity: l'incidenza in percentuale dell'incasso relativo alle transazioni associate ad una Fidelity Card del reparto considerato;</li> <li>N\u00b0 Note Credito + N\u00b0 Storni: il numero di note credito complessivo insieme al numero di storni complessivo del reparto considerato, separati dal simbolo +.</li> </ul> <p></p> <p>Nella seconda sezione di sinistra, in presenza di dati, verr\u00e0 mostrato il grafico dell'incidenza per reparto sull'incasso, nel quale sono presenti, per ogni reparto, il suo incasso complessivo e la sua incidenza rispetto all'incasso totale del punto vendita in analisi, nell'intervallo temporale scelto. L'incasso complessivo del reparto sar\u00e0 rappresentato con una colonna tipica dei grafici a barre, mentre l'incidenza sar\u00e0 rappresentata con una linea continua tipica dei grafici a linee. L'utente, posizionandosi con il cursore del mouse sopra la colonna di un determinato reparto, potr\u00e0 vedere attraverso un riquadro di suggerimento i valori esatti di questi due dati. </p> <p></p> <p>Infine, nella colonna di destra, in presenza di dati, l'utente potr\u00e0 consultare la tabella dei dati di vendita totali, con i dati effettivi nell'intervallo temporale scelto, che \u00e8 composta dai seguenti campi:</p> <ul> <li>Incasso:  l'incasso totale del punto vendita in analisi;</li> <li>N\u00b0 scontrini:  il numero totale di scontrini del punto vendita in analisi;</li> <li>Sconti: il totale degli sconti apportato dai prodotti venduti in promozione, sia diretti che ripartiti, del punto vendita in analisi. Include tutti gli sconti, anche i manuali;</li> <li>Incasso Fidelity: l'incasso totale relativo alle transazioni associate ad una Fidelity Card del punto vendita in analisi;</li> <li>N\u00b0 scontrini Fidelity: il numero totale di scontrini relativo alle transazioni associate ad una Fidelity Card del punto vendita in analisi;</li> <li>Sconti Fidelity: il totale degli sconti presenti nelle transazioni associate ad una Fidelity Card del punto vendita in analisi. Comprende tutti gli sconti, anche i manuali;</li> <li>Punti Fidelity: il valore totale dei punti emessi ai clienti Fidelity del punto vendita in analisi;</li> <li>Incidenza Fidelity sull'incasso: l'incidenza in percentuale dell'incasso relativo alle transazioni associate ad una Fidelity Card del punto vendita in analisi;</li> <li>Incidenza Promo sull'incasso: l'incidenza in percentuale dell'incasso relativo ai soli prodotti venduti in promozione del punto vendita in analisi;</li> <li>N\u00b0 note credito: il numero totale di note di credito del punto vendita in analisi;</li> <li>N\u00b0 gadget: il numero totale di gadget del punto vendita in analisi;</li> <li>N\u00b0 coupon emessi: il numero totale di coupon emessi del punto vendita in analisi;</li> <li>Valore coupon emessi: il valore economico totale dei coupon emessi del punto vendita in analisi;</li> <li>N\u00b0 coupon redenti: il numero totale di coupon redenti del punto vendita in analisi;</li> <li>Valore coupon redenti: il valore economico totale dei coupon redenti del punto vendita in analisi.</li> </ul> <p>Una caratteristica unica di questa schermata \u00e8 il filtro nella prima sezione di sinistra. Questo permette all'utente, in presenza di dati, di consultare solo le statistiche di alcuni reparti nella tabella principale. Per fare ci\u00f2, sar\u00e0 necessario inserire delle parole chiave all'interno del filtro, che effettuer\u00e0 quindi una ricerca sul campo Reparto della tabella principale dei dati, mostrando poi in tale tabella solo le voci che avranno all'interno dell'ID o del nome del reparto le parole chiave digitate. Una nota importante da sottolineare \u00e8 che la ricerca sul campo Reparto viene eseguita solo sull'ID o sul nome del reparto, ma non su entrambi contemporaneamente. Si precisa che tale comportamento \u00e8 voluto.</p> <p></p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#visualizzazione-mobile_2","title":"Visualizzazione mobile","text":"<p>In caso di utilizzo di un dispositivo mobile, il funzionamento della schermata delle statistiche relative ai reparti \u00e8 il medesimo illustrato in questo paragrafo. L'unica differenza consiste nella visualizzazione delle sezioni principali della schermata. Infatti si avranno le due sezioni principali nuovamente una sopra l'altra, che per\u00f2 in questo caso occuperanno l'intero schermo del dispositivo mobile. </p> <p></p> <p>Per quanto riguarda, invece, la colonna riepilogativa ci sono due visualizzazioni possibili:</p> <ul> <li>In caso di dispositivo mobile di piccola taglia, tale colonna non sar\u00e0 presente nella schermata, per\u00f2 sar\u00e0 presente nella prima sezione principale, quella in alto, un bottone Totali di fianco al filtro per cercare i reparti, che al click aprir\u00e0 una finestra pop-up con la tabella dei dati di vendita totali.</li> </ul> <p></p> <ul> <li>In caso di dispositivo mobile di taglia media, tale colonna sar\u00e0 presente nella schermata sotto le due sezioni principali.</li> </ul> <p></p> <p>NOTA BENE: In caso si utilizzi un dispositivo mobile per visualizzare le statistiche relative ai reparti si raccomanda l'utente di usare il dispositivo in posizione orizzontale, cos\u00ec da poter visualizzare il grafico in modo ottimale.</p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#statistiche-relative-alliva","title":"Statistiche relative all'IVA","text":"<p>Selezionando IVA si acceder\u00e0 alla seguente schermata:</p> <p></p> <p>Questa schermata \u00e8 composta da due colonne, una maggiore sulla sinistra e una minore sulla destra. Nella colonna di sinistra \u00e8 presente il selettore periodo, che permetter\u00e0 all'utente di scegliere l'intervallo di date su cui consultare le statistiche dettagliate relative all'IVA. Cliccando su di esso, si aprir\u00e0 il men\u00f9 a tendina con le voci:</p> <ul> <li>Oggi</li> <li>Ieri</li> <li>Ultimi 7 giorni</li> <li>Ultimi 30 giorni</li> <li>Mese corrente</li> <li>Mese scorso</li> <li>Intervallo</li> </ul> <p>La voce Intervallo \u00e8 quella che permette all'utente di inserire un intervallo temporale specifico al di fuori di quelli preimpostati.</p> <p></p> <p>All'apertura di ogni statistica il selettore periodo, di default, sar\u00e0 impostato sulla data odierna e le situazioni che si potranno verificare sono due:</p> <ul> <li>Assenza di dati</li> <li>Presenza di dati</li> </ul> <p>In assenza di dati verranno mostrati due messaggi di alert che avvertono l'utente del fatto che non sono presenti dati nell'intervallo di date scelto. Uno si trover\u00e0 nella colonna di sinistra al posto della tabella principale dei dati, mentre il secondo sar\u00e0 posizionato all'interno della colonna di destra, dove dovrebbe trovarsi il grafico dell'incidenza sull'incasso. Inoltre, il valore dell'incasso totale nel riepilogo sar\u00e0 impostato a zero.</p> <p>In presenza di dati, invece, nella colonna di sinistra, l'utente potr\u00e0 consultare la tabella principale dei dati suddivisi per aliquota IVA nell'intervallo temporale scelto. Tale tabella \u00e8 composta dai seguenti campi:</p> <ul> <li>ID: indica l'ID dell'aliquota IVA a cui si riferiscono i dati della riga:</li> <li>Descrizione: la descrizione dell'aliquota IVA considerata;</li> <li>Valore aliquota: il valore percentuale dell'aliquota IVA considerata;</li> <li>Incasso: l'incasso complessivo netto associato all'aliquota IVA considerata;</li> <li>Ammontare imposta: il gettito IVA, per l'aliquota considerata, maturato dal venduto. \u00c8 espresso come valore economico complessivo in euro.</li> </ul> <p>Nella colonna di destra, in presenza di dati, si avr\u00e0 unicamente il riepilogo dell'incasso totale del punto vendita in analisi nell'intervallo temporale scelto. Inoltre, al di sotto di questo, verr\u00e0 mostrato il grafico dell'incidenza dell'IVA sull'incasso, nel quale sono presenti, per ogni valore dell'aliquota IVA, l'ammontare complessivo dell'imposta e la sua incidenza rispetto all'incasso totale del punto vendita in analisi, nell'intervallo di tempo preso in considerazione. Questi due dati saranno raffigurati mediante delle colonne, tipiche dei grafici a barre, e avranno delle etichette che mostrano sulla colonna il valore numerico del dato. Oltre a ci\u00f2, l'utente, posizionandosi con il cursore del mouse sopra le colonne di un determinato operatore, potr\u00e0 vedere attraverso un riquadro di suggerimento i valori esatti di tali dati.</p> <p></p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#visualizzazione-mobile_3","title":"Visualizzazione mobile","text":"<p>In caso di utilizzo di un dispositivo mobile, il funzionamento della schermata delle statistiche relative all'IVA \u00e8 il medesimo illustrato in questo paragrafo. L'unica differenza consiste nella visualizzazione delle due colonne che componevano la schermata, che in questo caso diventano due sezioni una sotto l'altra, mantenendosi per\u00f2 inalterate nei contenuti.</p> <p></p> <p>NOTA BENE: In caso si utilizzi un dispositivo mobile per visualizzare le statistiche relative all'IVA si raccomanda l'utente di usare il dispositivo in posizione orizzontale, cos\u00ec da poter visualizzare il grafico in modo ottimale.</p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#statistiche-relative-al-prospetto-finanziario","title":"Statistiche relative al prospetto finanziario","text":"<p>Selezionando Prospetto finanziario apparir\u00e0 la seguente schermata:</p> <p></p> <p>Questa schermata \u00e8 composta da due sezioni principali sulla sinistra ed una colonna riepilogativa sulla destra. Nella prima sezione di sinistra, quella in alto, \u00e8 presente il selettore periodo, che permetter\u00e0 all'utente di scegliere l'intervallo di date su cui consultare le statistiche dettagliate relative al prospetto finanziario. Cliccando su di esso, si aprir\u00e0 il men\u00f9 a tendina con le seguenti voci:</p> <ul> <li>Oggi</li> <li>Ieri</li> <li>Ultimi 7 giorni</li> <li>Ultimi 30 giorni</li> <li>Mese corrente</li> <li>Mese scorso</li> <li>Intervallo</li> </ul> <p>La voce Intervallo \u00e8 quella che permette all'utente di inserire un intervallo temporale specifico al di fuori di quelli preimpostati.</p> <p></p> <p>All'apertura di ogni statistica il selettore periodo, di default, sar\u00e0 impostato sulla data odierna e le situazioni che si potranno verificare sono due:</p> <ul> <li>Assenza di dati</li> <li>Presenza di dati</li> </ul> <p>In assenza di dati verranno mostrati due messaggi di alert che avvertono l'utente del fatto che non sono presenti dati nell'intervallo temporale scelto. Uno si trover\u00e0 nella prima sezione di sinistra al posto delle tabelle principali dei dati, mentre il secondo sar\u00e0 posizionato all'interno della seconda sezione di sinistra, dove dovrebbe trovarsi il grafico dell'incidenza sull'incasso. Inoltre, la tabella dei dati totali del prospetto finanziario avr\u00e0 tutti i valori impostati a zero.</p> <p>In presenza di dati, invece, nella prima sezione di sinistra l'utente potr\u00e0 visualizzare le varie tabelle principali che contengono i dati del prospetto finanziario nell'intervallo temporale scelto. In cima alla sezione sar\u00e0 sempre presente la tabella del riepilogo complessivo dei dati finanziari nell'intervallo di date considerato. A seguire, subito sotto, ci saranno tante tabelle quanti sono gli operatori che hanno effettuato operazioni finanziare nell'intervallo temporale scelto, tenendo presente che queste tabelle sono paginate in modo da avere sempre quattro operatori per pagina.  Cos\u00ec facendo, si avr\u00e0 sempre un totale massimo di cinque tabelle nella prima sezione di sinistra, visto che quella del riepilogo complessivo rimarr\u00e0 sempre invariata e fissa sopra le quattro dei singoli operatori, che invece varieranno da pagina a pagina.</p> <p>NOTA BENE: Se gli operatori che hanno effettuato operazioni finanziarie nell'intervallo di tempo considerato sono meno di cinque, non ci sar\u00e0 il meccanismo di paginazione essendo tutti gli operatori in un'unica pagina.</p> <p>Sia la tabella del riepilogo complessivo, che quelle dei singoli operatori, hanno gli stessi campi e questi sono:</p> <ul> <li>Descrizione: indica l'ID e il tipo di pagamento a cui si riferiscono i dati della riga;</li> <li>Fondo cassa: il valore economico complessivo del fondo cassa riguardante il solo tipo di pagamento considerato;</li> <li>Versamenti: il valore economico complessivo dei versamenti riguardanti il solo tipo di pagamento considerato;</li> <li>Prelievi: il valore economico complessivo dei prelievi riguardanti il solo tipo di pagamento considerato;</li> <li>Cassetto: indica la quantit\u00e0 di denaro residua nel cassetto per il tipo di pagamento considerato se la statistica \u00e8 consultata a fine turno, mentre, se la statistica \u00e8 consultata durante il turno, rappresenta la quantit\u00e0 di denaro disponibile nel cassetto per il tipo di pagamento considerato. Tramite il simbolo di info posizionato accanto al titolo del campo \u00e8 anche possibile vedere la formula matematica con la quale viene calcolato tale valore;</li> <li> <p>Incasso: l'incasso complessivo con il tipo di pagamento considerato. In caso siano presenti gli arrotondamenti RT, tramite il simbolo di info, posizionato accanto al valore dell'incasso, \u00e8 anche possibile consultare il corrispettivo fiscale (privo quindi di arrotondamenti) e la somma complessiva sull'incasso di tali arrotondamenti RT;</p> <p></p> </li> <li> <p>Ammontare note credito: il valore economico complessivo delle note di credito emesse con il tipo di pagamento considerato. In caso siano presenti gli arrotondamenti RT, tramite il simbolo di info posizionato accanto al valore economico delle note di credito \u00e8 anche possibile consultare il corrispettivo fiscale, privo quindi di arrotondamenti, e la somma complessiva sull'ammontare delle note di credito di tali arrotondamenti RT;</p> </li> <li>Incidenza: l'incidenza in percentuale del tipo di pagamento considerato rispetto all'incasso totale del punto vendita in analisi.</li> </ul> <p></p> <p>Nella seconda sezione di sinistra, in presenza di dati, verr\u00e0 mostrato il grafico dell'incidenza dei pagamenti sull'incasso, nel quale sono presenti, per ogni tipologia di pagamento, l'incasso complessivo con essa, inclusi eventuali arrotondamenti RT, e la sua incidenza rispetto all'incasso totale del punto vendita in analisi, nell'intervallo di date scelto. Questi due dati saranno raffigurati mediante delle colonne, tipiche dei grafici a barre. L'utente, posizionandosi con il cursore del mouse sopra le colonne di una determinata tipologia di pagamento, potr\u00e0 vedere attraverso un riquadro di suggerimento i valori esatti di entrambi i dati.</p> <p></p> <p>Infine, nella colonna di destra, in presenza di dati, l'utente potr\u00e0 visualizzare la tabella dei dati totali del prospetto finanziario, con i dati effettivi nell'intervallo temporale scelto. Tale tabella \u00e8 composta dai seguenti campi:</p> <ul> <li>Incasso: l'incasso totale del punto vendita in analisi, inclusi eventuali arrotondamenti RT;</li> <li>Note credito: il valore economico totale delle note di credito del punto vendita in analisi, inclusi eventuali arrotondamenti RT;</li> <li>N\u00b0 note credito: il numero totale di note di credito del punto vendita in analisi;</li> <li>Corrispettivo fiscale: rappresenta il totale delle vendite fiscali restituite dal registratore telematico (stampante RT);</li> <li>Corrispettivo note credito: rappresenta il totale delle note di credito fiscali emesse restituite dal registratore telematico (stampante RT);</li> <li>Arrotondamenti RT: il valore economico totale dei vari arrotondamenti RT, sia quelli applicati agli incassi che alle note di credito;</li> <li>Fondo cassa: il valore economico totale del fondo cassa complessivo del punto vendita in analisi;</li> <li>Versamenti: il valore economico totale dei versamenti complessivi effettuati nel punto vendita in analisi;</li> <li>Prelievi: il valore economico totale dei prelievi complessivi effettuati nel punto vendita in analisi;</li> <li>N\u00b0 operatori: il numero totale di operatori del punto vendita in analisi.</li> </ul> <p></p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#visualizzazione-mobile_4","title":"Visualizzazione mobile","text":"<p>In caso di utilizzo di un dispositivo mobile, ci saranno due possibili visualizzazioni a seconda della dimensione del dispositivo mobile utilizzato.  Se il dispositivo mobile \u00e8 di taglia media, il funzionamento della schermata delle statistiche relative al prospetto finanziario \u00e8 il medesimo illustrato in questo paragrafo. L'unica differenza consiste nella visualizzazione delle sezioni principali e della colonna riepilogativa della schermata. Infatti si avranno le due sezioni principali nuovamente una sopra l'altra, che per\u00f2 in questo caso occuperanno l'intero schermo del dispositivo mobile e a seguire, subito al di sotto di esse, sar\u00e0 presente la colonna del riepilogo totale.</p> <p></p> <p>In caso di dispositivo di piccola taglia, invece, non solo cambier\u00e0 la visualizzazione della schermata, ma anche il meccanismo di funzionamento di alcune componenti. </p> <p></p> <p>Innanzitutto, per quanto riguarda la visualizzazione, anche in questo caso si avranno le due sezioni principali una sopra l'altra, che per\u00f2 occuperanno l'intero schermo del dispositivo mobile. La colonna riepilogativa, invece, non sar\u00e0 presente nella schermata, ma sar\u00e0 presente un bottone Totali nella prima sezione principale, quella in alto, che al click aprir\u00e0 una finestra pop-up con la tabella dei dati di vendita totali.</p> <p></p> <p>Riguardo al funzionamento, se il dispositivo mobile \u00e8 di piccola taglia, la prima sezione principale non conterr\u00e0 fino a un massimo di cinque tabelle per pagina come nella visualizzazione desktop, ma mostrer\u00e0 sempre un'unica tabella, che per\u00f2 potr\u00e0 essere cambiata tramite il men\u00f9 a tendina dell'operatore di fianco al bottone Totali. </p> <p></p> <p>\u00c8 importante sottolineare che in assenza di dati il men\u00f9 a tendina conterr\u00e0 unicamente la voce standard Riepilogo, che mostra il riepilogo complessivo, ma al posto della tabella sar\u00e0 presente il classico messaggio di alert che avverte l'utente del fatto che non sono presenti dati nell'intervallo temporale scelto.</p> <p>NOTA BENE: In caso si utilizzi un dispositivo mobile per visualizzare le statistiche relative al prospetto finanziario si raccomanda l'utente di usare il dispositivo in posizione orizzontale, cos\u00ec da poter visualizzare il grafico in modo ottimale.</p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#statistiche-relative-alle-fasce-orarie","title":"Statistiche relative alle fasce orarie","text":"<p>Selezionando Fasce orarie si aprir\u00e0 la seguente schermata:</p> <p></p> <p>Questa schermata \u00e8 composta da due sezioni principali sulla sinistra ed una colonna riepilogativa sulla destra. Nella prima sezione di sinistra, quella in alto, \u00e8 presente il selettore periodo, che permetter\u00e0 all'utente di scegliere l'intervallo di date su cui consultare le statistiche dettagliate relative alle fasce orarie. Cliccando su di esso, si aprir\u00e0 il men\u00f9 a tendina con le seguenti voci:</p> <ul> <li>Oggi</li> <li>Ieri</li> <li>Ultimi 7 giorni</li> <li>Ultimi 30 giorni</li> <li>Mese corrente</li> <li>Mese scorso</li> <li>Intervallo</li> </ul> <p>La voce Intervallo \u00e8 quella che permette all'utente di inserire un intervallo temporale specifico al di fuori di quelli preimpostati.</p> <p></p> <p>All'apertura di ogni statistica il selettore periodo, di default, sar\u00e0 impostato sulla data odierna e le situazioni che si potranno verificare sono due:</p> <ul> <li>Assenza di dati</li> <li>Presenza di dati</li> </ul> <p>In assenza di dati verranno mostrati due messaggi di alert che avvertono l'utente del fatto che non sono presenti dati nell'intervallo temporale scelto. Uno si trover\u00e0 nella prima sezione di sinistra al posto della tabella principale dei dati, mentre il secondo sar\u00e0 posizionato all'interno della seconda sezione di sinistra, dove dovrebbe trovarsi il grafico dell'incidenza sull'incasso. Inoltre, la tabella dei dati di vendita totali avr\u00e0 tutti i valori impostati a zero.</p> <p>In presenza di dati, invece, nella prima sezione di sinistra l'utente potr\u00e0 consultare la tabella principale dei dati suddivisi per fascia oraria nell'intervallo temporale scelto, che avr\u00e0 i seguenti campi:</p> <ul> <li>Intervallo: indica la fascia oraria a cui si riferiscono i dati della riga;</li> <li>N\u00b0 scontrini: il numero di scontrini complessivo nella fascia oraria considerata;</li> <li>Incasso: l'incasso complessivo nella fascia oraria considerata;</li> <li>Incasso Fidelity: l'incasso complessivo relativo alle transazioni associate ad una Fidelity Card nella fascia oraria considerata. Tramite il simbolo di info posizionato accanto ai valori dell'incasso Fidelity \u00e8 anche possibile vedere l'incidenza Fidelity sull'incasso nella fascia oraria considerata;</li> <li>N\u00b0 note credito: il numero di note di credito complessivo nella fascia oraria considerata.</li> </ul> <p></p> <p>Nella seconda sezione di sinistra, in presenza di dati, verr\u00e0 mostrato il grafico dell'incidenza per fascia oraria sull'incasso, nel quale sono presenti, per ogni fascia oraria, l'incasso complessivo in essa e la sua incidenza rispetto all'incasso totale del punto vendita in analisi, nell'intervallo di date scelto. Questi due dati saranno raffigurati mediante delle colonne, tipiche dei grafici a barre. L'utente, posizionandosi con il cursore del mouse sopra le colonne di una determinata fascia oraria, potr\u00e0 vedere attraverso un riquadro di suggerimento i valori esatti di entrambi i dati. </p> <p></p> <p>Infine, nella colonna di destra, in presenza di dati, l'utente potr\u00e0 visualizzare la tabella dei dati di vendita totali, con i dati effettivi nell'intervallo temporale scelto. Tale tabella \u00e8 composta dai seguenti campi:</p> <ul> <li>Incasso:  l'incasso totale del punto vendita in analisi;</li> <li>N\u00b0 scontrini:  il numero totale di scontrini del punto vendita in analisi;</li> <li>Sconti: il totale degli sconti apportato dai prodotti venduti in promozione, sia diretti che ripartiti, del punto vendita in analisi. Include tutti gli sconti, anche i manuali;</li> <li>Incasso Fidelity: l'incasso totale relativo alle transazioni associate ad una Fidelity Card del punto vendita in analisi;</li> <li>N\u00b0 scontrini Fidelity: il numero totale di scontrini relativo alle transazioni associate ad una Fidelity Card del punto vendita in analisi;</li> <li>Sconti Fidelity: il totale degli sconti presenti nelle transazioni associate ad una Fidelity Card del punto vendita in analisi. Comprende tutti gli sconti, anche i manuali;</li> <li>Punti Fidelity: il valore totale dei punti emessi ai clienti Fidelity del punto vendita in analisi;</li> <li>Incidenza Fidelity sull'incasso: l'incidenza in percentuale dell'incasso relativo alle transazioni associate ad una Fidelity Card del punto vendita in analisi;</li> <li>N\u00b0 note credito: il numero totale di note di credito del punto vendita in analisi;</li> <li>N\u00b0 gadget: il numero totale di gadget del punto vendita in analisi;</li> <li>N\u00b0 coupon emessi: il numero totale di coupon emessi del punto vendita in analisi;</li> <li>Valore coupon emessi: il valore economico totale dei coupon emessi del punto vendita in analisi;</li> <li>N\u00b0 coupon redenti: il numero totale di coupon redenti del punto vendita in analisi;</li> <li>Valore coupon redenti: il valore economico totale dei coupon redenti del punto vendita in analisi.</li> </ul> <p>Una caratteristica peculiare di questa schermata \u00e8 rappresentata dalle schede nella sezione di sinistra.  Quest'ultime fungono da scorciatoia veloce per cambiare tra:</p> <ul> <li>La visualizzazione delle statistiche dettagliate raggruppate per fasce orarie</li> <li>La visualizzazione delle statistiche dettagliate raggruppate per fasce scontrino.</li> </ul> <p>Ogni schermata include, inoltre, delle colonne con valori dedicati al tipo di raggruppamento - fascia oraria o fascia scontrino - selezionato. Usando la scorciatoia tramite scheda, l'utente potr\u00e0 evitare di doversi spostare nel men\u00f9 principale della WebApp.</p> <p>Verr\u00e0 inoltre mantenuto l'intervallo temporale scelto nel selettore periodo.</p> <p></p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#visualizzazione-mobile_5","title":"Visualizzazione mobile","text":"<p>In caso di utilizzo di un dispositivo mobile, il funzionamento della schermata delle statistiche relative alle fasce orarie \u00e8 il medesimo illustrato in questo paragrafo. L'unica differenza consiste nella visualizzazione delle sezioni principali della schermata. Infatti si avranno le due sezioni principali nuovamente una sopra l'altra, che per\u00f2 in questo caso occuperanno l'intero schermo del dispositivo mobile. </p> <p></p> <p>Per quanto riguarda, invece, la colonna riepilogativa ci sono due visualizzazioni possibili:</p> <ul> <li>In caso di dispositivo mobile di piccola taglia, tale colonna non sar\u00e0 presente nella schermata, per\u00f2 sar\u00e0 presente nella prima sezione principale, quella in alto, un bottone Totali, che al click aprir\u00e0 una finestra pop-up con la tabella dei dati di vendita totali.</li> </ul> <p></p> <ul> <li>In caso di dispositivo mobile di taglia media, tale colonna sar\u00e0 presente nella schermata sotto le due sezioni principali.</li> </ul> <p></p> <p>NOTA BENE: In caso si utilizzi un dispositivo mobile per visualizzare le statistiche relative alle fasce orarie si raccomanda l'utente di usare il dispositivo in posizione orizzontale, cos\u00ec da poter visualizzare il grafico in modo ottimale.</p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#statistiche-relative-alle-fasce-scontrino","title":"Statistiche relative alle fasce scontrino","text":"<p>Selezionando Fasce scontrino nel men\u00f9 Statistiche della side bar oppure cliccando la voce Scontrino della scheda presente nella prima sezione di sinistra nella schermata delle statistiche dettagliate relative alle fasce orarie, apparir\u00e0 la seguente schermata:</p> <p></p> <p>Tale schermata \u00e8 composta da due sezioni principali sulla sinistra ed una colonna riepilogativa sulla destra. Nella prima sezione di sinistra, quella in alto, \u00e8 presente il selettore periodo, che permetter\u00e0 all'utente di scegliere l'intervallo di date su cui consultare le statistiche dettagliate relative alle fasce scontrino. Cliccando su di esso, si aprir\u00e0 il men\u00f9 a tendina con le voci:</p> <ul> <li>Oggi</li> <li>Ieri</li> <li>Ultimi 7 giorni</li> <li>Ultimi 30 giorni</li> <li>Mese corrente</li> <li>Mese scorso</li> <li>Intervallo</li> </ul> <p>La voce Intervallo \u00e8 quella che permette all'utente di inserire un intervallo temporale specifico al di fuori di quelli preimpostati.</p> <p></p> <p>All'apertura di ogni statistica il selettore periodo, di default, sar\u00e0 impostato sulla data odierna e le situazioni che si potranno verificare sono due:</p> <ul> <li>Assenza di dati</li> <li>Presenza di dati</li> </ul> <p>In assenza di dati verranno mostrati due messaggi di alert che avvertono l'utente del fatto che non sono presenti dati nell'intervallo di date scelto. Uno si trover\u00e0 nella prima sezione di sinistra al posto della tabella principale dei dati, mentre il secondo sar\u00e0 posizionato all'interno della seconda sezione di sinistra, dove dovrebbe trovarsi il grafico dell'incidenza sull'incasso. Inoltre, la tabella dei dati di vendita totali avr\u00e0 tutti i valori impostati a zero.</p> <p>In presenza di dati, invece, nella prima sezione di sinistra l'utente potr\u00e0 visualizzare la tabella principale dei dati suddivisi per fascia scontrino nell'intervallo temporale scelto, che avr\u00e0 i seguenti campi:</p> <ul> <li>Intervallo: indica la fascia scontrino a cui si riferiscono i dati della riga;</li> <li>N\u00b0 scontrini: il numero di scontrini complessivo nella fascia scontrino considerata;</li> <li>Incasso: l'incasso complessivo nella fascia scontrino considerata;</li> <li>Incasso Fidelity: l'incasso complessivo relativo alle transazioni associate ad una Fidelity Card nella fascia scontrino considerata. Tramite il simbolo di info posizionato accanto ai valori dell'incasso Fidelity \u00e8 anche possibile vedere l'incidenza Fidelity sull'incasso nella fascia scontrino considerata;</li> <li>N\u00b0 note credito: il numero di note di credito complessivo nella fascia scontrino considerata.</li> </ul> <p></p> <p>Nella seconda sezione di sinistra, in presenza di dati, verr\u00e0 mostrato il grafico dell'incidenza per fascia scontrino sull'incasso, nel quale sono presenti, per ogni fascia scontrino, l'incasso complessivo in essa e la sua incidenza rispetto all'incasso totale del punto vendita in analisi, nell'intervallo di date scelto. Questi due dati saranno raffigurati mediante delle colonne, tipiche dei grafici a barre. L'utente, posizionandosi con il cursore del mouse sopra le colonne di una determinata fascia scontrino, potr\u00e0 vedere attraverso un riquadro di suggerimento i valori esatti di entrambi i dati.</p> <p></p> <p>Infine, nella colonna di destra, in presenza di dati, l'utente potr\u00e0 visualizzare la tabella dei dati di vendita totali, con i dati effettivi, che \u00e8 la stessa della schermata delle statistiche dettagliate relative alle fasce orarie, visto che le due schermate condividono questo componente. Per tale motivo, si rimanda al paragrafo precedente per la spiegazione approfondita dei vari campi.</p> <p>Anche in questa schermata rimane presente la scheda nella prima sezione di sinistra, che permette di cambiare tra la schermata delle statistiche dettagliate relative alle fasce scontrino e quella delle statistiche dettagliate relative alle fasce orarie, con lo stesso identico funzionamento illustrato nel paragrafo precedente.</p> <p></p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#visualizzazione-mobile_6","title":"Visualizzazione mobile","text":"<p>In caso di utilizzo di un dispositivo mobile, il funzionamento della schermata delle statistiche relative alle fasce scontrino \u00e8 il medesimo illustrato in questo paragrafo. L'unica differenza consiste nella visualizzazione delle sezioni principali della schermata. Infatti si avranno le due sezioni principali nuovamente una sopra l'altra, che per\u00f2 in questo caso occuperanno l'intero schermo del dispositivo mobile. </p> <p></p> <p>Per quanto riguarda, invece, la colonna riepilogativa ci sono due visualizzazioni possibili:</p> <ul> <li>In caso di dispositivo mobile di piccola taglia, tale colonna non sar\u00e0 presente nella schermata, per\u00f2 sar\u00e0 presente nella prima sezione principale, quella in alto, un bottone Totali, che al click aprir\u00e0 una finestra pop-up con la tabella dei dati di vendita totali.</li> </ul> <p></p> <ul> <li>In caso di dispositivo mobile di taglia media, tale colonna sar\u00e0 presente nella schermata sotto le due sezioni principali.</li> </ul> <p></p> <p>NOTA BENE: In caso si utilizzi un dispositivo mobile per visualizzare le statistiche relative alle fasce scontrino si raccomanda l'utente di usare il dispositivo in posizione orizzontale, cos\u00ec da poter visualizzare il grafico in modo ottimale.</p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#trobleshooting-per-i-tecnici","title":"Trobleshooting per i tecnici","text":"","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#errore-generico-delle-statistiche-dettagliate","title":"Errore generico delle statistiche dettagliate","text":"<p>In caso si verifichino degli errori durante l'utilizzo della funzionalit\u00e0 dedicata alla visualizzazione delle statistiche dettagliate comparir\u00e0 a schermo un messaggio generico di errore che indica l'impossibilit\u00e0 di ricevere i dati, con al di sotto di esso un pulsante per provare a ricaricare la schermata.</p> <p></p> <p>Prima di premere il pulsante Riprova, si consiglia di effettuare le seguenti verifiche per cercare di individuare la fonte che ha causato l'errore durante la richiesta delle statistiche dettagliate.</p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#verifica-della-connettivita-lato-server","title":"Verifica della connettivit\u00e0 lato server","text":"<p>Assicurarsi che lo StoreServer sia operativo e perfettamente funzionante, per far s\u00ec che le chiamate arrivino a destinazione.</p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#verifica-della-connettivita-lato-client-in-caso-di-dispositivo-remoto","title":"Verifica della connettivit\u00e0 lato client in caso di dispositivo remoto","text":"<p>In caso la WebApp sia installata su un dispositivo remoto, ossia un dispositivo diverso da quello in cui \u00e8 installato lo StoreServer, assicurarsi che la connessione ad Internet sia operativa e stabile. Controllare, inoltre, che il dispositivo remoto sia collegato sulla stessa rete logica dello StoreServer.</p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#verifica-della-connettivita-del-database","title":"Verifica della connettivit\u00e0 del database","text":"<p>Se le precedenti verifiche sono andate a buon fine, provare a dirigersi tramite la side bar sinistra della WebApp su Stato servizi, raggiungibile tramite la relativa icona, e controllare se la voce Database risulta essere online. In caso negativo, assicurarsi che sia il provider sia la Connection string siano corretti.</p> <p></p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#individuare-eventuali-messaggi-di-errore","title":"Individuare eventuali messaggi di errore","text":"<p>Per individuare eventuali messaggi di errore, si possono provare due approcci distinti:</p> <ul> <li> <p>Consultare dal browser che si sta utilizzando la voce Rete (Network) degli Strumenti per sviluppatori</p> </li> <li> <p>Controllare il log dello StoreServer alla ricerca di una riga in cui sia presente la dicitura ERROR</p> </li> </ul>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#mancanza-di-dati-in-un-determinato-intervallo-di-tempo","title":"Mancanza di dati in un determinato intervallo di tempo","text":"<p>Se si consultassero le statistiche dettagliate di un intervallo temporale in cui si sia convinti della presenza di dati, ma la schermata mostrasse comunque i classici messaggi di alert, che avvertono l'utente del fatto che non sono presenti dati nell'intervallo scelto, bisogna consultare il database. </p> <p></p> <p>Aprire quindi il database a cui \u00e8 collegato lo StoreServer e verificare la presenza di dati nella tabella transactionslogextra nell'intervallo di date scelto, tramite una query veloce. In caso i dati non siano presenti nella tabella, ma si continui ad essere certi della presenza di tali dati in quell'intervallo temporale, assicurarsi che le casse siano online e soprattutto che trasmettano i dati correttamente allo StoreServer. Se le casse funzionano senza problemi, il motivo della mancanza dei dati potrebbe essere dovuto a una perdita di dati. Consultare, quindi, il paragrafo successivo per la gestione di questa casistica.</p> <p>In caso le statistiche dettagliate che si stiano cercando di visualizzare siano quelle relative ai reparti, la tabella del database che deve essere consultata non sar\u00e0 transactionslogextra, ma la tabella scontrini.  In caso i dati non siano presenti nella tabella, bisogna verificare a sua volta se la tabella log del database contiene tali dati. Se la tabella log contiene i dati, ma la tabella scontrini non li ha, consultare la guida relativa al funzionamento della tabella scontrini. Se, invece, nessuna delle due tabelle contiene i dati, verificare anche in questo caso la corretta comunicazione tra le casse e lo StoreServer, visto che i dati non stanno arrivando.</p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/main-module/statistiche-dettagliate.html#perdita-di-dati","title":"Perdita di dati","text":"<p>In caso di perdita di dati recenti, c'\u00e8 la possibilit\u00e0 di far rinviare tali dati dalle casse allo StoreServer. Per fare ci\u00f2 bisogna andare nella tabella tabparametriextra del database cassa di Posware e reimpostare due parametri. Tali parametri fanno entrambi parte del modulo posware.services.txlog e sono i seguenti:</p> <ul> <li>outlinesChunkSize: determina la quantit\u00e0 di transazioni che la cassa deve mandare allo StoreServer ad ogni invio;</li> <li>outlinesUpdatedAtOffset: rappresenta la data dell'ultimo record inviato dalla cassa allo StoreServer e quindi le prossime transazioni inviate avranno necessariamente data maggiore o uguale di quella attualmente registrata in questo parametro.</li> </ul> <p>Detto ci\u00f2, in caso si voglia rinviare i dati persi recentemente dalla cassa allo StoreServer, sar\u00e0 necessario chiudere Posware, cambiare la data registrata nel parametro outlinesUpdatedAtOffset e riaprire Posware. Cos\u00ec facendo, i dati verranno rinviati dalla cassa allo StoreServer a partire dalla data appena reimpostata.</p> <p>NOTA BENE: Nel recupero dei dati persi \u00e8 fondamentale considerare che si possono ripristinare solo ed unicamente i dati fino a un MASSIMO di 30 giorni precedenti alla data attuale, visto che Posware elimina i dati oltre i 30 giorni dalle casse </p>","tags":["Posware","StoreServer"]},{"location":"posware-modules/posware-frontend/argentea-satispay.html","title":"Posware Frontend - Argentea Satispay","text":"<p>Prima revisione documento: 9 maggio 2025 Ultima revisione documento: 21 maggio 2025</p>","tags":["Frontend","Argentea","Satispay"]},{"location":"posware-modules/posware-frontend/argentea-satispay.html#cenni-preliminari","title":"Cenni preliminari","text":"<p>Il presente documento descrive come configurare Posware per accettare pagamenti tramite Satispay, utilizzando il modulo Argentea Satispay. Il processo include la configurazione del database e l'aggiornamento dell'interfaccia utente della cassa.</p>","tags":["Frontend","Argentea","Satispay"]},{"location":"posware-modules/posware-frontend/argentea-satispay.html#configurazione-del-database","title":"Configurazione del Database","text":"<p>Per abilitare Argentea Satispay come metodo di pagamento, \u00e8 necessario aggiornare le seguenti tabelle:</p>","tags":["Frontend","Argentea","Satispay"]},{"location":"posware-modules/posware-frontend/argentea-satispay.html#tabella-tipi_pagamenti-sia-databasecassa-che-posware","title":"Tabella <code>tipi_pagamenti</code> (sia database<code>cassa</code> che <code>posware</code>)","text":"<ul> <li> <p>Argentea Satispay:</p> <ul> <li><code>codice</code>: valore intero univoco non utilizzato da altri metodi di pagamento</li> <li><code>descrizione</code>: \"Argentea Satispay\" o descrizione equivalente</li> <li><code>PagTipo</code>: 11</li> <li><code>tipoPagRT</code>: 1</li> </ul> </li> <li> <p>Ticket numerati:</p> <ul> <li><code>codice</code>: valore intero univoco non utilizzato da altri metodi di pagamento</li> <li><code>descrizione</code>: \"TicketCounter\" o descrizione equivalente</li> <li><code>ticket</code>: \"SI\"</li> <li><code>obbligatorio</code>: true</li> <li><code>tipoPagRT</code>: 4</li> </ul> </li> </ul>","tags":["Frontend","Argentea","Satispay"]},{"location":"posware-modules/posware-frontend/argentea-satispay.html#tabella-tabparametriextra-databasecassa","title":"Tabella <code>tabparametriextra</code> (database<code>cassa</code>)","text":"Modulo Parametro Valore EPPLIB PROTOCOLLO AR EPPLIB satispayBpeEnabled 1 EPPLIB satispayBpeMaxNumber 8 EPPLIB satispayBpePaymentCode Codice del tipo di pagamento \"Ticket numerati\" EPPLIB satispayDummyType 0","tags":["Frontend","Argentea","Satispay"]},{"location":"posware-modules/posware-frontend/argentea-satispay.html#interfaccia-utente-della-cassa","title":"Interfaccia Utente della cassa","text":"<p>Aggiungere un pulsante alla grafica di Posware ed agganciarci il pagamento Argentea Satispay.</p>","tags":["Frontend","Argentea","Satispay"]},{"location":"posware-modules/posware-frontend/argentea-satispay.html#workflow-di-utilizzo","title":"Workflow di Utilizzo","text":"<ol> <li>Premere il tasto SUBTOTALE sulla cassa</li> <li>Inserire l'importo da pagare con Argentea Satispay</li> <li>Selezionare il pulsante dedicato ad Argentea Satispay</li> <li>Sul display del POS apparir\u00e0 un QR Code</li> <li>Il cliente scansioner\u00e0 il QR Code utilizzando l'app di Satispay per completare il pagamento</li> </ol>","tags":["Frontend","Argentea","Satispay"]},{"location":"posware-modules/posware-frontend/fatturazione-immediata.html","title":"Posware Frontend - Fatturazione immediata","text":"<p>Prima revisione documento: 26 aprile 2024 Ultima revisione documento: 21 maggio 2025</p>","tags":["Frontend"]},{"location":"posware-modules/posware-frontend/fatturazione-immediata.html#glossario","title":"Glossario","text":"<ul> <li>WebApp: applicazione web che offre la possibilit\u00e0 di gestire in modo centralizzato le funzionalit\u00e0 disponibili nel StoreServer;</li> <li>PoswareModule: plug-in del StoreServer dedicato alla gestione del PPC;</li> <li>SdI: si tratta del Sistema di Interscambio. Gestito dall'Agenzia delle Entrate, \u00e8 un sistema informatico in grado di ricevere e inoltrare le fatture ed effettuare controlli sui file ricevuti;</li> <li>Cedente: l'azienda che genera ed emette la fattura, anche chiamato a volte Fornitore;</li> <li>Fornitore: si intende sempre il Cedente, i termini sono intercambiabili ed usati entrambi nel documento per riferirsi alla stessa cosa;</li> <li>Cessionario: l'entit\u00e0 che riceve la fattura e che quindi di fatto effettua l'acquisto;</li> <li>PA: Pubblica Amministrazione;</li> <li>AdE: Agenzia delle Entrate; </li> </ul>","tags":["Frontend"]},{"location":"posware-modules/posware-frontend/nota-di-credito.html","title":"Posware Frontend - Nota di credito","text":"<p>Prima revisione documento: 26 aprile 2024 Ultima revisione documento: 21 maggio 2025</p>","tags":["Frontend"]},{"location":"posware-modules/posware-frontend/nota-di-credito.html#glossario","title":"Glossario","text":"<ul> <li>WebApp: applicazione web che offre la possibilit\u00e0 di gestire in modo centralizzato le funzionalit\u00e0 disponibili nel StoreServer;</li> <li>PoswareModule: plug-in del StoreServer dedicato alla gestione del PPC;</li> <li>SdI: si tratta del Sistema di Interscambio. Gestito dall'Agenzia delle Entrate, \u00e8 un sistema informatico in grado di ricevere e inoltrare le fatture ed effettuare controlli sui file ricevuti;</li> <li>Cedente: l'azienda che genera ed emette la fattura, anche chiamato a volte Fornitore;</li> <li>Fornitore: si intende sempre il Cedente, i termini sono intercambiabili ed usati entrambi nel documento per riferirsi alla stessa cosa;</li> <li>Cessionario: l'entit\u00e0 che riceve la fattura e che quindi di fatto effettua l'acquisto;</li> <li>PA: Pubblica Amministrazione;</li> <li>AdE: Agenzia delle Entrate; </li> </ul>","tags":["Frontend"]}]}